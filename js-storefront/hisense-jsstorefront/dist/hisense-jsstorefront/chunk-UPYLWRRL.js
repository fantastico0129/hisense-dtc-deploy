var NF=Object.create;var ug=Object.defineProperty,PF=Object.defineProperties,FF=Object.getOwnPropertyDescriptor,_F=Object.getOwnPropertyDescriptors,LF=Object.getOwnPropertyNames,Zc=Object.getOwnPropertySymbols,SD=Object.getPrototypeOf,lg=Object.prototype.hasOwnProperty,ID=Object.prototype.propertyIsEnumerable,kF=Reflect.get;var CD=(t,e,i)=>e in t?ug(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,v=(t,e)=>{for(var i in e||={})lg.call(e,i)&&CD(t,i,e[i]);if(Zc)for(var i of Zc(e))ID.call(e,i)&&CD(t,i,e[i]);return t},T=(t,e)=>PF(t,_F(e));var DD=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var dg=(t,e)=>{var i={};for(var n in t)lg.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&Zc)for(var n of Zc(t))e.indexOf(n)<0&&ID.call(t,n)&&(i[n]=t[n]);return i};var bD=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var jF=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of LF(e))!lg.call(t,r)&&r!==i&&ug(t,r,{get:()=>e[r],enumerable:!(n=FF(e,r))||n.enumerable});return t};var UF=(t,e,i)=>(i=t!=null?NF(SD(t)):{},jF(e||!t||!t.__esModule?ug(i,"default",{value:t,enumerable:!0}):i,t));var I9=(t,e,i)=>kF(SD(t),i,e);var nt=(t,e,i)=>new Promise((n,r)=>{var s=c=>{try{a(i.next(c))}catch(u){r(u)}},o=c=>{try{a(i.throw(c))}catch(u){r(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,o);a((i=i.apply(t,e)).next())});var VM=bD((yi,BM)=>{"use strict";var Qd=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,Jd=function(){function t(){this.fetch=!1,this.DOMException=Qd.DOMException}return t.prototype=Qd,new t}();(function(t){var e=function(i){var n=typeof t<"u"&&t||typeof self<"u"&&self||typeof n<"u"&&n,r={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function s(D){return D&&DataView.prototype.isPrototypeOf(D)}if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(D){return D&&o.indexOf(Object.prototype.toString.call(D))>-1};function c(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(D)||D==="")throw new TypeError('Invalid character in header field name: "'+D+'"');return D.toLowerCase()}function u(D){return typeof D!="string"&&(D=String(D)),D}function l(D){var N={next:function(){var ne=D.shift();return{done:ne===void 0,value:ne}}};return r.iterable&&(N[Symbol.iterator]=function(){return N}),N}function f(D){this.map={},D instanceof f?D.forEach(function(N,ne){this.append(ne,N)},this):Array.isArray(D)?D.forEach(function(N){this.append(N[0],N[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(N){this.append(N,D[N])},this)}f.prototype.append=function(D,N){D=c(D),N=u(N);var ne=this.map[D];this.map[D]=ne?ne+", "+N:N},f.prototype.delete=function(D){delete this.map[c(D)]},f.prototype.get=function(D){return D=c(D),this.has(D)?this.map[D]:null},f.prototype.has=function(D){return this.map.hasOwnProperty(c(D))},f.prototype.set=function(D,N){this.map[c(D)]=u(N)},f.prototype.forEach=function(D,N){for(var ne in this.map)this.map.hasOwnProperty(ne)&&D.call(N,this.map[ne],ne,this)},f.prototype.keys=function(){var D=[];return this.forEach(function(N,ne){D.push(ne)}),l(D)},f.prototype.values=function(){var D=[];return this.forEach(function(N){D.push(N)}),l(D)},f.prototype.entries=function(){var D=[];return this.forEach(function(N,ne){D.push([ne,N])}),l(D)},r.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function h(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function p(D){return new Promise(function(N,ne){D.onload=function(){N(D.result)},D.onerror=function(){ne(D.error)}})}function y(D){var N=new FileReader,ne=p(N);return N.readAsArrayBuffer(D),ne}function b(D){var N=new FileReader,ne=p(N);return N.readAsText(D),ne}function w(D){for(var N=new Uint8Array(D),ne=new Array(N.length),ye=0;ye<N.length;ye++)ne[ye]=String.fromCharCode(N[ye]);return ne.join("")}function R(D){if(D.slice)return D.slice(0);var N=new Uint8Array(D.byteLength);return N.set(new Uint8Array(D)),N.buffer}function V(){return this.bodyUsed=!1,this._initBody=function(D){this.bodyUsed=this.bodyUsed,this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:r.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:r.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():r.arrayBuffer&&r.blob&&s(D)?(this._bodyArrayBuffer=R(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||a(D))?this._bodyArrayBuffer=R(D):this._bodyText=D=Object.prototype.toString.call(D):this._bodyText="",this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var D=h(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var D=h(this);return D||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(y)}),this.text=function(){var D=h(this);if(D)return D;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(ue)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(D){var N=D.toUpperCase();return k.indexOf(N)>-1?N:D}function te(D,N){if(!(this instanceof te))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N=N||{};var ne=N.body;if(D instanceof te){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,N.headers||(this.headers=new f(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!ne&&D._bodyInit!=null&&(ne=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new f(N.headers)),this.method=H(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ne)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ne),(this.method==="GET"||this.method==="HEAD")&&(N.cache==="no-store"||N.cache==="no-cache")){var ye=/([?&])_=[^&]*/;if(ye.test(this.url))this.url=this.url.replace(ye,"$1_="+new Date().getTime());else{var we=/\?/;this.url+=(we.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}te.prototype.clone=function(){return new te(this,{body:this._bodyInit})};function ue(D){var N=new FormData;return D.trim().split("&").forEach(function(ne){if(ne){var ye=ne.split("="),we=ye.shift().replace(/\+/g," "),de=ye.join("=").replace(/\+/g," ");N.append(decodeURIComponent(we),decodeURIComponent(de))}}),N}function fe(D){var N=new f,ne=D.replace(/\r?\n[\t ]+/g," ");return ne.split("\r").map(function(ye){return ye.indexOf(`
`)===0?ye.substr(1,ye.length):ye}).forEach(function(ye){var we=ye.split(":"),de=we.shift().trim();if(de){var Sr=we.join(":").trim();N.append(de,Sr)}}),N}V.call(te.prototype);function Ne(D,N){if(!(this instanceof Ne))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.ok=this.status>=200&&this.status<300,this.statusText=N.statusText===void 0?"":""+N.statusText,this.headers=new f(N.headers),this.url=N.url||"",this._initBody(D)}V.call(Ne.prototype),Ne.prototype.clone=function(){return new Ne(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},Ne.error=function(){var D=new Ne(null,{status:0,statusText:""});return D.type="error",D};var Ai=[301,302,303,307,308];Ne.redirect=function(D,N){if(Ai.indexOf(N)===-1)throw new RangeError("Invalid status code");return new Ne(null,{status:N,headers:{location:D}})},i.DOMException=n.DOMException;try{new i.DOMException}catch{i.DOMException=function(N,ne){this.message=N,this.name=ne;var ye=Error(N);this.stack=ye.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function Bn(D,N){return new Promise(function(ne,ye){var we=new te(D,N);if(we.signal&&we.signal.aborted)return ye(new i.DOMException("Aborted","AbortError"));var de=new XMLHttpRequest;function Sr(){de.abort()}de.onload=function(){var He={status:de.status,statusText:de.statusText,headers:fe(de.getAllResponseHeaders()||"")};He.url="responseURL"in de?de.responseURL:He.headers.get("X-Request-URL");var tn="response"in de?de.response:de.responseText;setTimeout(function(){ne(new Ne(tn,He))},0)},de.onerror=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},de.ontimeout=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},de.onabort=function(){setTimeout(function(){ye(new i.DOMException("Aborted","AbortError"))},0)};function ft(He){try{return He===""&&n.location.href?n.location.href:He}catch{return He}}de.open(we.method,ft(we.url),!0),we.credentials==="include"?de.withCredentials=!0:we.credentials==="omit"&&(de.withCredentials=!1),"responseType"in de&&(r.blob?de.responseType="blob":r.arrayBuffer&&we.headers.get("Content-Type")&&we.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(de.responseType="arraybuffer")),N&&typeof N.headers=="object"&&!(N.headers instanceof f)?Object.getOwnPropertyNames(N.headers).forEach(function(He){de.setRequestHeader(He,u(N.headers[He]))}):we.headers.forEach(function(He,tn){de.setRequestHeader(tn,He)}),we.signal&&(we.signal.addEventListener("abort",Sr),de.onreadystatechange=function(){de.readyState===4&&we.signal.removeEventListener("abort",Sr)}),de.send(typeof we._bodyInit>"u"?null:we._bodyInit)})}return Bn.polyfill=!0,n.fetch||(n.fetch=Bn,n.Headers=f,n.Request=te,n.Response=Ne),i.Headers=f,i.Request=te,i.Response=Ne,i.fetch=Bn,i}({})})(Jd);Jd.fetch.ponyfill=!0;delete Jd.fetch.polyfill;var vo=Qd.fetch?Qd:Jd;yi=vo.fetch;yi.default=vo.fetch;yi.fetch=vo.fetch;yi.Headers=vo.Headers;yi.Request=vo.Request;yi.Response=vo.Response;BM.exports=yi});var zM=bD((qE,HM)=>{"use strict";var Xd;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Xd=global.fetch:typeof window<"u"&&window.fetch?Xd=window.fetch:Xd=fetch);typeof DD<"u"&&typeof window>"u"&&(dc=Xd||VM(),dc.default&&(dc=dc.default),qE.default=dc,HM.exports=qE.default);var dc});function Y(t){return typeof t=="function"}function Qc(t){return t&&Y(t.schedule)}function fg(t){return t[t.length-1]}function Jr(t){return Y(fg(t))?t.pop():void 0}function Vn(t){return Qc(fg(t))?t.pop():void 0}function wD(t,e){return typeof fg(t)=="number"?t.pop():e}function x9(t,e,i,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s}function O9(t,e){return function(i,n){e(i,n,t)}}function AD(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):r(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function TD(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ri(t){return this instanceof Ri?(this.v=t,this):new Ri(t)}function RD(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(p){return function(y){return Promise.resolve(y).then(p,f)}}function a(p,y){n[p]&&(r[p]=function(b){return new Promise(function(w,R){s.push([p,b,w,R])>1||c(p,b)})},y&&(r[p]=y(r[p])))}function c(p,y){try{u(n[p](y))}catch(b){h(s[0][3],b)}}function u(p){p.value instanceof Ri?Promise.resolve(p.value.v).then(l,f):h(s[0][2],p)}function l(p){c("next",p)}function f(p){c("throw",p)}function h(p,y){p(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function MD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof TD=="function"?TD(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(s){i[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ss=t=>t&&typeof t.length=="number"&&typeof t!="function";function Jc(t){return Y(t?.then)}function Xr(t){let i=t(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var Xc=Xr(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function Ir(t,e){if(t){let i=t.indexOf(e);0<=i&&t.splice(i,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let s of i)s.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(Y(n))try{n()}catch(s){e=s instanceof Xc?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{xD(s)}catch(o){e=e??[],o instanceof Xc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Xc(e)}}add(e){var i;if(e&&e!==this)if(this.closed)xD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(e)}}_hasParent(e){let{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){let{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&Ir(i,e)}remove(e){let{_finalizers:i}=this;i&&Ir(i,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var hg=Ee.EMPTY;function eu(t){return t instanceof Ee||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function xD(t){Y(t)?t():t.unsubscribe()}var En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Is={setTimeout(t,e,...i){let{delegate:n}=Is;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){let{delegate:e}=Is;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function tu(t){Is.setTimeout(()=>{let{onUnhandledError:e}=En;if(e)e(t);else throw t})}function zt(){}var OD=pg("C",void 0,void 0);function ND(t){return pg("E",void 0,t)}function PD(t){return pg("N",t,void 0)}function pg(t,e,i){return{kind:t,value:e,error:i}}var Mi=null;function Ds(t){if(En.useDeprecatedSynchronousErrorHandling){let e=!Mi;if(e&&(Mi={errorThrown:!1,error:null}),t(),e){let{errorThrown:i,error:n}=Mi;if(Mi=null,i)throw n}}else t()}function FD(t){En.useDeprecatedSynchronousErrorHandling&&Mi&&(Mi.errorThrown=!0,Mi.error=t)}var xi=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,eu(e)&&e.add(this)):this.destination=VF}static create(e,i,n){return new Dr(e,i,n)}next(e){this.isStopped?mg(PD(e),this):this._next(e)}error(e){this.isStopped?mg(ND(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mg(OD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$F=Function.prototype.bind;function gg(t,e){return $F.call(t,e)}var vg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){nu(n)}}error(e){let{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){nu(n)}else nu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){nu(i)}}},Dr=class extends xi{constructor(e,i,n){super();let r;if(Y(e)||!e)r={next:e??void 0,error:i??void 0,complete:n??void 0};else{let s;this&&En.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&gg(e.next,s),error:e.error&&gg(e.error,s),complete:e.complete&&gg(e.complete,s)}):r=e}this.destination=new vg(r)}};function nu(t){En.useDeprecatedSynchronousErrorHandling?FD(t):tu(t)}function BF(t){throw t}function mg(t,e){let{onStoppedNotification:i}=En;i&&Is.setTimeout(()=>i(t,e))}var VF={closed:!0,next:zt,error:BF,complete:zt};var bs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xe(t){return t}function yg(...t){return Eg(t)}function Eg(t){return t.length===0?Xe:t.length===1?t[0]:function(i){return t.reduce((n,r)=>r(n),i)}}var z=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,r){let s=zF(i)?i:new Dr(i,n,r);return Ds(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=_D(n),new n((r,s)=>{let o=new Dr({next:a=>{try{i(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[bs](){return this}pipe(...i){return Eg(i)(this)}toPromise(i){return i=_D(i),new i((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return t.create=e=>new t(e),t})();function _D(t){var e;return(e=t??En.Promise)!==null&&e!==void 0?e:Promise}function HF(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function zF(t){return t&&t instanceof xi||HF(t)&&eu(t)}function ru(t){return Y(t[bs])}function iu(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function su(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ou=GF();function au(t){return Y(t?.[ou])}function cu(t){return RD(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:n,done:r}=yield Ri(i.read());if(r)return yield Ri(void 0);yield yield Ri(n)}}finally{i.releaseLock()}})}function uu(t){return Y(t?.getReader)}function K(t){if(t instanceof z)return t;if(t!=null){if(ru(t))return WF(t);if(Ss(t))return qF(t);if(Jc(t))return YF(t);if(iu(t))return LD(t);if(au(t))return KF(t);if(uu(t))return ZF(t)}throw su(t)}function WF(t){return new z(e=>{let i=t[bs]();if(Y(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qF(t){return new z(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}function YF(t){return new z(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,tu)})}function KF(t){return new z(e=>{for(let i of t)if(e.next(i),e.closed)return;e.complete()})}function LD(t){return new z(e=>{QF(t,e).catch(i=>e.error(i))})}function ZF(t){return LD(cu(t))}function QF(t,e){var i,n,r,s;return AD(this,void 0,void 0,function*(){try{for(i=MD(t);n=yield i.next(),!n.done;){let o=n.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}e.complete()})}function Et(t,e,i,n=0,r=!1){let s=e.schedule(function(){i(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!r)return s}function Cg(t){return Y(t?.lift)}function _(t){return e=>{if(Cg(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function F(t,e,i,n,r){return new Go(t,e,i,n,r)}var Go=class extends xi{constructor(e,i,n,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function nn(t,e=0){return _((i,n)=>{i.subscribe(F(n,r=>Et(n,t,()=>n.next(r),e),()=>Et(n,t,()=>n.complete(),e),r=>Et(n,t,()=>n.error(r),e)))})}function lu(t,e=0){return _((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function kD(t,e){return K(t).pipe(lu(e),nn(e))}function jD(t,e){return K(t).pipe(lu(e),nn(e))}function UD(t,e){return new z(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}function $D(t,e){return new z(i=>{let n;return Et(i,e,()=>{n=t[ou](),Et(i,e,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){i.error(o);return}s?i.complete():i.next(r)},0,!0)}),()=>Y(n?.return)&&n.return()})}function du(t,e){if(!t)throw new Error("Iterable cannot be null");return new z(i=>{Et(i,e,()=>{let n=t[Symbol.asyncIterator]();Et(i,e,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function BD(t,e){return du(cu(t),e)}function VD(t,e){if(t!=null){if(ru(t))return kD(t,e);if(Ss(t))return UD(t,e);if(Jc(t))return jD(t,e);if(iu(t))return du(t,e);if(au(t))return $D(t,e);if(uu(t))return BD(t,e)}throw su(t)}function he(t,e){return e?VD(t,e):K(t)}function I(...t){let e=Vn(t);return he(t,e)}function E(t,e){return _((i,n)=>{let r=0;i.subscribe(F(n,s=>{n.next(t.call(e,s,r++))}))})}var{isArray:JF}=Array,{getPrototypeOf:XF,prototype:e_,keys:t_}=Object;function fu(t){if(t.length===1){let e=t[0];if(JF(e))return{args:e,keys:null};if(n_(e)){let i=t_(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}function n_(t){return t&&typeof t=="object"&&XF(t)===e_}var{isArray:r_}=Array;function i_(t,e){return r_(e)?t(...e):t(e)}function ws(t){return E(e=>i_(t,e))}function hu(t,e){return t.reduce((i,n,r)=>(i[n]=e[r],i),{})}function Pe(...t){let e=Vn(t),i=Jr(t),{args:n,keys:r}=fu(t);if(n.length===0)return he([],e);let s=new z(s_(n,e,r?o=>hu(r,o):Xe));return i?s.pipe(ws(i)):s}function s_(t,e,i=Xe){return n=>{HD(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)HD(e,()=>{let u=he(t[c],e),l=!1;u.subscribe(F(n,f=>{s[c]=f,l||(l=!0,a--),a||n.next(i(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function HD(t,e,i){t?Et(i,t,e):e()}function x(t,e){return _((i,n)=>{let r=0;i.subscribe(F(n,s=>t.call(e,s,r++)&&n.next(s)))})}var pe=new z(t=>t.complete());function oe(t){return t<=0?()=>pe:_((e,i)=>{let n=0;e.subscribe(F(i,r=>{++n<=t&&(i.next(r),t<=n&&i.complete())}))})}function rn(t,e=Xe){return t=t??o_,_((i,n)=>{let r,s=!0;i.subscribe(F(n,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,n.next(o))}))})}function o_(t,e){return t===e}function zD(t,e,i,n,r,s,o,a){let c=[],u=0,l=0,f=!1,h=()=>{f&&!c.length&&!u&&e.complete()},p=b=>u<n?y(b):c.push(b),y=b=>{s&&e.next(b),u++;let w=!1;K(i(b,l++)).subscribe(F(e,R=>{r?.(R),s?p(R):e.next(R)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<n;){let R=c.shift();o?Et(e,o,()=>y(R)):y(R)}h()}catch(R){e.error(R)}}))};return t.subscribe(F(e,p,()=>{f=!0,h()})),()=>{a?.()}}function G(t,e,i=1/0){return Y(e)?G((n,r)=>E((s,o)=>e(n,s,r,o))(K(t(n,r))),i):(typeof e=="number"&&(i=e),_((n,r)=>zD(n,r,t,i)))}function Hn(t=1/0){return G(Xe,t)}function GD(){return Hn(1)}function zn(...t){return GD()(he(t,Vn(t)))}function Gn(...t){let e=Vn(t);return _((i,n)=>{(e?zn(t,i,e):zn(t,i)).subscribe(n)})}function O(t,e){return _((i,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();i.subscribe(F(n,c=>{r?.unsubscribe();let u=0,l=s++;K(t(c,l)).subscribe(r=F(n,f=>n.next(e?e(c,f,l,u++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function a_(t,e=!1){return _((i,n)=>{let r=0;i.subscribe(F(n,s=>{let o=t(s,r++);(o||e)&&n.next(s),!o&&n.complete()}))})}function L(t,e,i){let n=Y(t)||e||i?{next:t,error:e,complete:i}:t;return n?_((r,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;r.subscribe(F(s,c=>{var u;(u=n.next)===null||u===void 0||u.call(n,c),s.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),s.complete()},c=>{var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),s.error(c)},()=>{var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Xe}function Ts(){return _((t,e)=>{let i=null;t._refCount++;let n=F(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){i=null;return}let r=t._connection,s=i;i=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}var ei=class extends z{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,Cg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let i=this.getSubject();e.add(this.source.subscribe(F(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return Ts()(this)}};var As={schedule(t){let e=requestAnimationFrame,i=cancelAnimationFrame,{delegate:n}=As;n&&(e=n.requestAnimationFrame,i=n.cancelAnimationFrame);let r=e(s=>{i=void 0,t(s)});return new Ee(()=>i?.(r))},requestAnimationFrame(...t){let{delegate:e}=As;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=As;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var WD=Xr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=(()=>{class t extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new pu(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new WD}next(i){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:s}=this;return n||r?hg:(this.currentObservers=null,s.push(i),new Ee(()=>{this.currentObservers=null,Ir(s,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:s}=this;n?i.error(r):s&&i.complete()}asObservable(){let i=new z;return i.source=this,i}}return t.create=(e,i)=>new pu(e,i),t})(),pu=class extends re{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)}error(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)}complete(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)}_subscribe(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:hg}};var Te=class extends re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){let{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Wo={now(){return(Wo.delegate||Date).now()},delegate:void 0};var sn=class extends re{constructor(e=1/0,i=1/0,n=Wo){super(),this._bufferSize=e,this._windowTime=i,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,i)}next(e){let{isStopped:i,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;i||(n.push(e),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let i=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=n?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),i}_trimBuffer(){let{_bufferSize:e,_timestampProvider:i,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<n.length&&n.splice(0,n.length-s),!r){let o=i.now(),a=0;for(let c=1;c<n.length&&n[c]<=o;c+=2)a=c;a&&n.splice(0,a+1)}}};var gu=class extends Ee{constructor(e,i){super()}schedule(e,i=0){return this}};var qo={setInterval(t,e,...i){let{delegate:n}=qo;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){let{delegate:e}=qo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Wn=class extends gu{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,i),this}requestAsyncId(e,i,n=0){return qo.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&qo.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let n=!1,r;try{this.work(e)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,Ir(n,this),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}};var c_=1,Sg,Ig={};function qD(t){return t in Ig?(delete Ig[t],!0):!1}var YD={setImmediate(t){let e=c_++;return Ig[e]=!0,Sg||(Sg=Promise.resolve()),Sg.then(()=>qD(e)&&t()),e},clearImmediate(t){qD(t)}};var{setImmediate:u_,clearImmediate:l_}=YD,Yo={setImmediate(...t){let{delegate:e}=Yo;return(e?.setImmediate||u_)(...t)},clearImmediate(t){let{delegate:e}=Yo;return(e?.clearImmediate||l_)(t)},delegate:void 0};var mu=class extends Wn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,n=0){return n!==null&&n>0?super.requestAsyncId(e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=Yo.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,i,n);let{actions:s}=e;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(Yo.clearImmediate(i),e._scheduled===i&&(e._scheduled=void 0))}};var Rs=class t{constructor(e,i=t.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}};Rs.now=Wo.now;var qn=class extends Rs{constructor(e,i=Rs.now){super(e,i),this.actions=[],this._active=!1}flush(e){let{actions:i}=this;if(this._active){i.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}};var vu=class extends qn{flush(e){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;e=e||n.shift();do if(r=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw r}}};var Dg=new vu(mu);var Gt=new qn(Wn),KD=Gt;var yu=class extends Wn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}schedule(e,i=0){return i>0?super.schedule(e,i):(this.delay=i,this.state=e,this.scheduler.flush(this),this)}execute(e,i){return i>0||this.closed?super.execute(e,i):this._execute(e,i)}requestAsyncId(e,i,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(e,i,n):(e.flush(this),0)}};var Eu=class extends qn{};var ti=new Eu(yu);var Cu=class extends Wn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,n=0){return n!==null&&n>0?super.requestAsyncId(e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=As.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,i,n);let{actions:s}=e;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(As.cancelAnimationFrame(i),e._scheduled=void 0)}};var Su=class extends qn{flush(e){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;e=e||n.shift();do if(r=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw r}}};var d_=new Su(Cu);function At(t,e){let i=Y(t)?t:()=>t,n=r=>r.error(i());return new z(e?r=>e.schedule(n,0,r):n)}var ni=class t{constructor(e,i,n){this.kind=e,this.value=i,this.error=n,this.hasValue=e==="N"}observe(e){return bg(this,e)}do(e,i,n){let{kind:r,value:s,error:o}=this;return r==="N"?e?.(s):r==="E"?i?.(o):n?.()}accept(e,i,n){var r;return Y((r=e)===null||r===void 0?void 0:r.next)?this.observe(e):this.do(e,i,n)}toObservable(){let{kind:e,value:i,error:n}=this,r=e==="N"?I(i):e==="E"?At(()=>n):e==="C"?pe:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new t("N",e)}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}};ni.completeNotification=new ni("C");function bg(t,e){var i,n,r;let{kind:s,value:o,error:a}=t;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(i=e.next)===null||i===void 0||i.call(e,o):s==="E"?(n=e.error)===null||n===void 0||n.call(e,a):(r=e.complete)===null||r===void 0||r.call(e)}function Oi(t){return!!t&&(t instanceof z||Y(t.lift)&&Y(t.subscribe))}var Cn=Xr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Yn(t,e){let i=typeof e=="object";return new Promise((n,r)=>{let s=!1,o;t.subscribe({next:a=>{o=a,s=!0},error:r,complete:()=>{s?n(o):i?n(e.defaultValue):r(new Cn)}})})}function Iu(t){return t instanceof Date&&!isNaN(t)}var Du=Xr(t=>function(i=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i});function Ko(t,e){let{first:i,each:n,with:r=f_,scheduler:s=e??Gt,meta:o=null}=Iu(t)?{first:t}:typeof t=="number"?{each:t}:t;if(i==null&&n==null)throw new TypeError("No timeout provided.");return _((a,c)=>{let u,l,f=null,h=0,p=y=>{l=Et(c,s,()=>{try{u.unsubscribe(),K(r({meta:o,lastValue:f,seen:h})).subscribe(c)}catch(b){c.error(b)}},y)};u=a.subscribe(F(c,y=>{l?.unsubscribe(),h++,c.next(f=y),n>0&&p(n)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),f=null})),!h&&p(i!=null?typeof i=="number"?i:+i-s.now():n)})}function f_(t){throw new Du(t)}function qe(t){return new z(e=>{K(t()).subscribe(e)})}var h_={connector:()=>new re,resetOnDisconnect:!0};function bu(t,e=h_){let i=null,{connector:n,resetOnDisconnect:r=!0}=e,s=n(),o=new z(a=>s.subscribe(a));return o.connect=()=>((!i||i.closed)&&(i=qe(()=>t).subscribe(s),r&&i.add(()=>s=n())),i),o}function wu(...t){let e=Jr(t),{args:i,keys:n}=fu(t),r=new z(s=>{let{length:o}=i;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let f=!1;K(i[l]).subscribe(F(s,h=>{f||(f=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(n?hu(n,a):a),s.complete())}))}});return e?r.pipe(ws(e)):r}var p_=["addListener","removeListener"],g_=["addEventListener","removeEventListener"],m_=["on","off"];function Zo(t,e,i,n){if(Y(i)&&(n=i,i=void 0),n)return Zo(t,e,i).pipe(ws(n));let[r,s]=E_(t)?g_.map(o=>a=>t[o](e,a,i)):v_(t)?p_.map(ZD(t,e)):y_(t)?m_.map(ZD(t,e)):[];if(!r&&Ss(t))return G(o=>Zo(o,e,i))(K(t));if(!r)throw new TypeError("Invalid event target");return new z(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function ZD(t,e){return i=>n=>t[i](e,n)}function v_(t){return Y(t.addListener)&&Y(t.removeListener)}function y_(t){return Y(t.on)&&Y(t.off)}function E_(t){return Y(t.addEventListener)&&Y(t.removeEventListener)}function Qo(t,e,i){return qe(()=>t()?e:i)}function Wt(t=0,e,i=KD){let n=-1;return e!=null&&(Qc(e)?i=e:n=e),new z(r=>{let s=Iu(t)?+t-i.now():t;s<0&&(s=0);let o=0;return i.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function C_(t=0,e=Gt){return t<0&&(t=0),Wt(t,t,e)}function on(...t){let e=Vn(t),i=wD(t,1/0),n=t;return n.length?n.length===1?K(n[0]):Hn(i)(he(n,e)):pe}var wg=new z(zt);var{isArray:S_}=Array;function Tu(t){return t.length===1&&S_(t[0])?t[0]:t}function Tg(...t){return t=Tu(t),t.length===1?K(t[0]):new z(I_(t))}function I_(t){return e=>{let i=[];for(let n=0;i&&!e.closed&&n<t.length;n++)i.push(K(t[n]).subscribe(F(e,r=>{if(i){for(let s=0;s<i.length;s++)s!==n&&i[s].unsubscribe();i=null}e.next(r)})))}}function Ms(t,e){return new z(i=>{let n=t(),r=e(n);return(r?K(r):pe).subscribe(i),()=>{n&&n.unsubscribe()}})}function Ni(...t){let e=Jr(t),i=Tu(t);return i.length?new z(n=>{let r=i.map(()=>[]),s=i.map(()=>!1);n.add(()=>{r=s=null});for(let o=0;!n.closed&&o<i.length;o++)K(i[o]).subscribe(F(n,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(u=>u.shift());n.next(e?e(...c):c),r.some((u,l)=>!u.length&&s[l])&&n.complete()}},()=>{s[o]=!0,!r[o].length&&n.complete()}));return()=>{r=s=null}}):pe}function Jo(t){return _((e,i)=>{let n=!1,r=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let u=r;r=null,i.next(u)}o&&i.complete()},c=()=>{s=null,o&&i.complete()};e.subscribe(F(i,u=>{n=!0,r=u,s||K(t(u)).subscribe(s=F(i,a,c))},()=>{o=!0,(!n||!s||s.closed)&&i.complete()}))})}function D_(t,e=Gt){return Jo(()=>Wt(t,e))}function Au(t,e=null){return e=e??t,_((i,n)=>{let r=[],s=0;i.subscribe(F(n,o=>{let a=null;s++%e===0&&r.push([]);for(let c of r)c.push(o),t<=c.length&&(a=a??[],a.push(c));if(a)for(let c of a)Ir(r,c),n.next(c)},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function P(t){return _((e,i)=>{let n=null,r=!1,s;n=e.subscribe(F(i,void 0,void 0,o=>{s=K(t(o,P(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(i))})}function QD(t,e,i,n,r){return(s,o)=>{let a=i,c=e,u=0;s.subscribe(F(o,l=>{let f=u++;c=a?t(c,l,f):(a=!0,l),n&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function je(t,e){return Y(e)?G(t,e,1):G(t,1)}function JD(t){return new z(e=>t.subscribe(e))}var b_={connector:()=>new re};function Ru(t,e=b_){let{connector:i}=e;return _((n,r)=>{let s=i();K(t(JD(s))).subscribe(r),r.add(n.subscribe(s))})}function w_(t){return _((e,i)=>{let n=!1,r=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let a=r;r=null,i.next(a)}};e.subscribe(F(i,a=>{s?.unsubscribe(),n=!0,r=a,s=F(i,o,zt),K(t(a)).subscribe(s)},()=>{o(),i.complete()},void 0,()=>{r=s=null}))})}function Pi(t,e=Gt){return _((i,n)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=s;s=null,n.next(u)}};function c(){let u=o+t,l=e.now();if(l<u){r=this.schedule(void 0,u-l),n.add(r);return}a()}i.subscribe(F(n,u=>{s=u,o=e.now(),r||(r=e.schedule(c,t),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}function ri(t){return _((e,i)=>{let n=!1;e.subscribe(F(i,r=>{n=!0,i.next(r)},()=>{n||i.next(t),i.complete()}))})}function Xo(){return _((t,e)=>{t.subscribe(F(e,zt))})}function ea(t){return E(()=>t)}function Mu(t,e){return e?i=>zn(e.pipe(oe(1),Xo()),i.pipe(Mu(t))):G((i,n)=>K(t(i,n)).pipe(oe(1),ea(i)))}function Kn(t,e=Gt){let i=Wt(t,e);return Mu(()=>i)}function Ag(){return _((t,e)=>{t.subscribe(F(e,i=>bg(i,e)))})}function T_(t,e){return rn((i,n)=>e?e(i[t],n[t]):i[t]===n[t])}function xu(t=A_){return _((e,i)=>{let n=!1;e.subscribe(F(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(t())))})}function A_(){return new Cn}function XD(...t){return e=>zn(e,I(...t))}function R_(t,e){return _((i,n)=>{let r=0;i.subscribe(F(n,s=>{t.call(e,s,r++,i)||(n.next(!1),n.complete())},()=>{n.next(!0),n.complete()}))})}function Zn(t,e){return e?i=>i.pipe(Zn((n,r)=>K(t(n,r)).pipe(E((s,o)=>e(n,s,r,o))))):_((i,n)=>{let r=0,s=null,o=!1;i.subscribe(F(n,a=>{s||(s=F(n,void 0,()=>{s=null,o&&n.complete()}),K(t(a,r++)).subscribe(s))},()=>{o=!0,!s&&n.complete()}))})}function Sn(t){return _((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}function Rt(t,e){let i=arguments.length>=2;return n=>n.pipe(t?x((r,s)=>t(r,s,n)):Xe,oe(1),i?ri(e):xu(()=>new Cn))}function ii(t,e,i,n){return _((r,s)=>{let o;!e||typeof e=="function"?o=e:{duration:i,element:o,connector:n}=e;let a=new Map,c=y=>{a.forEach(y),y(s)},u=y=>c(b=>b.error(y)),l=0,f=!1,h=new Go(s,y=>{try{let b=t(y),w=a.get(b);if(!w){a.set(b,w=n?n():new re);let R=p(b,w);if(s.next(R),i){let V=F(w,()=>{w.complete(),V?.unsubscribe()},void 0,void 0,()=>a.delete(b));h.add(K(i(R)).subscribe(V))}}w.next(o?o(y):y)}catch(b){u(b)}},()=>c(y=>y.complete()),u,()=>a.clear(),()=>(f=!0,l===0));r.subscribe(h);function p(y,b){let w=new z(R=>{l++;let V=b.subscribe(R);return()=>{V.unsubscribe(),--l===0&&f&&h.unsubscribe()}});return w.key=y,w}})}function xs(t){return t<=0?()=>pe:_((e,i)=>{let n=[];e.subscribe(F(i,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function Rg(t,e){let i=arguments.length>=2;return n=>n.pipe(t?x((r,s)=>t(r,s,n)):Xe,xs(1),i?ri(e):xu(()=>new Cn))}function Mg(){return _((t,e)=>{t.subscribe(F(e,i=>{e.next(ni.createNext(i))},()=>{e.next(ni.createComplete()),e.complete()},i=>{e.next(ni.createError(i)),e.complete()}))})}function eb(t,e){let i=Y(t)?t:()=>t;return Y(e)?Ru(e,{connector:i}):n=>new ei(n,i)}function ta(){return _((t,e)=>{let i,n=!1;t.subscribe(F(e,r=>{let s=i;i=r,n&&e.next([s,r]),n=!0}))})}function xg(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return E(i=>{let n=i;for(let r=0;r<e;r++){let s=n?.[t[r]];if(typeof s<"u")n=s;else return}return n})}function M_(t){return t?e=>Ru(t)(e):e=>eb(new re)(e)}function Og(t=1/0){let e;t&&typeof t=="object"?e=t:e={count:t};let{count:i=1/0,delay:n,resetOnSuccess:r=!1}=e;return i<=0?Xe:_((s,o)=>{let a=0,c,u=()=>{let l=!1;c=s.subscribe(F(o,f=>{r&&(a=0),o.next(f)},void 0,f=>{if(a++<i){let h=()=>{c?(c.unsubscribe(),c=null,u()):l=!0};if(n!=null){let p=typeof n=="number"?Wt(n):K(n(f,a)),y=F(o,()=>{y.unsubscribe(),h()},()=>{o.complete()});p.subscribe(y)}else h()}else o.error(f)})),l&&(c.unsubscribe(),c=null,u())};u()})}function Fi(t,e){return _(QD(t,e,arguments.length>=2,!0))}function Os(t={}){let{connector:e=()=>new re,resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,c,u=0,l=!1,f=!1,h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),o=c=void 0,l=f=!1},y=()=>{let b=o;p(),b?.unsubscribe()};return _((b,w)=>{u++,!f&&!l&&h();let R=c=c??e();w.add(()=>{u--,u===0&&!f&&!l&&(a=Ng(y,r))}),R.subscribe(w),!o&&u>0&&(o=new Dr({next:V=>R.next(V),error:V=>{f=!0,h(),a=Ng(p,i,V),R.error(V)},complete:()=>{l=!0,h(),a=Ng(p,n),R.complete()}}),K(b).subscribe(o))})(s)}}function Ng(t,e,...i){if(e===!0){t();return}if(e===!1)return;let n=new Dr({next:()=>{n.unsubscribe(),t()}});return K(e(...i)).subscribe(n)}function ht(t,e,i){let n,r=!1;return t&&typeof t=="object"?{bufferSize:n=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:i}=t:n=t??1/0,Os({connector:()=>new sn(n,e,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Pg(t){return x((e,i)=>t<=i)}function Ou(t){return _((e,i)=>{let n=!1,r=0;e.subscribe(F(i,s=>(n||(n=!t(s,r++)))&&i.next(s)))})}function na(t){return _((e,i)=>{K(t).subscribe(F(i,()=>i.complete(),zt)),!i.closed&&e.subscribe(i)})}function tb(t,e){return _((i,n)=>{let{leading:r=!0,trailing:s=!1}=e??{},o=!1,a=null,c=null,u=!1,l=()=>{c?.unsubscribe(),c=null,s&&(p(),u&&n.complete())},f=()=>{c=null,u&&n.complete()},h=y=>c=K(t(y)).subscribe(F(n,l,f)),p=()=>{if(o){o=!1;let y=a;a=null,n.next(y),!u&&h(y)}};i.subscribe(F(n,y=>{o=!0,a=y,!(c&&!c.closed)&&(r?p():h(y))},()=>{u=!0,!(s&&o&&c&&!c.closed)&&n.complete()}))})}function x_(t,e=Gt,i){let n=Wt(t,e);return tb(()=>n,i)}function rt(...t){let e=Jr(t);return _((i,n)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)K(t[c]).subscribe(F(n,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Xe))&&(o=null))},zt));i.subscribe(F(n,c=>{if(a){let u=[c,...s];n.next(e?e(...u):u)}}))})}function nb(t,e){return Object.is(t,e)}var it=null,Nu=!1,Pu=1,br=Symbol("SIGNAL");function ve(t){let e=it;return it=t,e}var _u={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Lg(t){if(Nu)throw new Error("");if(it===null)return;it.consumerOnSignalRead(t);let e=it.nextProducerIndex++;if(Ns(it),e<it.producerNode.length&&it.producerNode[e]!==t&&ra(it)){let i=it.producerNode[e];Lu(i,it.producerIndexOfThis[e])}it.producerNode[e]!==t&&(it.producerNode[e]=t,it.producerIndexOfThis[e]=ra(it)?ab(t,it,e):0),it.producerLastReadVersion[e]=t.version}function O_(){Pu++}function rb(t){if(!(ra(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Pu)){if(!t.producerMustRecompute(t)&&!Ug(t)){t.dirty=!1,t.lastCleanEpoch=Pu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Pu}}function ib(t){if(t.liveConsumerNode===void 0)return;let e=Nu;Nu=!0;try{for(let i of t.liveConsumerNode)i.dirty||N_(i)}finally{Nu=e}}function sb(){return it?.consumerAllowSignalWrites!==!1}function N_(t){t.dirty=!0,ib(t),t.consumerMarkedDirty?.(t)}function kg(t){return t&&(t.nextProducerIndex=0),ve(t)}function jg(t,e){if(ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ra(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Lu(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ug(t){Ns(t);for(let e=0;e<t.producerNode.length;e++){let i=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==i.version||(rb(i),n!==i.version))return!0}return!1}function ob(t){if(Ns(t),ra(t))for(let e=0;e<t.producerNode.length;e++)Lu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ab(t,e,i){if(cb(t),Ns(t),t.liveConsumerNode.length===0)for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=ab(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(i),t.liveConsumerNode.push(e)-1}function Lu(t,e){if(cb(t),Ns(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)Lu(t.producerNode[n],t.producerIndexOfThis[n]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Ns(r),r.producerIndexOfThis[n]=e}}function ra(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ns(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function cb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ub(t){let e=Object.create(P_);e.computation=t;let i=()=>{if(rb(e),Lg(e),e.value===Fu)throw e.error;return e.value};return i[br]=e,i}var Fg=Symbol("UNSET"),_g=Symbol("COMPUTING"),Fu=Symbol("ERRORED"),P_=T(v({},_u),{value:Fg,dirty:!0,error:null,equal:nb,producerMustRecompute(t){return t.value===Fg||t.value===_g},producerRecomputeValue(t){if(t.value===_g)throw new Error("Detected cycle in computations.");let e=t.value;t.value=_g;let i=kg(t),n;try{n=t.computation()}catch(r){n=Fu,t.error=r}finally{jg(t,i)}if(e!==Fg&&e!==Fu&&n!==Fu&&t.equal(e,n)){t.value=e;return}t.value=n,t.version++}});function F_(){throw new Error}var lb=F_;function db(){lb()}function fb(t){lb=t}var __=null;function hb(t){let e=Object.create(gb);e.value=t;let i=()=>(Lg(e),e.value);return i[br]=e,i}function $g(t,e){sb()||db(),t.equal(t.value,e)||(t.value=e,L_(t))}function pb(t,e){sb()||db(),$g(t,e(t.value))}var gb=T(v({},_u),{equal:nb,value:void 0});function L_(t){t.version++,O_(),ib(t),__?.()}var aw="https://g.co/ng/security#xss",j=class extends Error{constructor(e,i){super(vl(e,i)),this.code=e}};function vl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function va(t){return{toString:t}.toString()}var ku="__parameters__";function k_(t){return function(...i){if(t){let n=t(...i);for(let r in n)this[r]=n[r]}}}function av(t,e,i){return va(()=>{let n=k_(e);function r(...s){if(this instanceof r)return n.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,l){let f=c.hasOwnProperty(ku)?c[ku]:Object.defineProperty(c,ku,{value:[]})[ku];for(;f.length<=l;)f.push(null);return(f[l]=f[l]||[]).push(o),c}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ge=globalThis;function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function j_(t,e){for(let i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function xt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(xt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i===-1?e:e.substring(0,i)}function nm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var U_=Ae({__forward_ref__:Ae});function cw(t){return t.__forward_ref__=cw,t.toString=function(){return xt(this())},t}function Mt(t){return uw(t)?t():t}function uw(t){return typeof t=="function"&&t.hasOwnProperty(U_)&&t.__forward_ref__===cw}function m(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function U(t){return{providers:t.providers||[],imports:t.imports||[]}}function yl(t){return mb(t,dw)||mb(t,fw)}function lw(t){return yl(t)!==null}function mb(t,e){return t.hasOwnProperty(e)?t[e]:null}function $_(t){let e=t&&(t[dw]||t[fw]);return e||null}function vb(t){return t&&(t.hasOwnProperty(yb)||t.hasOwnProperty(B_))?t[yb]:null}var dw=Ae({\u0275prov:Ae}),yb=Ae({\u0275inj:Ae}),fw=Ae({ngInjectableDef:Ae}),B_=Ae({ngInjectorDef:Ae}),S=class{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=m({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hw(t){return t&&!!t.\u0275providers}var V_=Ae({\u0275cmp:Ae}),H_=Ae({\u0275dir:Ae}),z_=Ae({\u0275pipe:Ae}),G_=Ae({\u0275mod:Ae}),Zu=Ae({\u0275fac:Ae}),ia=Ae({__NG_ELEMENT_ID__:Ae}),Eb=Ae({__NG_ENV_ID__:Ae});function Dn(t){return typeof t=="string"?t:t==null?"":String(t)}function W_(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Dn(t)}function q_(t,e){let i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function cv(t,e){throw new j(-201,!1)}var ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ce||{}),rm;function pw(){return rm}function jt(t){let e=rm;return rm=t,e}function gw(t,e,i){let n=yl(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&ce.Optional)return null;if(e!==void 0)return e;cv(t,"Injector")}var Y_={},oa=Y_,im="__NG_DI_FLAG__",Qu="ngTempTokenPath",K_="ngTokenPath",Z_=/\n/gm,Q_="\u0275",Cb="__source",ks;function J_(){return ks}function si(t){let e=ks;return ks=t,e}function X_(t,e=ce.Default){if(ks===void 0)throw new j(-203,!1);return ks===null?gw(t,void 0,e):ks.get(t,e&ce.Optional?null:void 0,e)}function d(t,e=ce.Default){return(pw()||X_)(Mt(t),e)}function C(t,e=ce.Default){return d(t,El(e))}function El(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function sm(t){let e=[];for(let i=0;i<t.length;i++){let n=Mt(t[i]);if(Array.isArray(n)){if(n.length===0)throw new j(900,!1);let r,s=ce.Default;for(let o=0;o<n.length;o++){let a=n[o],c=eL(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(d(r,s))}else e.push(d(n))}return e}function uv(t,e){return t[im]=e,t.prototype[im]=e,t}function eL(t){return t[im]}function tL(t,e,i,n){let r=t[Qu];throw e[Cb]&&r.unshift(e[Cb]),t.message=nL(`
`+t.message,r,i,n),t[K_]=r,t[Qu]=null,t}function nL(t,e,i,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Q_?t.slice(2):t;let r=xt(e);if(Array.isArray(e))r=e.map(xt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):xt(a)))}r=`{${s.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(Z_,`
  `)}`}var lv=uv(av("Inject",t=>({token:t})),-1),un=uv(av("Optional"),8);var Cl=uv(av("SkipSelf"),4);function ji(t,e){let i=t.hasOwnProperty(Zu);return i?t[Zu]:null}function rL(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],s=e[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}function iL(t){return t.flat(Number.POSITIVE_INFINITY)}function dv(t,e){t.forEach(i=>Array.isArray(i)?dv(i,e):e(i))}function mw(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Ju(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sL(t,e){let i=[];for(let n=0;n<t;n++)i.push(e);return i}function oL(t,e,i,n){let r=t.length;if(r==e)t.push(i,n);else if(r===1)t.push(n,t[0]),t[0]=i;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=i,t[e+1]=n}}function ya(t,e,i){let n=Ea(t,e);return n>=0?t[n|1]=i:(n=~n,oL(t,n,e,i)),n}function Bg(t,e){let i=Ea(t,e);if(i>=0)return t[i|1]}function Ea(t,e){return aL(t,e,1)}function aL(t,e,i){let n=0,r=t.length>>i;for(;r!==n;){let s=n+(r-n>>1),o=t[s<<i];if(e===o)return s<<i;o>e?r=s:n=s+1}return~(r<<i)}var Us={},Ut=[],Xn=new S(""),vw=new S("",-1),yw=new S(""),Xu=class{get(e,i=oa){if(i===oa){let n=new Error(`NullInjectorError: No provider for ${xt(e)}!`);throw n.name="NullInjectorError",n}return i}},Ew=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ew||{}),er=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(er||{}),an=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(an||{});function cL(t,e,i){let n=t.length;for(;;){let r=t.indexOf(e,i);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===n||t.charCodeAt(r+s)<=32)return r}i=r+1}}function om(t,e,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let s=i[n++],o=i[n++],a=i[n++];t.setAttribute(e,o,a,s)}else{let s=r,o=i[++n];uL(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),n++}}return n}function Cw(t){return t===3||t===4||t===6}function uL(t){return t.charCodeAt(0)===64}function aa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?Sb(t,i,r,null,e[++n]):Sb(t,i,r,null,null))}}return t}function Sb(t,e,i,n,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(t[s+1]=r);return}else if(n===t[s+1]){t[s+2]=r;return}}s++,n!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,i),n!==null&&t.splice(s++,0,n),r!==null&&t.splice(s++,0,r)}var Sw="ng-template";function lL(t,e,i,n){let r=0;if(n){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&cL(e[r+1].toLowerCase(),i,0)!==-1)return!0}else if(fv(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===i)return!0}return!1}function fv(t){return t.type===4&&t.value!==Sw}function dL(t,e,i){let n=t.type===4&&!i?Sw:t.value;return e===n}function fL(t,e,i){let n=4,r=t.attrs,s=r!==null?gL(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!In(n)&&!In(c))return!1;if(o&&In(c))continue;o=!1,n=c|n&1;continue}if(!o)if(n&4){if(n=2|n&1,c!==""&&!dL(t,c,i)||c===""&&e.length===1){if(In(n))return!1;o=!0}}else if(n&8){if(r===null||!lL(t,r,c,i)){if(In(n))return!1;o=!0}}else{let u=e[++a],l=hL(c,r,fv(t),i);if(l===-1){if(In(n))return!1;o=!0;continue}if(u!==""){let f;if(l>s?f="":f=r[l+1].toLowerCase(),n&2&&u!==f){if(In(n))return!1;o=!0}}}}return In(n)||o}function In(t){return(t&1)===0}function hL(t,e,i,n){if(e===null)return-1;let r=0;if(n||!i){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return mL(e,t)}function Iw(t,e,i=!1){for(let n=0;n<e.length;n++)if(fL(t,e[n],i))return!0;return!1}function pL(t){let e=t.attrs;if(e!=null){let i=e.indexOf(5);if(!(i&1))return e[i+1]}return null}function gL(t){for(let e=0;e<t.length;e++){let i=t[e];if(Cw(i))return e}return t.length}function mL(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let n=t[i];if(typeof n=="number")return-1;if(n===e)return i;i++}return-1}function vL(t,e){e:for(let i=0;i<e.length;i++){let n=e[i];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function Ib(t,e){return t?":not("+e.trim()+")":e}function yL(t){let e=t[0],i=1,n=2,r="",s=!1;for(;i<t.length;){let o=t[i];if(typeof o=="string")if(n&2){let a=t[++i];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+o:n&4&&(r+=" "+o);else r!==""&&!In(o)&&(e+=Ib(s,r),r=""),n=o,s=s||!In(n);i++}return r!==""&&(e+=Ib(s,r)),e}function EL(t){return t.map(yL).join(",")}function CL(t){let e=[],i=[],n=1,r=2;for(;n<t.length;){let s=t[n];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++n]):r===8&&i.push(s);else{if(!In(r))break;r=s}n++}return{attrs:e,classes:i}}function Dw(t){return va(()=>{let e=Rw(t),i=T(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ew.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||er.Emulated,styles:t.styles||Ut,_:null,schemas:t.schemas||null,tView:null,id:""});Mw(i);let n=t.dependencies;return i.directiveDefs=bb(n,!1),i.pipeDefs=bb(n,!0),i.id=DL(i),i})}function SL(t){return ai(t)||bw(t)}function IL(t){return t!==null}function $(t){return va(()=>({type:t.type,bootstrap:t.bootstrap||Ut,declarations:t.declarations||Ut,imports:t.imports||Ut,exports:t.exports||Ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Db(t,e){if(t==null)return Us;let i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],s,o,a=an.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(i[s]=a!==an.None?[n,a]:n,e[s]=o):i[s]=n}return i}function Ot(t){return va(()=>{let e=Rw(t);return Mw(e),e})}function ln(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ai(t){return t[V_]||null}function bw(t){return t[H_]||null}function ww(t){return t[z_]||null}function Tw(t){let e=ai(t)||bw(t)||ww(t);return e!==null?e.standalone:!1}function Aw(t,e){let i=t[G_]||null;if(!i&&e===!0)throw new Error(`Type ${xt(t)} does not have '\u0275mod' property.`);return i}function Rw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Us,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Db(t.inputs,e),outputs:Db(t.outputs),debugInfo:null}}function Mw(t){t.features?.forEach(e=>e(t))}function bb(t,e){if(!t)return null;let i=e?ww:SL;return()=>(typeof t=="function"?t():t).map(n=>i(n)).filter(IL)}function DL(t){let e=0,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of i)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nr(t){return{\u0275providers:t}}function bL(...t){return{\u0275providers:xw(!0,t),\u0275fromNgModule:!0}}function xw(t,...e){let i=[],n=new Set,r,s=o=>{i.push(o)};return dv(e,o=>{let a=o;am(a,s,[],n)&&(r||=[],r.push(a))}),r!==void 0&&Ow(r,s),i}function Ow(t,e){for(let i=0;i<t.length;i++){let{ngModule:n,providers:r}=t[i];hv(r,s=>{e(s,n)})}}function am(t,e,i,n){if(t=Mt(t),!t)return!1;let r=null,s=vb(t),o=!s&&ai(t);if(!s&&!o){let c=t.ngModule;if(s=vb(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)am(u,e,i,n)}}else if(s){if(s.imports!=null&&!a){n.add(r);let u;try{dv(s.imports,l=>{am(l,e,i,n)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Ow(u,e)}if(!a){let u=ji(r)||(()=>new r);e({provide:r,useFactory:u,deps:Ut},r),e({provide:yw,useValue:r,multi:!0},r),e({provide:Xn,useValue:()=>d(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=t;hv(c,l=>{e(l,u)})}}else return!1;return r!==t&&t.providers!==void 0}function hv(t,e){for(let i of t)hw(i)&&(i=i.\u0275providers),Array.isArray(i)?hv(i,e):e(i)}var wL=Ae({provide:String,useValue:Ae});function Nw(t){return t!==null&&typeof t=="object"&&wL in t}function TL(t){return!!(t&&t.useExisting)}function AL(t){return!!(t&&t.useFactory)}function $s(t){return typeof t=="function"}function RL(t){return!!t.useClass}var Sl=new S(""),zu={},ML={},Vg;function pv(){return Vg===void 0&&(Vg=new Xu),Vg}var Ct=class{},ca=class extends Ct{get destroyed(){return this._destroyed}constructor(e,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,um(e,o=>this.processProvider(o)),this.records.set(vw,Ps(void 0,this)),r.has("environment")&&this.records.set(Ct,Ps(void 0,this));let s=this.records.get(Sl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yw,Ut,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let i=si(this),n=jt(void 0),r;try{return e()}finally{si(i),jt(n)}}get(e,i=oa,n=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Eb))return e[Eb](this);n=El(n);let r,s=si(this),o=jt(void 0);try{if(!(n&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=FL(e)&&yl(e);u&&this.injectableDefInScope(u)?c=Ps(cm(e),zu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=n&ce.Self?pv():this.parent;return i=n&ce.Optional&&i===oa?null:i,a.get(e,i)}catch(a){if(a.name==="NullInjectorError"){if((a[Qu]=a[Qu]||[]).unshift(xt(e)),s)throw a;return tL(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(o),si(s)}}resolveInjectorInitializers(){let e=ve(null),i=si(this),n=jt(void 0),r;try{let s=this.get(Xn,Ut,ce.Self);for(let o of s)o()}finally{si(i),jt(n),ve(e)}}toString(){let e=[],i=this.records;for(let n of i.keys())e.push(xt(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=Mt(e);let i=$s(e)?e:Mt(e&&e.provide),n=OL(e);if(!$s(e)&&e.multi===!0){let r=this.records.get(i);r||(r=Ps(void 0,zu,!0),r.factory=()=>sm(r.multi),this.records.set(i,r)),i=e,r.multi.push(e)}this.records.set(i,n)}hydrate(e,i){let n=ve(null);try{return i.value===zu&&(i.value=ML,i.value=i.factory()),typeof i.value=="object"&&i.value&&PL(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{ve(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let i=Mt(e.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(e){let i=this._onDestroyHooks.indexOf(e);i!==-1&&this._onDestroyHooks.splice(i,1)}};function cm(t){let e=yl(t),i=e!==null?e.factory:ji(t);if(i!==null)return i;if(t instanceof S)throw new j(204,!1);if(t instanceof Function)return xL(t);throw new j(204,!1)}function xL(t){if(t.length>0)throw new j(204,!1);let i=$_(t);return i!==null?()=>i.factory(t):()=>new t}function OL(t){if(Nw(t))return Ps(void 0,t.useValue);{let e=Pw(t);return Ps(e,zu)}}function Pw(t,e,i){let n;if($s(t)){let r=Mt(t);return ji(r)||cm(r)}else if(Nw(t))n=()=>Mt(t.useValue);else if(AL(t))n=()=>t.useFactory(...sm(t.deps||[]));else if(TL(t))n=()=>d(Mt(t.useExisting));else{let r=Mt(t&&(t.useClass||t.provide));if(NL(t))n=()=>new r(...sm(t.deps));else return ji(r)||cm(r)}return n}function Ps(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function NL(t){return!!t.deps}function PL(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function FL(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function um(t,e){for(let i of t)Array.isArray(i)?um(i,e):i&&hw(i)?um(i.\u0275providers,e):e(i)}function Mn(t,e){t instanceof ca&&t.assertNotDestroyed();let i,n=si(t),r=jt(void 0);try{return e()}finally{si(n),jt(r)}}function Fw(){return pw()!==void 0||J_()!=null}function Ca(t){if(!Fw())throw new j(-203,!1)}function _L(t){let e=Ge.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function LL(t){return typeof t=="function"}var Mr=0,ie=1,Q=2,gt=3,bn=4,Yt=5,ua=6,la=7,wn=8,Bs=9,Tn=10,Fe=11,da=12,wb=13,qs=14,An=15,Sa=16,Fs=17,wr=18,Il=19,_w=20,oi=21,Hg=22,Ui=23,St=25,Lw=1;var $i=7,el=8,Vs=9,qt=10,gv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(gv||{});function Li(t){return Array.isArray(t)&&typeof t[Lw]=="object"}function xr(t){return Array.isArray(t)&&t[Lw]===!0}function mv(t){return(t.flags&4)!==0}function Dl(t){return t.componentOffset>-1}function bl(t){return(t.flags&1)===1}function ci(t){return!!t.template}function kL(t){return(t[Q]&512)!==0}var lm=class{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function kw(t,e,i,n){e!==null?e.applyValueToInputSignal(e,n):t[i]=n}function li(){return jw}function jw(t){return t.type.prototype.ngOnChanges&&(t.setInput=UL),jL}li.ngInherit=!0;function jL(){let t=$w(this),e=t?.current;if(e){let i=t.previous;if(i===Us)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function UL(t,e,i,n,r){let s=this.declaredInputs[n],o=$w(t)||$L(t,{previous:Us,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new lm(u&&u.currentValue,i,c===Us),kw(t,e,r,i)}var Uw="__ngSimpleChanges__";function $w(t){return t[Uw]||null}function $L(t,e){return t[Uw]=e}var Tb=null;var Qn=function(t,e,i){Tb?.(t,e,i)},BL="svg",VL="math",HL=!1;function zL(){return HL}function tr(t){for(;Array.isArray(t);)t=t[Mr];return t}function Bw(t,e){return tr(e[t])}function dn(t,e){return tr(e[t.index])}function Vw(t,e){return t.data[e]}function Ia(t,e){return t[e]}function di(t,e){let i=e[t];return Li(i)?i:i[Mr]}function GL(t){return(t[Q]&4)===4}function vv(t){return(t[Q]&128)===128}function WL(t){return xr(t[gt])}function Hs(t,e){return e==null?null:t[e]}function Hw(t){t[Fs]=0}function qL(t){t[Q]&1024||(t[Q]|=1024,vv(t)&&fa(t))}function YL(t,e){for(;t>0;)e=e[qs],t--;return e}function yv(t){return!!(t[Q]&9216||t[Ui]?.dirty)}function dm(t){t[Tn].changeDetectionScheduler?.notify(1),yv(t)?fa(t):t[Q]&64&&(zL()?(t[Q]|=1024,fa(t)):t[Tn].changeDetectionScheduler?.notify())}function fa(t){t[Tn].changeDetectionScheduler?.notify();let e=ha(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!vv(e)));)e=ha(e)}function zw(t,e){if((t[Q]&256)===256)throw new j(911,!1);t[oi]===null&&(t[oi]=[]),t[oi].push(e)}function KL(t,e){if(t[oi]===null)return;let i=t[oi].indexOf(e);i!==-1&&t[oi].splice(i,1)}function ha(t){let e=t[gt];return xr(e)?e[gt]:e}var se={lFrame:Jw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ZL(){return se.lFrame.elementDepthCount}function QL(){se.lFrame.elementDepthCount++}function JL(){se.lFrame.elementDepthCount--}function Gw(){return se.bindingsEnabled}function Ww(){return se.skipHydrationRootTNode!==null}function XL(t){return se.skipHydrationRootTNode===t}function ek(){se.skipHydrationRootTNode=null}function Z(){return se.lFrame.lView}function Ue(){return se.lFrame.tView}function Fie(t){return se.lFrame.contextLView=t,t[wn]}function _ie(t){return se.lFrame.contextLView=null,t}function Dt(){let t=qw();for(;t!==null&&t.type===64;)t=t.parent;return t}function qw(){return se.lFrame.currentTNode}function tk(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yi(t,e){let i=se.lFrame;i.currentTNode=t,i.isParent=e}function Ev(){return se.lFrame.isParent}function Cv(){se.lFrame.isParent=!1}function nk(){return se.lFrame.contextLView}function rr(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Yw(){return se.lFrame.bindingIndex}function rk(t){return se.lFrame.bindingIndex=t}function Da(){return se.lFrame.bindingIndex++}function wl(t){let e=se.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function ik(){return se.lFrame.inI18n}function sk(t,e){let i=se.lFrame;i.bindingIndex=i.bindingRootIndex=t,fm(e)}function ok(){return se.lFrame.currentDirectiveIndex}function fm(t){se.lFrame.currentDirectiveIndex=t}function ak(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Kw(){return se.lFrame.currentQueryIndex}function Sv(t){se.lFrame.currentQueryIndex=t}function ck(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[Yt]:null}function Zw(t,e,i){if(i&ce.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(i&ce.Host);)if(r=ck(s),r===null||(s=s[qs],r.type&10))break;if(r===null)return!1;e=r,t=s}let n=se.lFrame=Qw();return n.currentTNode=e,n.lView=t,!0}function Iv(t){let e=Qw(),i=t[ie];se.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function Qw(){let t=se.lFrame,e=t===null?null:t.child;return e===null?Jw(t):e}function Jw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Xw(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eT=Xw;function Dv(){let t=Xw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uk(t){return(se.lFrame.contextLView=YL(t,se.lFrame.contextLView))[wn]}function Or(){return se.lFrame.selectedIndex}function Bi(t){se.lFrame.selectedIndex=t}function ba(){let t=se.lFrame;return Vw(t.tView,t.selectedIndex)}function lk(){return se.lFrame.currentNamespace}var tT=!0;function Tl(){return tT}function Al(t){tT=t}function dk(t,e,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(n){let o=jw(e);(i.preOrderHooks??=[]).push(t,o),(i.preOrderCheckHooks??=[]).push(t,o)}r&&(i.preOrderHooks??=[]).push(0-t,r),s&&((i.preOrderHooks??=[]).push(t,s),(i.preOrderCheckHooks??=[]).push(t,s))}function Rl(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){let s=t.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-i,o),a&&((t.contentHooks??=[]).push(i,a),(t.contentCheckHooks??=[]).push(i,a)),c&&(t.viewHooks??=[]).push(-i,c),u&&((t.viewHooks??=[]).push(i,u),(t.viewCheckHooks??=[]).push(i,u)),l!=null&&(t.destroyHooks??=[]).push(i,l)}}function Gu(t,e,i){nT(t,e,3,i)}function Wu(t,e,i,n){(t[Q]&3)===i&&nT(t,e,i,n)}function zg(t,e){let i=t[Q];(i&3)===e&&(i&=16383,i+=1,t[Q]=i)}function nT(t,e,i,n){let r=n!==void 0?t[Fs]&65535:0,s=n??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],n!=null&&a>=n)break}else e[c]<0&&(t[Fs]+=65536),(a<s||s==-1)&&(fk(t,i,e,c),t[Fs]=(t[Fs]&4294901760)+c+2),c++}function Ab(t,e){Qn(4,t,e);let i=ve(null);try{e.call(t)}finally{ve(i),Qn(5,t,e)}}function fk(t,e,i,n){let r=i[n]<0,s=i[n+1],o=r?-i[n]:i[n],a=t[o];r?t[Q]>>14<t[Fs]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,Ab(a,s)):Ab(a,s)}var js=-1,Vi=class{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function hk(t){return t instanceof Vi}function pk(t){return(t.flags&8)!==0}function gk(t){return(t.flags&16)!==0}function rT(t){return t!==js}function tl(t){return t&32767}function mk(t){return t>>16}function nl(t,e){let i=mk(t),n=e;for(;i>0;)n=n[qs],i--;return n}var hm=!0;function rl(t){let e=hm;return hm=t,e}var vk=256,iT=vk-1,sT=5,yk=0,Jn={};function Ek(t,e,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(ia)&&(n=i[ia]),n==null&&(n=i[ia]=yk++);let r=n&iT,s=1<<r;e.data[t+(r>>sT)]|=s}function il(t,e){let i=oT(t,e);if(i!==-1)return i;let n=e[ie];n.firstCreatePass&&(t.injectorIndex=e.length,Gg(n.data,t),Gg(e,null),Gg(n.blueprint,null));let r=bv(t,e),s=t.injectorIndex;if(rT(r)){let o=tl(r),a=nl(r,e),c=a[ie].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function Gg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function oT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function bv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,n=null,r=e;for(;r!==null;){if(n=dT(r),n===null)return js;if(i++,r=r[qs],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return js}function pm(t,e,i){Ek(t,e,i)}function Ck(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let i=t.attrs;if(i){let n=i.length,r=0;for(;r<n;){let s=i[r];if(Cw(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<n&&typeof i[r]=="string";)r++;else{if(s===e)return i[r+1];r=r+2}}}return null}function aT(t,e,i){if(i&ce.Optional||t!==void 0)return t;cv(e,"NodeInjector")}function cT(t,e,i,n){if(i&ce.Optional&&n===void 0&&(n=null),!(i&(ce.Self|ce.Host))){let r=t[Bs],s=jt(void 0);try{return r?r.get(e,n,i&ce.Optional):gw(e,n,i&ce.Optional)}finally{jt(s)}}return aT(n,e,i)}function uT(t,e,i,n=ce.Default,r){if(t!==null){if(e[Q]&2048&&!(n&ce.Self)){let o=bk(t,e,i,n,Jn);if(o!==Jn)return o}let s=lT(t,e,i,n,Jn);if(s!==Jn)return s}return cT(e,i,n,r)}function lT(t,e,i,n,r){let s=Ik(i);if(typeof s=="function"){if(!Zw(e,t,n))return n&ce.Host?aT(r,i,n):cT(e,i,n,r);try{let o;if(o=s(n),o==null&&!(n&ce.Optional))cv(i);else return o}finally{eT()}}else if(typeof s=="number"){let o=null,a=oT(t,e),c=js,u=n&ce.Host?e[An][Yt]:null;for((a===-1||n&ce.SkipSelf)&&(c=a===-1?bv(t,e):e[a+8],c===js||!Mb(n,!1)?a=-1:(o=e[ie],a=tl(c),e=nl(c,e)));a!==-1;){let l=e[ie];if(Rb(s,a,l.data)){let f=Sk(a,e,i,o,n,u);if(f!==Jn)return f}c=e[a+8],c!==js&&Mb(n,e[ie].data[a+8]===u)&&Rb(s,a,e)?(o=l,a=tl(c),e=nl(c,e)):a=-1}}return r}function Sk(t,e,i,n,r,s){let o=e[ie],a=o.data[t+8],c=n==null?Dl(a)&&hm:n!=o&&(a.type&3)!==0,u=r&ce.Host&&s===a,l=qu(a,o,i,c,u);return l!==null?Hi(e,o,l,a):Jn}function qu(t,e,i,n,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,f=n?a:a+l,h=r?a+l:u;for(let p=f;p<h;p++){let y=o[p];if(p<c&&i===y||p>=c&&y.type===i)return p}if(r){let p=o[c];if(p&&ci(p)&&p.type===i)return c}return null}function Hi(t,e,i,n){let r=t[i],s=e.data;if(hk(r)){let o=r;o.resolving&&q_(W_(s[i]));let a=rl(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?jt(o.injectImpl):null,l=Zw(t,n,ce.Default);try{r=t[i]=o.factory(void 0,s,t,n),e.firstCreatePass&&i>=n.directiveStart&&dk(i,s[i],e)}finally{u!==null&&jt(u),rl(a),o.resolving=!1,eT()}}return r}function Ik(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ia)?t[ia]:void 0;return typeof e=="number"?e>=0?e&iT:Dk:e}function Rb(t,e,i){let n=1<<t;return!!(i[e+(t>>sT)]&n)}function Mb(t,e){return!(t&ce.Self)&&!(t&ce.Host&&e)}var ki=class{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return uT(this._tNode,this._lView,e,El(n),i)}};function Dk(){return new ki(Dt(),Z())}function We(t){return va(()=>{let e=t.prototype.constructor,i=e[Zu]||gm(e),n=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){let s=r[Zu]||gm(r);if(s&&s!==i)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function gm(t){return uw(t)?()=>{let e=gm(Mt(t));return e&&e()}:ji(t)}function bk(t,e,i,n,r){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!(o[Q]&512);){let a=lT(s,o,i,n|ce.Self,Jn);if(a!==Jn)return a;let c=s.parent;if(!c){let u=o[_w];if(u){let l=u.get(i,Jn,n);if(l!==Jn)return l}c=dT(o),o=o[qs]}s=c}return r}function dT(t){let e=t[ie],i=e.type;return i===2?e.declTNode:i===1?t[Yt]:null}function wv(t){return Ck(Dt(),t)}function xb(t,e=null,i=null,n){let r=fT(t,e,i,n);return r.resolveInjectorInitializers(),r}function fT(t,e=null,i=null,n,r=new Set){let s=[i||Ut,bL(t)];return n=n||(typeof t=="object"?void 0:xt(t)),new ca(s,e||pv(),n||null,r)}var Ye=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return xb({name:""},r,n,"");{let s=n.name??"";return xb({name:s},n.parent,n.providers,s)}}};e.THROW_IF_NOT_FOUND=oa,e.NULL=new Xu,e.\u0275prov=m({token:e,providedIn:"any",factory:()=>d(vw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var wk="ngOriginalError";function Wg(t){return t[wk]}var It=class{constructor(){this._console=console}handleError(e){let i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&Wg(e);for(;i&&Wg(i);)i=Wg(i);return i||null}},hT=new S("",{providedIn:"root",factory:()=>C(It).handleError.bind(void 0)}),fi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Tk,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),mm=class extends fi{constructor(e){super(),this._lView=e}onDestroy(e){return zw(this._lView,e),()=>KL(this._lView,e)}};function Tk(){return new mm(Z())}function Ak(){return Ys(Dt(),Z())}function Ys(t,e){return new ir(dn(t,e))}var ir=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=Ak;let t=e;return t})();function Rk(t){return t instanceof ir?t.nativeElement:t}var vm=class extends re{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Fw()&&(this.destroyRef=C(fi,{optional:!0})??void 0)}emit(e){let i=ve(null);try{super.next(e)}finally{ve(i)}}subscribe(e,i,n){let r=e,s=i||(()=>null),o=n;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=qg(s),r&&(r=qg(r)),o&&(o=qg(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ee&&e.add(a),a}};function qg(t){return e=>{setTimeout(t,void 0,e)}}var pt=vm;function Mk(){return this._results[Symbol.iterator]()}var ym=class t{get changes(){return this._changes??=new pt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=t.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Mk)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){this.dirty=!1;let n=iL(e);(this._changesDetected=!rL(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function pT(t){return(t.flags&128)===128}var gT=new Map,xk=0;function Ok(){return xk++}function Nk(t){gT.set(t[Il],t)}function Pk(t){gT.delete(t[Il])}var Ob="__ngContext__";function ui(t,e){Li(e)?(t[Ob]=e[Il],Nk(e)):t[Ob]=e}function mT(t){return yT(t[da])}function vT(t){return yT(t[bn])}function yT(t){for(;t!==null&&!xr(t);)t=t[bn];return t}var Em;function ET(t){Em=t}function Tv(){if(Em!==void 0)return Em;if(typeof document<"u")return document;throw new j(210,!1)}var wa=new S("",{providedIn:"root",factory:()=>Fk}),Fk="ng",Av=new S(""),$e=new S("",{providedIn:"platform",factory:()=>"unknown"});var Rv=new S("",{providedIn:"root",factory:()=>Tv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function _k(){let t=new Ta;return C($e)==="browser"&&(t.store=Lk(Tv(),C(wa))),t}var Ta=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=m({token:e,providedIn:"root",factory:_k});let t=e;return t})();function Lk(t,e){let i=t.getElementById(e+"-state");if(i?.textContent)try{return JSON.parse(i.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+e,n)}return{}}var kk="h",jk="b";var Uk=()=>null;function Mv(t,e,i=!1){return Uk(t,e,i)}var CT=!1,$k=new S("",{providedIn:"root",factory:()=>CT});var ju;function Bk(){if(ju===void 0&&(ju=null,Ge.trustedTypes))try{ju=Ge.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ju}function Ml(t){return Bk()?.createHTML(t)||t}var Uu;function ST(){if(Uu===void 0&&(Uu=null,Ge.trustedTypes))try{Uu=Ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Uu}function Nb(t){return ST()?.createHTML(t)||t}function Pb(t){return ST()?.createScriptURL(t)||t}var Tr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aw})`}},Cm=class extends Tr{getTypeName(){return"HTML"}},Sm=class extends Tr{getTypeName(){return"Style"}},Im=class extends Tr{getTypeName(){return"Script"}},Dm=class extends Tr{getTypeName(){return"URL"}},bm=class extends Tr{getTypeName(){return"ResourceURL"}};function $t(t){return t instanceof Tr?t.changingThisBreaksApplicationSecurity:t}function sr(t,e){let i=Vk(t);if(i!=null&&i!==e){if(i==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${i} (see ${aw})`)}return i===e}function Vk(t){return t instanceof Tr&&t.getTypeName()||null}function IT(t){return new Cm(t)}function DT(t){return new Sm(t)}function bT(t){return new Im(t)}function wT(t){return new Dm(t)}function TT(t){return new bm(t)}function Hk(t){let e=new Tm(t);return zk()?new wm(e):e}var wm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let i=new window.DOMParser().parseFromString(Ml(e),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(e):(i.removeChild(i.firstChild),i)}catch{return null}}},Tm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let i=this.inertDocument.createElement("template");return i.innerHTML=Ml(e),i}};function zk(){try{return!!new window.DOMParser().parseFromString(Ml(""),"text/html")}catch{return!1}}var Gk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xl(t){return t=String(t),t.match(Gk)?t:"unsafe:"+t}function Nr(t){let e={};for(let i of t.split(","))e[i]=!0;return e}function Aa(...t){let e={};for(let i of t)for(let n in i)i.hasOwnProperty(n)&&(e[n]=!0);return e}var AT=Nr("area,br,col,hr,img,wbr"),RT=Nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MT=Nr("rp,rt"),Wk=Aa(MT,RT),qk=Aa(RT,Nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yk=Aa(MT,Nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fb=Aa(AT,qk,Yk,Wk),xT=Nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kk=Nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zk=Nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Qk=Aa(xT,Kk,Zk),Jk=Nr("script,style,template"),Am=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let i=e.firstChild,n=!0,r=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild){r.push(i),i=tj(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let s=ej(i);if(s){i=s;break}i=r.pop()}}return this.buf.join("")}startElement(e){let i=_b(e).toLowerCase();if(!Fb.hasOwnProperty(i))return this.sanitizedSomething=!0,!Jk.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let n=e.attributes;for(let r=0;r<n.length;r++){let s=n.item(r),o=s.name,a=o.toLowerCase();if(!Qk.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;xT[a]&&(c=xl(c)),this.buf.push(" ",o,'="',Lb(c),'"')}return this.buf.push(">"),!0}endElement(e){let i=_b(e).toLowerCase();Fb.hasOwnProperty(i)&&!AT.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(e){this.buf.push(Lb(e))}};function Xk(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function ej(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw OT(e);return e}function tj(t){let e=t.firstChild;if(e&&Xk(t,e))throw OT(e);return e}function _b(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function OT(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var nj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rj=/([^\#-~ |!])/g;function Lb(t){return t.replace(/&/g,"&amp;").replace(nj,function(e){let i=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((i-55296)*1024+(n-56320)+65536)+";"}).replace(rj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var $u;function xv(t,e){let i=null;try{$u=$u||Hk(t);let n=e?String(e):"";i=$u.getInertBodyElement(n);let r=5,s=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=$u.getInertBodyElement(n)}while(n!==s);let a=new Am().sanitizeChildren(kb(i)||i);return Ml(a)}finally{if(i){let n=kb(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function kb(t){return"content"in t&&ij(t)?t.content:null}function ij(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var fn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fn||{});function Lie(t){let e=Ol();return e?Nb(e.sanitize(fn.HTML,t)||""):sr(t,"HTML")?Nb($t(t)):xv(Tv(),Dn(t))}function kie(t){let e=Ol();return e?e.sanitize(fn.STYLE,t)||"":sr(t,"Style")?$t(t):Dn(t)}function sj(t){let e=Ol();return e?e.sanitize(fn.URL,t)||"":sr(t,"URL")?$t(t):xl(Dn(t))}function oj(t){let e=Ol();if(e)return Pb(e.sanitize(fn.RESOURCE_URL,t)||"");if(sr(t,"ResourceURL"))return Pb($t(t));throw new j(904,!1)}function aj(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?oj:sj}function NT(t,e,i){return aj(e,i)(t)}function Ol(){let t=Z();return t&&t[Tn].sanitizer}var cj=/^>|^->|<!--|-->|--!>|<!-$/g,uj=/(<|>)/g,lj="\u200B$1\u200B";function dj(t){return t.replace(cj,e=>e.replace(uj,lj))}function jie(t){return t.ownerDocument.defaultView}function Uie(t){return t.ownerDocument}function PT(t){return t instanceof Function?t():t}function fj(t){return(t??C(Ye)).get($e)==="browser"}var Ar=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ar||{}),hj;function Ov(t,e){return hj(t,e)}function _s(t,e,i,n,r){if(n!=null){let s,o=!1;xr(n)?s=n:Li(n)&&(o=!0,n=n[Mr]);let a=tr(n);t===0&&i!==null?r==null?UT(e,i,a):sl(e,i,a,r||null,!0):t===1&&i!==null?sl(e,i,a,r||null,!0):t===2?Mj(e,a,o):t===3&&e.destroyNode(a),s!=null&&Oj(e,t,s,i,r)}}function pj(t,e){return t.createText(e)}function gj(t,e,i){t.setValue(e,i)}function mj(t,e){return t.createComment(dj(e))}function FT(t,e,i){return t.createElement(e,i)}function vj(t,e){_T(t,e),e[Mr]=null,e[Yt]=null}function yj(t,e,i,n,r,s){n[Mr]=r,n[Yt]=e,Pl(t,n,i,1,r,s)}function _T(t,e){e[Tn].changeDetectionScheduler?.notify(1),Pl(t,e,e[Fe],2,null,null)}function Ej(t){let e=t[da];if(!e)return Yg(t[ie],t);for(;e;){let i=null;if(Li(e))i=e[da];else{let n=e[qt];n&&(i=n)}if(!i){for(;e&&!e[bn]&&e!==t;)Li(e)&&Yg(e[ie],e),e=e[gt];e===null&&(e=t),Li(e)&&Yg(e[ie],e),i=e&&e[bn]}e=i}}function Cj(t,e,i,n){let r=qt+n,s=i.length;n>0&&(i[r-1][bn]=e),n<s-qt?(e[bn]=i[r],mw(i,qt+n,e)):(i.push(e),e[bn]=null),e[gt]=i;let o=e[Sa];o!==null&&i!==o&&Sj(o,e);let a=e[wr];a!==null&&a.insertView(t),dm(e),e[Q]|=128}function Sj(t,e){let i=t[Vs],r=e[gt][gt][An];e[An]!==r&&(t[Q]|=gv.HasTransplantedViews),i===null?t[Vs]=[e]:i.push(e)}function LT(t,e){let i=t[Vs],n=i.indexOf(e);i.splice(n,1)}function Rm(t,e){if(t.length<=qt)return;let i=qt+e,n=t[i];if(n){let r=n[Sa];r!==null&&r!==t&&LT(r,n),e>0&&(t[i-1][bn]=n[bn]);let s=Ju(t,qt+e);vj(n[ie],n);let o=s[wr];o!==null&&o.detachView(s[ie]),n[gt]=null,n[bn]=null,n[Q]&=-129}return n}function kT(t,e){if(!(e[Q]&256)){let i=e[Fe];i.destroyNode&&Pl(t,e,i,3,null,null),Ej(e)}}function Yg(t,e){if(e[Q]&256)return;let i=ve(null);try{e[Q]&=-129,e[Q]|=256,e[Ui]&&ob(e[Ui]),Dj(t,e),Ij(t,e),e[ie].type===1&&e[Fe].destroy();let n=e[Sa];if(n!==null&&xr(e[gt])){n!==e[gt]&&LT(n,e);let r=e[wr];r!==null&&r.detachView(t)}Pk(e)}finally{ve(i)}}function Ij(t,e){let i=t.cleanup,n=e[la];if(i!==null)for(let s=0;s<i.length-1;s+=2)if(typeof i[s]=="string"){let o=i[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[i[s+1]];i[s].call(o)}n!==null&&(e[la]=null);let r=e[oi];if(r!==null){e[oi]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function Dj(t,e){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=e[i[n]];if(!(r instanceof Vi)){let s=i[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];Qn(4,a,c);try{c.call(a)}finally{Qn(5,a,c)}}else{Qn(4,r,s);try{s.call(r)}finally{Qn(5,r,s)}}}}}function jT(t,e,i){return bj(t,e.parent,i)}function bj(t,e,i){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return i[Mr];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:s}=t.data[n.directiveStart+r];if(s===er.None||s===er.Emulated)return null}return dn(n,i)}}function sl(t,e,i,n,r){t.insertBefore(e,i,n,r)}function UT(t,e,i){t.appendChild(e,i)}function jb(t,e,i,n,r){n!==null?sl(t,e,i,n,r):UT(t,e,i)}function wj(t,e,i,n){t.removeChild(e,i,n)}function Nv(t,e){return t.parentNode(e)}function Tj(t,e){return t.nextSibling(e)}function $T(t,e,i){return Rj(t,e,i)}function Aj(t,e,i){return t.type&40?dn(t,i):null}var Rj=Aj,Ub;function Nl(t,e,i,n){let r=jT(t,n,e),s=e[Fe],o=n.parent||e[Yt],a=$T(o,n,e);if(r!=null)if(Array.isArray(i))for(let c=0;c<i.length;c++)jb(s,r,i[c],a,!1);else jb(s,r,i,a,!1);Ub!==void 0&&Ub(s,n,e,i,r)}function Yu(t,e){if(e!==null){let i=e.type;if(i&3)return dn(e,t);if(i&4)return Mm(-1,t[e.index]);if(i&8){let n=e.child;if(n!==null)return Yu(t,n);{let r=t[e.index];return xr(r)?Mm(-1,r):tr(r)}}else{if(i&32)return Ov(e,t)()||tr(t[e.index]);{let n=BT(t,e);if(n!==null){if(Array.isArray(n))return n[0];let r=ha(t[An]);return Yu(r,n)}else return Yu(t,e.next)}}}return null}function BT(t,e){if(e!==null){let n=t[An][Yt],r=e.projection;return n.projection[r]}return null}function Mm(t,e){let i=qt+t+1;if(i<e.length){let n=e[i],r=n[ie].firstChild;if(r!==null)return Yu(n,r)}return e[$i]}function Mj(t,e,i){let n=Nv(t,e);n&&wj(t,n,e,i)}function Pv(t,e,i,n,r,s,o){for(;i!=null;){let a=n[i.index],c=i.type;if(o&&e===0&&(a&&ui(tr(a),n),i.flags|=2),(i.flags&32)!==32)if(c&8)Pv(t,e,i.child,n,r,s,!1),_s(e,t,r,a,s);else if(c&32){let u=Ov(i,n),l;for(;l=u();)_s(e,t,r,l,s);_s(e,t,r,a,s)}else c&16?VT(t,e,n,i,r,s):_s(e,t,r,a,s);i=o?i.projectionNext:i.next}}function Pl(t,e,i,n,r,s){Pv(i,n,t.firstChild,e,r,s,!1)}function xj(t,e,i){let n=e[Fe],r=jT(t,i,e),s=i.parent||e[Yt],o=$T(s,i,e);VT(n,0,e,i,r,o)}function VT(t,e,i,n,r,s){let o=i[An],c=o[Yt].projection[n.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];_s(e,t,r,l,s)}else{let u=c,l=o[gt];pT(n)&&(u.flags|=128),Pv(t,e,u,l,r,s,!0)}}function Oj(t,e,i,n,r){let s=i[$i],o=tr(i);s!==o&&_s(e,t,n,s,r);for(let a=qt;a<i.length;a++){let c=i[a];Pl(c[ie],c,t,e,n,s)}}function Nj(t,e,i,n,r){if(e)r?t.addClass(i,n):t.removeClass(i,n);else{let s=n.indexOf("-")===-1?void 0:Ar.DashCase;r==null?t.removeStyle(i,n,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Ar.Important),t.setStyle(i,n,r,s))}}function Pj(t,e,i){t.setAttribute(e,"style",i)}function HT(t,e,i){i===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function zT(t,e,i){let{mergedAttrs:n,classes:r,styles:s}=i;n!==null&&om(t,e,n),r!==null&&HT(t,e,r),s!==null&&Pj(t,e,s)}var Nt={};function $ie(t=1){GT(Ue(),Z(),Or()+t,!1)}function GT(t,e,i,n){if(!n)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Gu(e,s,i)}else{let s=t.preOrderHooks;s!==null&&Wu(e,s,0,i)}Bi(i)}function X(t,e=ce.Default){let i=Z();if(i===null)return d(t,e);let n=Dt();return uT(n,i,Mt(t),e)}function WT(){let t="invalid";throw new Error(t)}function qT(t,e,i,n,r,s){let o=ve(null);try{let a=null;r&an.SignalBased&&(a=e[n][br]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&an.HasDecoratorInputTransform&&(s=t.inputTransforms[n].call(e,s)),t.setInput!==null?t.setInput(e,a,s,i,n):kw(e,a,n,s)}finally{ve(o)}}function Fj(t,e){let i=t.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)Bi(~r);else{let s=r,o=i[++n],a=i[++n];sk(o,s);let c=e[s];a(2,c)}}}finally{Bi(-1)}}function Fl(t,e,i,n,r,s,o,a,c,u,l){let f=e.blueprint.slice();return f[Mr]=r,f[Q]=n|4|128|8|64,(u!==null||t&&t[Q]&2048)&&(f[Q]|=2048),Hw(f),f[gt]=f[qs]=t,f[wn]=i,f[Tn]=o||t&&t[Tn],f[Fe]=a||t&&t[Fe],f[Bs]=c||t&&t[Bs]||null,f[Yt]=s,f[Il]=Ok(),f[ua]=l,f[_w]=u,f[An]=e.type==2?t[An]:f,f}function Ks(t,e,i,n,r){let s=t.data[e];if(s===null)s=_j(t,e,i,n,r),ik()&&(s.flags|=32);else if(s.type&64){s.type=i,s.value=n,s.attrs=r;let o=tk();s.injectorIndex=o===null?-1:o.injectorIndex}return Yi(s,!0),s}function _j(t,e,i,n,r){let s=qw(),o=Ev(),a=o?s:s&&s.parent,c=t.data[e]=Bj(t,a,i,e,n,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function YT(t,e,i,n){if(i===0)return-1;let r=e.length;for(let s=0;s<i;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return r}function KT(t,e,i,n,r){let s=Or(),o=n&2;try{Bi(-1),o&&e.length>St&&GT(t,e,St,!1),Qn(o?2:0,r),i(n,r)}finally{Bi(s),Qn(o?3:1,r)}}function Fv(t,e,i){if(mv(e)){let n=ve(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=i[o];a.contentQueries(1,c,o)}}}finally{ve(n)}}}function _v(t,e,i){Gw()&&(qj(t,e,i,dn(i,e)),(i.flags&64)===64&&JT(t,e,i))}function Lv(t,e,i=dn){let n=e.localNames;if(n!==null){let r=e.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?i(e,t):t[o];t[r++]=a}}}function ZT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=kv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function kv(t,e,i,n,r,s,o,a,c,u,l){let f=St+n,h=f+r,p=Lj(f,h),y=typeof u=="function"?u():u;return p[ie]={type:t,blueprint:p,template:i,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function Lj(t,e){let i=[];for(let n=0;n<e;n++)i.push(n<t?null:Nt);return i}function kj(t,e,i,n){let s=n.get($k,CT)||i===er.ShadowDom,o=t.selectRootElement(e,s);return jj(o),o}function jj(t){Uj(t)}var Uj=()=>null;function $j(t,e,i,n){let r=t0(e);r.push(i),t.firstCreatePass&&n0(t).push(n,r.length-1)}function Bj(t,e,i,n,r,s){let o=e?e.injectorIndex:-1,a=0;return Ww()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $b(t,e,i,n,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;n??={};let a,c=an.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}t===0?Bb(n,i,u,a,c):Bb(n,i,u,a)}return n}function Bb(t,e,i,n,r){let s;t.hasOwnProperty(i)?(s=t[i]).push(e,n):s=t[i]=[e,n],r!==void 0&&s.push(r)}function Vj(t,e,i){let n=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=n;l<r;l++){let f=s[l],h=i?i.get(f):null,p=h?h.inputs:null,y=h?h.outputs:null;c=$b(0,f.inputs,l,c,p),u=$b(1,f.outputs,l,u,y);let b=c!==null&&o!==null&&!fv(e)?iU(c,l,o):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function Hj(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function _l(t,e,i,n,r,s,o,a){let c=dn(e,i),u=e.inputs,l;!a&&u!=null&&(l=u[n])?(Uv(t,i,l,n,r),Dl(e)&&zj(i,e.index)):e.type&3?(n=Hj(n),r=o!=null?o(r,e.value||"",n):r,s.setProperty(c,n,r)):e.type&12}function zj(t,e){let i=di(e,t);i[Q]&16||(i[Q]|=64)}function jv(t,e,i,n){if(Gw()){let r=n===null?null:{"":-1},s=Kj(t,i),o,a;s===null?o=a=null:[o,a]=s,o!==null&&QT(t,e,i,o,r,a),r&&Zj(i,n,r)}i.mergedAttrs=aa(i.mergedAttrs,i.attrs)}function QT(t,e,i,n,r,s){for(let u=0;u<n.length;u++)pm(il(i,e),t,n[u].type);Jj(i,t.data.length,n.length);for(let u=0;u<n.length;u++){let l=n[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=YT(t,e,n.length,null);for(let u=0;u<n.length;u++){let l=n[u];i.mergedAttrs=aa(i.mergedAttrs,l.hostAttrs),Xj(t,i,e,c,l),Qj(c,l,r),l.contentQueries!==null&&(i.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(i.flags|=64);let f=l.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),a=!0),c++}Vj(t,i,s)}function Gj(t,e,i,n,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Wj(o)!=a&&o.push(a),o.push(i,n,s)}}function Wj(t){let e=t.length;for(;e>0;){let i=t[--e];if(typeof i=="number"&&i<0)return i}return 0}function qj(t,e,i,n){let r=i.directiveStart,s=i.directiveEnd;Dl(i)&&eU(e,i,t.data[r+i.componentOffset]),t.firstCreatePass||il(i,e),ui(n,e);let o=i.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],u=Hi(e,t,a,i);if(ui(u,e),o!==null&&rU(e,a-r,u,c,i,o),ci(c)){let l=di(i.index,e);l[wn]=Hi(e,t,a,i)}}}function JT(t,e,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=ok();try{Bi(s);for(let a=n;a<r;a++){let c=t.data[a],u=e[a];fm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Yj(c,u)}}finally{Bi(-1),fm(o)}}function Yj(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Kj(t,e){let i=t.directiveRegistry,n=null,r=null;if(i)for(let s=0;s<i.length;s++){let o=i[s];if(Iw(e,o.selectors,!1))if(n||(n=[]),ci(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o);let c=a.length;xm(t,e,c)}else n.unshift(o),xm(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return n===null?null:[n,r]}function xm(t,e,i){e.componentOffset=i,(t.components??=[]).push(e.index)}function Zj(t,e,i){if(e){let n=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=i[e[r+1]];if(s==null)throw new j(-301,!1);n.push(e[r],s)}}}function Qj(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;ci(e)&&(i[""]=t)}}function Jj(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function Xj(t,e,i,n,r){t.data[n]=r;let s=r.factory||(r.factory=ji(r.type,!0)),o=new Vi(s,ci(r),X);t.blueprint[n]=o,i[n]=o,Gj(t,e,n,YT(t,i,r.hostVars,Nt),r)}function eU(t,e,i){let n=dn(e,t),r=ZT(i),s=t[Tn].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=Ll(t,Fl(t,r,null,o,n,e,null,s.createRenderer(n,i),null,null,null));t[e.index]=a}function tU(t,e,i,n,r,s){let o=dn(t,e);nU(e[Fe],o,s,t.value,i,n,r)}function nU(t,e,i,n,r,s,o){if(s==null)t.removeAttribute(e,r,i);else{let a=o==null?Dn(s):o(s,n||"",r);t.setAttribute(e,r,a,i)}}function rU(t,e,i,n,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],f=o[a++];qT(n,i,c,u,l,f)}}function iU(t,e,i){let n=null,r=0;for(;r<i.length;){let s=i[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){n===null&&(n=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){n.push(s,o[a+1],o[a+2],i[r+1]);break}}r+=2}return n}function XT(t,e,i,n){return[t,!0,0,e,null,n,null,i,null,null]}function e0(t,e){let i=t.contentQueries;if(i!==null){let n=ve(null);try{for(let r=0;r<i.length;r+=2){let s=i[r],o=i[r+1];if(o!==-1){let a=t.data[o];Sv(s),a.contentQueries(2,e[o],o)}}}finally{ve(n)}}}function Ll(t,e){return t[da]?t[wb][bn]=e:t[da]=e,t[wb]=e,e}function Om(t,e,i){Sv(0);let n=ve(null);try{e(t,i)}finally{ve(n)}}function t0(t){return t[la]||(t[la]=[])}function n0(t){return t.cleanup||(t.cleanup=[])}function r0(t,e){let i=t[Bs],n=i?i.get(It,null):null;n&&n.handleError(e)}function Uv(t,e,i,n,r){for(let s=0;s<i.length;){let o=i[s++],a=i[s++],c=i[s++],u=e[o],l=t.data[o];qT(l,u,n,a,c,r)}}function $v(t,e,i){let n=Bw(e,t);gj(t[Fe],n,i)}function sU(t,e){let i=di(e,t),n=i[ie];oU(n,i);let r=i[Mr];r!==null&&i[ua]===null&&(i[ua]=Mv(r,i[Bs])),Bv(n,i,i[wn])}function oU(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}function Bv(t,e,i){Iv(e);try{let n=t.viewQuery;n!==null&&Om(1,n,i);let r=t.template;r!==null&&KT(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),e[wr]?.finishViewCreation(t),t.staticContentQueries&&e0(t,e),t.staticViewQueries&&Om(2,t.viewQuery,i);let s=t.components;s!==null&&aU(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[Q]&=-5,Dv()}}function aU(t,e){for(let i=0;i<e.length;i++)sU(t,e[i])}function cU(t,e,i,n){let r=ve(null);try{let s=e.tView,a=t[Q]&4096?4096:16,c=Fl(t,s,i,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),u=t[e.index];c[Sa]=u;let l=t[wr];return l!==null&&(c[wr]=l.createEmbeddedView(s)),Bv(s,c,i),c}finally{ve(r)}}function Vb(t,e){return!e||e.firstChild===null||pT(t)}function uU(t,e,i,n=!0){let r=e[ie];if(Cj(r,e,t,i),n){let o=Mm(i,t),a=e[Fe],c=Nv(a,t[$i]);c!==null&&yj(r,t[Yt],a,e,c,o)}let s=e[ua];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ol(t,e,i,n,r=!1){for(;i!==null;){let s=e[i.index];s!==null&&n.push(tr(s)),xr(s)&&lU(s,n);let o=i.type;if(o&8)ol(t,e,i.child,n);else if(o&32){let a=Ov(i,e),c;for(;c=a();)n.push(c)}else if(o&16){let a=BT(e,i);if(Array.isArray(a))n.push(...a);else{let c=ha(e[An]);ol(c[ie],c,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function lU(t,e){for(let i=qt;i<t.length;i++){let n=t[i],r=n[ie].firstChild;r!==null&&ol(n[ie],n,r,e)}t[$i]!==t[Mr]&&e.push(t[$i])}var i0=[];function dU(t){return t[Ui]??fU(t)}function fU(t){let e=i0.pop()??Object.create(pU);return e.lView=t,e}function hU(t){t.lView[Ui]!==t&&(t.lView=null,i0.push(t))}var pU=T(v({},_u),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{fa(t.lView)},consumerOnSignalRead(){this.lView[Ui]=this}}),s0=100;function o0(t,e=!0,i=0){let n=t[Tn],r=n.rendererFactory,s=!1;s||r.begin?.();try{gU(t,i)}catch(o){throw e&&r0(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush())}}function gU(t,e){Nm(t,e);let i=0;for(;yv(t);){if(i===s0)throw new j(103,!1);i++,Nm(t,1)}}function mU(t,e,i,n){let r=e[Q];if((r&256)===256)return;let s=!1;!s&&e[Tn].inlineEffectRunner?.flush(),Iv(e);let o=null,a=null;!s&&vU(t)&&(a=dU(e),o=kg(a));try{Hw(e),rk(t.bindingStartIndex),i!==null&&KT(t,e,i,2,n);let c=(r&3)===3;if(!s)if(c){let f=t.preOrderCheckHooks;f!==null&&Gu(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Wu(e,f,0,null),zg(e,0)}if(yU(e),a0(e,0),t.contentQueries!==null&&e0(t,e),!s)if(c){let f=t.contentCheckHooks;f!==null&&Gu(e,f)}else{let f=t.contentHooks;f!==null&&Wu(e,f,1),zg(e,1)}Fj(t,e);let u=t.components;u!==null&&u0(e,u,0);let l=t.viewQuery;if(l!==null&&Om(2,l,n),!s)if(c){let f=t.viewCheckHooks;f!==null&&Gu(e,f)}else{let f=t.viewHooks;f!==null&&Wu(e,f,2),zg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Hg]){for(let f of e[Hg])f();e[Hg]=null}s||(e[Q]&=-73)}catch(c){throw fa(e),c}finally{a!==null&&(jg(a,o),hU(a)),Dv()}}function vU(t){return t.type!==2}function a0(t,e){for(let i=mT(t);i!==null;i=vT(i))for(let n=qt;n<i.length;n++){let r=i[n];c0(r,e)}}function yU(t){for(let e=mT(t);e!==null;e=vT(e)){if(!(e[Q]&gv.HasTransplantedViews))continue;let i=e[Vs];for(let n=0;n<i.length;n++){let r=i[n],s=r[gt];qL(r)}}}function EU(t,e,i){let n=di(e,t);c0(n,i)}function c0(t,e){vv(t)&&Nm(t,e)}function Nm(t,e){let n=t[ie],r=t[Q],s=t[Ui],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Ug(s)),s&&(s.dirty=!1),t[Q]&=-9217,o)mU(n,t,n.template,t[wn]);else if(r&8192){a0(t,1);let a=n.components;a!==null&&u0(t,a,1)}}function u0(t,e,i){for(let n=0;n<e.length;n++)EU(t,e[n],i)}function Vv(t){for(t[Tn].changeDetectionScheduler?.notify();t;){t[Q]|=64;let e=ha(t);if(kL(t)&&!e)return t;t=e}return null}var zi=class{get rootNodes(){let e=this._lView,i=e[ie];return ol(i,e,i.firstChild,[])}constructor(e,i,n=!0){this._lView=e,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(e){this._lView[wn]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(xr(e)){let i=e[el],n=i?i.indexOf(this):-1;n>-1&&(Rm(e,n),Ju(i,n))}this._attachedToViewContainer=!1}kT(this._lView[ie],this._lView)}onDestroy(e){zw(this._lView,e)}markForCheck(){Vv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){dm(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,o0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,_T(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,dm(this._lView)}},Rn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IU;let t=e;return t})(),CU=Rn,SU=class extends CU{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,n){let r=cU(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:n});return new zi(r)}};function IU(){return kl(Dt(),Z())}function kl(t,e){return t.type&4?new SU(e,t,Ys(t,e)):null}var Vie=new RegExp(`^(\\d+)*(${jk}|${kk})*(.*)`);var DU=()=>null;function Hb(t,e){return DU(t,e)}var al=class{},Pm=class{},cl=class{};function bU(t){let e=Error(`No component factory found for ${xt(t)}.`);return e[wU]=t,e}var wU="ngComponent";var Fm=class{resolveComponentFactory(e){throw bU(e)}},jl=(()=>{let e=class e{};e.NULL=new Fm;let t=e;return t})(),Gi=class{},Zs=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>TU();let t=e;return t})();function TU(){let t=Z(),e=Dt(),i=di(e.index,t);return(Li(i)?i:t)[Fe]}var AU=(()=>{let e=class e{};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Kg={};var zb=new Set;function Qs(t){zb.has(t)||(zb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Gb(...t){}function RU(){let t=typeof Ge.requestAnimationFrame=="function",e=Ge[t?"requestAnimationFrame":"setTimeout"],i=Ge[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&i){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:i}}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pt(!1),this.onMicrotaskEmpty=new pt(!1),this.onStable=new pt(!1),this.onError=new pt(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=RU().nativeRequestAnimationFrame,OU(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,MU,Gb,Gb);try{return s.runTask(o,i,n)}finally{s.cancelTask(o)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}},MU={};function Hv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xU(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_m(t),t.isCheckStableRunning=!0,Hv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_m(t))}function OU(t){let e=()=>{xU(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,s,o,a)=>{if(NU(a))return i.invokeTask(r,s,o,a);try{return Wb(t),i.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qb(t)}},onInvoke:(i,n,r,s,o,a,c)=>{try{return Wb(t),i.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),qb(t)}},onHasTask:(i,n,r,s)=>{i.hasTask(r,s),n===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,_m(t),Hv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,n,r,s)=>(i.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function _m(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Wb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qb(t){t._nesting--,Hv(t)}var Lm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pt,this.onMicrotaskEmpty=new pt,this.onStable=new pt,this.onError=new pt}run(e,i,n){return e.apply(i,n)}runGuarded(e,i,n){return e.apply(i,n)}runOutsideAngular(e){return e()}runTask(e,i,n,r){return e.apply(i,n)}};function NU(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function PU(t="zone.js",e){return t==="noop"?new Lm:t==="zone.js"?new Ce(e):t}var Ls=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ls||{}),FU={destroy(){}};function Ul(t,e){!e&&Ca(Ul);let i=e?.injector??C(Ye);if(!fj(i))return FU;Qs("NgAfterNextRender");let n=i.get(zv),r=n.handler??=new jm,s=e?.phase??Ls.MixedReadWrite,o=()=>{r.unregister(c),a()},a=i.get(fi).onDestroy(o),c=Mn(i,()=>new km(s,()=>{o(),t()}));return r.register(c),{destroy:o}}var km=class{constructor(e,i){this.phase=e,this.callbackFn=i,this.zone=C(Ce),this.errorHandler=C(It,{optional:!0}),C(al,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},jm=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ls.EarlyRead]:new Set,[Ls.Write]:new Set,[Ls.MixedReadWrite]:new Set,[Ls.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let i of e)i.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},zv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function ul(t,e,i){let n=i?t.styles:null,r=i?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=nm(r,a);else if(s==2){let c=a,u=e[++o];n=nm(n,c+": "+u+";")}}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=r:t.classesWithoutHost=r}var ll=class extends jl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let i=ai(e);return new zs(i,this.ngModule)}};function Yb(t){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let n=t[i];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:i})}return e}function _U(t){let e=t.toLowerCase();return e==="svg"?BL:e==="math"?VL:null}var Um=class{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=El(n);let r=this.injector.get(e,Kg,n);return r!==Kg||i===Kg?r:this.parentInjector.get(e,i,n)}},zs=class extends cl{get inputs(){let e=this.componentDef,i=e.inputTransforms,n=Yb(e.inputs);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return Yb(this.componentDef.outputs)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=EL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,r){let s=ve(null);try{r=r||this.ngModule;let o=r instanceof Ct?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Um(e,o):e,c=a.get(Gi,null);if(c===null)throw new j(407,!1);let u=a.get(AU,null),l=a.get(zv,null),f=a.get(al,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:f},p=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=n?kj(p,n,this.componentDef.encapsulation,a):FT(p,y,_U(y)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let R=null;b!==null&&(R=Mv(b,a,!0));let V=kv(0,null,null,1,0,null,null,null,null,null,null),k=Fl(null,V,null,w,null,null,h,p,a,null,R);Iv(k);let H,te;try{let ue=this.componentDef,fe,Ne=null;ue.findHostDirectiveDefs?(fe=[],Ne=new Map,ue.findHostDirectiveDefs(ue,fe,Ne),fe.push(ue)):fe=[ue];let Ai=LU(k,b),Bn=kU(Ai,b,ue,fe,k,h,p);te=Vw(V,St),b&&$U(p,ue,b,n),i!==void 0&&BU(te,this.ngContentSelectors,i),H=UU(Bn,ue,fe,Ne,k,[VU]),Bv(V,k,null)}finally{Dv()}return new $m(this.componentType,H,Ys(te,k),k,te)}finally{ve(s)}}},$m=class extends Pm{constructor(e,i,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new zi(r,void 0,!1),this.componentType=e}setInput(e,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),i))return;let s=this._rootLView;Uv(s[ie],s,r,e,i),this.previousInputValues.set(e,i);let o=di(this._tNode.index,s);Vv(o)}}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function LU(t,e){let i=t[ie],n=St;return t[n]=e,Ks(i,n,2,"#host",null)}function kU(t,e,i,n,r,s,o){let a=r[ie];jU(n,t,e,o);let c=null;e!==null&&(c=Mv(e,r[Bs]));let u=s.rendererFactory.createRenderer(e,i),l=16;i.signals?l=4096:i.onPush&&(l=64);let f=Fl(r,ZT(i),null,l,r[t.index],t,s,u,null,null,c);return a.firstCreatePass&&xm(a,t,n.length-1),Ll(r,f),r[t.index]=f}function jU(t,e,i,n){for(let r of t)e.mergedAttrs=aa(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(ul(e,e.mergedAttrs,!0),i!==null&&zT(n,i,e))}function UU(t,e,i,n,r,s){let o=Dt(),a=r[ie],c=dn(o,r);QT(a,r,o,i,null,n);for(let l=0;l<i.length;l++){let f=o.directiveStart+l,h=Hi(r,a,f,o);ui(h,r)}JT(a,r,o),c&&ui(c,r);let u=Hi(r,a,o.directiveStart+o.componentOffset,o);if(t[wn]=r[wn]=u,s!==null)for(let l of s)l(u,e);return Fv(a,o,r),u}function $U(t,e,i,n){if(n)om(t,i,["ng-version","17.3.12"]);else{let{attrs:r,classes:s}=CL(e.selectors[0]);r&&om(t,i,r),s&&s.length>0&&HT(t,i,s.join(" "))}}function BU(t,e,i){let n=t.projection=[];for(let r=0;r<e.length;r++){let s=i[r];n.push(s!=null?Array.from(s):null)}}function VU(){let t=Dt();Rl(Z()[ie],t)}var Bt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HU;let t=e;return t})();function HU(){let t=Dt();return d0(t,Z())}var zU=Bt,l0=class extends zU{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return Ys(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){let e=bv(this._hostTNode,this._hostLView);if(rT(e)){let i=nl(e,this._hostLView),n=tl(e),r=i[ie].data[n+8];return new ki(r,i)}else return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let i=Kb(this._lContainer);return i!==null&&i[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,i,n){let r,s;typeof n=="number"?r=n:n!=null&&(r=n.index,s=n.injector);let o=Hb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(i||{},s,o);return this.insertImpl(a,r,Vb(this._hostTNode,o)),a}createComponent(e,i,n,r,s){let o=e&&!LL(e),a;if(o)a=i;else{let y=i||{};a=y.index,n=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new zs(ai(e)),u=n||this.parentInjector;if(!s&&c.ngModule==null){let b=(o?u:this.parentInjector).get(Ct,null);b&&(s=b)}let l=ai(c.componentType??{}),f=Hb(this._lContainer,l?.id??null),h=f?.firstChild??null,p=c.create(u,r,h,s);return this.insertImpl(p.hostView,a,Vb(this._hostTNode,f)),p}insert(e,i){return this.insertImpl(e,i,!0)}insertImpl(e,i,n){let r=e._lView;if(WL(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[gt],u=new l0(c,c[Yt],c[gt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(i),o=this._lContainer;return uU(o,r,s,n),e.attachToViewContainerRef(),mw(Zg(o),s,e),e}move(e,i){return this.insert(e,i)}indexOf(e){let i=Kb(this._lContainer);return i!==null?i.indexOf(e):-1}remove(e){let i=this._adjustIndex(e,-1),n=Rm(this._lContainer,i);n&&(Ju(Zg(this._lContainer),i),kT(n[ie],n))}detach(e){let i=this._adjustIndex(e,-1),n=Rm(this._lContainer,i);return n&&Ju(Zg(this._lContainer),i)!=null?new zi(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function Kb(t){return t[el]}function Zg(t){return t[el]||(t[el]=[])}function d0(t,e){let i,n=e[t.index];return xr(n)?i=n:(i=XT(n,e,null,t),e[t.index]=i,Ll(e,i)),WU(i,e,t,n),new l0(i,t,e)}function GU(t,e){let i=t[Fe],n=i.createComment(""),r=dn(e,t),s=Nv(i,r);return sl(i,s,n,Tj(i,r),!1),n}var WU=KU,qU=()=>!1;function YU(t,e,i){return qU(t,e,i)}function KU(t,e,i,n){if(t[$i])return;let r;i.type&8?r=tr(n):r=GU(e,i),t[$i]=r}var Bm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Vm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let i=e.queries;if(i!==null){let n=e.contentQueries!==null?e.contentQueries[0]:i.length,r=[];for(let s=0;s<n;s++){let o=i.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)Gv(e,i).matches!==null&&this.queries[i].setDirty()}},dl=class{constructor(e,i,n=null){this.flags=i,this.read=n,typeof e=="string"?this.predicate=r1(e):this.predicate=e}},Hm=class t{constructor(e=[]){this.queries=e}elementStart(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,i!==null?i.push(s):i=[s])}return i!==null?new t(i):null}template(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},zm=class t{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let s=n[r];this.matchTNodeWithReadOption(e,i,ZU(i,s)),this.matchTNodeWithReadOption(e,i,qu(i,e,s,!1,!1))}else n===Rn?i.type&4&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,qu(i,e,n,!1,!1))}matchTNodeWithReadOption(e,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===ir||r===Bt||r===Rn&&i.type&4)this.addMatch(i.index,-2);else{let s=qu(i,e,r,!1,!1);s!==null&&this.addMatch(i.index,s)}else this.addMatch(i.index,n)}}addMatch(e,i){this.matches===null?this.matches=[e,i]:this.matches.push(e,i)}};function ZU(t,e){let i=t.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1]}return null}function QU(t,e){return t.type&11?Ys(t,e):t.type&4?kl(t,e):null}function JU(t,e,i,n){return i===-1?QU(e,t):i===-2?XU(t,e,n):Hi(t,t[ie],i,e)}function XU(t,e,i){if(i===ir)return Ys(e,t);if(i===Rn)return kl(e,t);if(i===Bt)return d0(e,t)}function f0(t,e,i,n){let r=e[wr].queries[n];if(r.matches===null){let s=t.data,o=i.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(JU(e,l,o[c+1],i.metadata.read))}}r.matches=a}return r.matches}function Gm(t,e,i,n){let r=t.queries.getByIndex(i),s=r.matches;if(s!==null){let o=f0(t,e,r,i);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)n.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let f=qt;f<l.length;f++){let h=l[f];h[Sa]===h[gt]&&Gm(h[ie],h,u,n)}if(l[Vs]!==null){let f=l[Vs];for(let h=0;h<f.length;h++){let p=f[h];Gm(p[ie],p,u,n)}}}}}return n}function e1(t,e){return t[wr].queries[e].queryList}function h0(t,e,i){let n=new ym((i&4)===4);return $j(t,e,n,n.destroy),(e[wr]??=new Vm).queries.push(new Bm(n))-1}function t1(t,e,i){let n=Ue();return n.firstCreatePass&&(p0(n,new dl(t,e,i),-1),(e&2)===2&&(n.staticViewQueries=!0)),h0(n,Z(),e)}function n1(t,e,i,n){let r=Ue();if(r.firstCreatePass){let s=Dt();p0(r,new dl(e,i,n),s.index),i1(r,t),(i&2)===2&&(r.staticContentQueries=!0)}return h0(r,Z(),i)}function r1(t){return t.split(",").map(e=>e.trim())}function p0(t,e,i){t.queries===null&&(t.queries=new Hm),t.queries.track(new zm(e,i))}function i1(t,e){let i=t.contentQueries||(t.contentQueries=[]),n=i.length?i[i.length-1]:-1;e!==n&&i.push(t.queries.length-1,e)}function Gv(t,e){return t.queries.getByIndex(e)}function s1(t,e){let i=t[ie],n=Gv(i,e);return n.crossesNgTemplate?Gm(i,t,e,[]):f0(i,t,n,e)}function o1(t){return typeof t=="function"&&t[br]!==void 0}function Wv(t,e){Qs("NgSignals");let i=hb(t),n=i[br];return e?.equal&&(n.equal=e.equal),i.set=r=>$g(n,r),i.update=r=>pb(n,r),i.asReadonly=a1.bind(i),i}function a1(){let t=this[br];if(t.readonlyFn===void 0){let e=()=>this();e[br]=t,t.readonlyFn=e}return t.readonlyFn}function g0(t){return o1(t)&&typeof t.set=="function"}function c1(t){let e=[],i=new Map;function n(r){let s=i.get(r);if(!s){let o=t(r);i.set(r,s=o.then(f1))}return s}return fl.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(n(r.templateUrl).then(u=>{r.template=u}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let u=r.styles.length,l=r.styleUrls;r.styleUrls.forEach((f,h)=>{a.push(""),o.push(n(f).then(p=>{a[u+h]=p,l.splice(l.indexOf(f),1),l.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(n(r.styleUrl).then(u=>{a.push(u),r.styleUrl=void 0}));let c=Promise.all(o).then(()=>h1(s));e.push(c)}),l1(),Promise.all(e).then(()=>{})}var fl=new Map,u1=new Set;function l1(){let t=fl;return fl=new Map,t}function d1(){return fl.size===0}function f1(t){return typeof t=="string"?t:t.text()}function h1(t){u1.delete(t)}function p1(t){return Object.getPrototypeOf(t.prototype).constructor}function g1(t){let e=p1(t.type),i=!0,n=[t];for(;e;){let r;if(ci(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(i){n.push(r);let o=t;o.inputs=Bu(t.inputs),o.inputTransforms=Bu(t.inputTransforms),o.declaredInputs=Bu(t.declaredInputs),o.outputs=Bu(t.outputs);let a=r.hostBindings;a&&C1(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&y1(t,c),u&&E1(t,u),m1(t,r),j_(t.outputs,r.outputs),ci(r)&&r.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===g1&&(i=!1)}}e=Object.getPrototypeOf(e)}v1(n)}function m1(t,e){for(let i in e.inputs){if(!e.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;let n=e.inputs[i];if(n!==void 0&&(t.inputs[i]=n,t.declaredInputs[i]=e.declaredInputs[i],e.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function v1(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){let r=t[n];r.hostVars=e+=r.hostVars,r.hostAttrs=aa(r.hostAttrs,i=aa(i,r.hostAttrs))}}function Bu(t){return t===Us?{}:t===Ut?[]:t}function y1(t,e){let i=t.viewQuery;i?t.viewQuery=(n,r)=>{e(n,r),i(n,r)}:t.viewQuery=e}function E1(t,e){let i=t.contentQueries;i?t.contentQueries=(n,r,s)=>{e(n,r,s),i(n,r,s)}:t.contentQueries=e}function C1(t,e){let i=t.hostBindings;i?t.hostBindings=(n,r)=>{e(n,r),i(n,r)}:t.hostBindings=e}function qv(t){let e=t.inputConfig,i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];Array.isArray(r)&&r[3]&&(i[n]=r[3])}t.inputTransforms=i}var Rr=class{},Wi=class{};function m0(t,e){return new pa(t,e??null,[])}var pa=class extends Rr{constructor(e,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ll(this);let r=Aw(e);this._bootstrapComponents=PT(r.bootstrap),this._r3Injector=fT(e,i,[{provide:Rr,useValue:this},{provide:jl,useValue:this.componentFactoryResolver},...n],xt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hl=class extends Wi{constructor(e){super(),this.moduleType=e}create(e){return new pa(this.moduleType,e,[])}};function S1(t,e,i){return new pa(t,e,i)}var Wm=class extends Rr{constructor(e){super(),this.componentFactoryResolver=new ll(this),this.instance=null;let i=new ca([...e.providers,{provide:Rr,useValue:this},{provide:jl,useValue:this.componentFactoryResolver}],e.parent||pv(),e.debugName,new Set(["environment"]));this.injector=i,e.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $l(t,e,i=null){return new Wm({providers:t,parent:e,debugName:i,runEnvironmentInitializers:!0}).injector}var Ki=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function v0(t){return Yv(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function I1(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{let i=t[Symbol.iterator](),n;for(;!(n=i.next()).done;)e(n.value)}}function Yv(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Js(t,e,i){return t[e]=i}function y0(t,e){return t[e]}function cn(t,e,i){let n=t[e];return Object.is(n,i)?!1:(t[e]=i,!0)}function ga(t,e,i,n){let r=cn(t,e,i);return cn(t,e+1,n)||r}function E0(t,e,i,n,r){let s=ga(t,e,i,n);return cn(t,e+2,r)||s}function C0(t,e,i,n,r,s){let o=ga(t,e,i,n);return ga(t,e+2,r,s)||o}function D1(t){return(t.flags&32)===32}function b1(t,e,i,n,r,s,o,a,c){let u=e.consts,l=Ks(e,t,4,o||null,Hs(u,a));jv(e,i,l,Hs(u,c)),Rl(e,l);let f=l.tView=kv(2,l,n,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}function w1(t,e,i,n,r,s,o,a){let c=Z(),u=Ue(),l=t+St,f=u.firstCreatePass?b1(l,u,c,e,i,n,r,s,o):u.data[l];Yi(f,!1);let h=T1(u,c,f,t);Tl()&&Nl(u,c,h,f),ui(h,c);let p=XT(h,c,h,f);return c[l]=p,Ll(c,p),YU(p,f,c),bl(f)&&_v(u,c,f),o!=null&&Lv(c,f,a),w1}var T1=A1;function A1(t,e,i,n){return Al(!0),e[Fe].createComment("")}function Kv(t,e,i,n){let r=Z(),s=Da();if(cn(r,s,e)){let o=Ue(),a=ba();tU(a,r,t,e,i,n)}return Kv}function Zv(t,e,i,n){return cn(t,Da(),i)?e+Dn(i)+n:Nt}function R1(t,e,i,n,r,s){let o=Yw(),a=ga(t,o,i,r);return wl(2),a?e+Dn(i)+n+Dn(r)+s:Nt}function M1(t,e,i,n,r,s,o,a){let c=Yw(),u=E0(t,c,i,r,o);return wl(3),u?e+Dn(i)+n+Dn(r)+s+Dn(o)+a:Nt}function Vu(t,e){return t<<17|e<<2}function qi(t){return t>>17&32767}function x1(t){return(t&2)==2}function O1(t,e){return t&131071|e<<17}function qm(t){return t|2}function Gs(t){return(t&131068)>>2}function Qg(t,e){return t&-131069|e<<2}function N1(t){return(t&1)===1}function Ym(t){return t|1}function P1(t,e,i,n,r,s){let o=s?e.classBindings:e.styleBindings,a=qi(o),c=Gs(o);t[n]=i;let u=!1,l;if(Array.isArray(i)){let f=i;l=f[1],(l===null||Ea(f,l)>0)&&(u=!0)}else l=i;if(r)if(c!==0){let h=qi(t[a+1]);t[n+1]=Vu(h,a),h!==0&&(t[h+1]=Qg(t[h+1],n)),t[a+1]=O1(t[a+1],n)}else t[n+1]=Vu(a,0),a!==0&&(t[a+1]=Qg(t[a+1],n)),a=n;else t[n+1]=Vu(c,0),a===0?a=n:t[c+1]=Qg(t[c+1],n),c=n;u&&(t[n+1]=qm(t[n+1])),Zb(t,l,n,!0),Zb(t,l,n,!1),F1(e,l,t,n,s),o=Vu(a,c),s?e.classBindings=o:e.styleBindings=o}function F1(t,e,i,n,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ea(s,e)>=0&&(i[n+1]=Ym(i[n+1]))}function Zb(t,e,i,n){let r=t[i+1],s=e===null,o=n?qi(r):Gs(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];_1(c,e)&&(a=!0,t[o+1]=n?Ym(u):qm(u)),o=n?qi(u):Gs(u)}a&&(t[i+1]=n?qm(r):Ym(r))}function _1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ea(t,e)>=0:!1}var et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S0(t){return t.substring(et.key,et.keyEnd)}function L1(t){return t.substring(et.value,et.valueEnd)}function k1(t){return b0(t),I0(t,Ws(t,0,et.textEnd))}function I0(t,e){let i=et.textEnd;return i===e?-1:(e=et.keyEnd=U1(t,et.key=e,i),Ws(t,e,i))}function j1(t){return b0(t),D0(t,Ws(t,0,et.textEnd))}function D0(t,e){let i=et.textEnd,n=et.key=Ws(t,e,i);return i===n?-1:(n=et.keyEnd=$1(t,n,i),n=Qb(t,n,i,58),n=et.value=Ws(t,n,i),n=et.valueEnd=B1(t,n,i),Qb(t,n,i,59))}function b0(t){et.key=0,et.keyEnd=0,et.value=0,et.valueEnd=0,et.textEnd=t.length}function Ws(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function U1(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}function $1(t,e,i){let n;for(;e<i&&((n=t.charCodeAt(e))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)e++;return e}function Qb(t,e,i,n){return e=Ws(t,e,i),e<i&&e++,e}function B1(t,e,i){let n=-1,r=-1,s=-1,o=e,a=o;for(;o<i;){let c=t.charCodeAt(o++);if(c===59)return a;c===34||c===39?a=o=Jb(t,c,o,i):e===o-4&&s===85&&r===82&&n===76&&c===40?a=o=Jb(t,41,o,i):c>32&&(a=o),s=r,r=n,n=c&-33}return a}function Jb(t,e,i,n){let r=-1,s=i;for(;s<n;){let o=t.charCodeAt(s++);if(o==e&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function V1(t,e,i){let n=Z(),r=Da();if(cn(n,r,e)){let s=Ue(),o=ba();_l(s,o,n,t,e,n[Fe],i,!1)}return V1}function Km(t,e,i,n,r){let s=e.inputs,o=r?"class":"style";Uv(t,i,s[o],o,n)}function w0(t,e,i){return A0(t,e,i,!1),w0}function H1(t,e){return A0(t,e,null,!0),H1}function zie(t){Qv(x0,z1,t,!1)}function z1(t,e){for(let i=j1(e);i>=0;i=D0(e,i))x0(t,S0(e),L1(e))}function Gie(t){Qv(Z1,T0,t,!0)}function T0(t,e){for(let i=k1(e);i>=0;i=I0(e,i))ya(t,S0(e),!0)}function A0(t,e,i,n){let r=Z(),s=Ue(),o=wl(2);if(s.firstUpdatePass&&M0(s,t,o,n),e!==Nt&&cn(r,o,e)){let a=s.data[Or()];O0(s,a,r,r[Fe],t,r[o+1]=J1(e,i),n,o)}}function Qv(t,e,i,n){let r=Ue(),s=wl(2);r.firstUpdatePass&&M0(r,null,s,n);let o=Z();if(i!==Nt&&cn(o,s,i)){let a=r.data[Or()];if(N0(a,n)&&!R0(r,s)){let c=n?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(i=nm(c,i||"")),Km(r,a,o,i,n)}else Q1(r,a,o,o[Fe],o[s+1],o[s+1]=K1(t,e,i),n,s)}}function R0(t,e){return e>=t.expandoStartIndex}function M0(t,e,i,n){let r=t.data;if(r[i+1]===null){let s=r[Or()],o=R0(t,i);N0(s,n)&&e===null&&!o&&(e=!1),e=G1(r,s,e,n),P1(r,s,e,i,o,n)}}function G1(t,e,i,n){let r=ak(t),s=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(i=Jg(null,t,e,i,n),i=ma(i,e.attrs,n),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(i=Jg(r,t,e,i,n),s===null){let c=W1(t,e,n);c!==void 0&&Array.isArray(c)&&(c=Jg(null,t,e,c[1],n),c=ma(c,e.attrs,n),q1(t,e,n,c))}else s=Y1(t,e,n)}return s!==void 0&&(n?e.residualClasses=s:e.residualStyles=s),i}function W1(t,e,i){let n=i?e.classBindings:e.styleBindings;if(Gs(n)!==0)return t[qi(n)]}function q1(t,e,i,n){let r=i?e.classBindings:e.styleBindings;t[qi(r)]=n}function Y1(t,e,i){let n,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;n=ma(n,o,i)}return ma(n,e.attrs,i)}function Jg(t,e,i,n,r){let s=null,o=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<o&&(s=e[a],n=ma(n,s.hostAttrs,r),s!==t);)a++;return t!==null&&(i.directiveStylingLast=a),n}function ma(t,e,i){let n=i?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ya(t,o,i?!0:e[++s]))}return t===void 0?null:t}function K1(t,e,i){if(i==null||i==="")return Ut;let n=[],r=$t(i);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(n,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(n,s,r[s]);else typeof r=="string"&&e(n,r);return n}function x0(t,e,i){ya(t,e,$t(i))}function Z1(t,e,i){let n=String(e);n!==""&&!n.includes(" ")&&ya(t,n,i)}function Q1(t,e,i,n,r,s,o,a){r===Nt&&(r=Ut);let c=0,u=0,l=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;l!==null||f!==null;){let h=c<r.length?r[c+1]:void 0,p=u<s.length?s[u+1]:void 0,y=null,b;l===f?(c+=2,u+=2,h!==p&&(y=f,b=p)):f===null||l!==null&&l<f?(c+=2,y=l):(u+=2,y=f,b=p),y!==null&&O0(t,e,i,n,y,b,o,a),l=c<r.length?r[c]:null,f=u<s.length?s[u]:null}}function O0(t,e,i,n,r,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=N1(u)?Xb(c,e,i,r,Gs(u),o):void 0;if(!pl(l)){pl(s)||x1(u)&&(s=Xb(c,null,i,r,a,o));let f=Bw(Or(),i);Nj(n,o,f,r,s)}}function Xb(t,e,i,n,r,s){let o=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),l=u?c[1]:c,f=l===null,h=i[r+1];h===Nt&&(h=f?Ut:void 0);let p=f?Bg(h,n):l===n?h:void 0;if(u&&!pl(p)&&(p=Bg(c,n)),pl(p)&&(a=p,o))return a;let y=t[r+1];r=o?qi(y):Gs(y)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Bg(c,n))}return a}function pl(t){return t!==void 0}function J1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=xt($t(t)))),t}function N0(t,e){return(t.flags&(e?8:16))!==0}function Wie(t,e,i){let n=Z(),r=Zv(n,t,e,i);Qv(ya,T0,r,!0)}function X1(t,e,i,n,r,s){let o=e.consts,a=Hs(o,r),c=Ks(e,t,2,n,a);return jv(e,i,c,Hs(o,s)),c.attrs!==null&&ul(c,c.attrs,!1),c.mergedAttrs!==null&&ul(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function P0(t,e,i,n){let r=Z(),s=Ue(),o=St+t,a=r[Fe],c=s.firstCreatePass?X1(o,s,r,e,i,n):s.data[o],u=e$(s,r,c,a,e,t);r[o]=u;let l=bl(c);return Yi(c,!0),zT(a,u,c),!D1(c)&&Tl()&&Nl(s,r,u,c),ZL()===0&&ui(u,r),QL(),l&&(_v(s,r,c),Fv(s,c,r)),n!==null&&Lv(r,c),P0}function F0(){let t=Dt();Ev()?Cv():(t=t.parent,Yi(t,!1));let e=t;XL(e)&&ek(),JL();let i=Ue();return i.firstCreatePass&&(Rl(i,t),mv(t)&&i.queries.elementEnd(t)),e.classesWithoutHost!=null&&pk(e)&&Km(i,e,Z(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gk(e)&&Km(i,e,Z(),e.stylesWithoutHost,!1),F0}function Jv(t,e,i,n){return P0(t,e,i,n),F0(),Jv}var e$=(t,e,i,n,r,s)=>(Al(!0),FT(n,r,lk()));function t$(t,e,i,n,r){let s=e.consts,o=Hs(s,n),a=Ks(e,t,8,"ng-container",o);o!==null&&ul(a,o,!0);let c=Hs(s,r);return jv(e,i,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function _0(t,e,i){let n=Z(),r=Ue(),s=t+St,o=r.firstCreatePass?t$(s,r,n,e,i):r.data[s];Yi(o,!0);let a=r$(r,n,o,t);return n[s]=a,Tl()&&Nl(r,n,a,o),ui(a,n),bl(o)&&(_v(r,n,o),Fv(r,o,n)),i!=null&&Lv(n,o),_0}function L0(){let t=Dt(),e=Ue();return Ev()?Cv():(t=t.parent,Yi(t,!1)),e.firstCreatePass&&(Rl(e,t),mv(t)&&e.queries.elementEnd(t)),L0}function n$(t,e,i){return _0(t,e,i),L0(),n$}var r$=(t,e,i,n)=>(Al(!0),mj(e[Fe],""));function qie(){return Z()}function i$(t,e,i){let n=Z(),r=Da();if(cn(n,r,e)){let s=Ue(),o=ba();_l(s,o,n,t,e,n[Fe],i,!0)}return i$}var _i=void 0;function s$(t){let e=t,i=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return i===1&&n===0?1:5}var o$=["en",[["a","p"],["AM","PM"],_i],[["AM","PM"],_i,_i],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_i,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_i,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_i,"{1} 'at' {0}",_i],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",s$],Xg={};function Vt(t){let e=a$(t),i=ew(e);if(i)return i;let n=e.split("-")[0];if(i=ew(n),i)return i;if(n==="en")return o$;throw new j(701,!1)}function ew(t){return t in Xg||(Xg[t]=Ge.ng&&Ge.ng.common&&Ge.ng.common.locales&&Ge.ng.common.locales[t]),Xg[t]}var Be=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Be||{});function a$(t){return t.toLowerCase().replace(/_/g,"-")}var gl="en-US";var c$=gl;function u$(t){typeof t=="string"&&(c$=t.toLowerCase().replace(/_/g,"-"))}function Xv(t,e,i,n){let r=Z(),s=Ue(),o=Dt();return k0(s,r,r[Fe],o,t,e,n),Xv}function l$(t,e,i,n){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===i&&r[s+1]===n){let a=e[la],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function k0(t,e,i,n,r,s,o){let a=bl(n),u=t.firstCreatePass&&n0(t),l=e[wn],f=t0(e),h=!0;if(n.type&3||o){let b=dn(n,e),w=o?o(b):b,R=f.length,V=o?H=>o(tr(H[n.index])):n.index,k=null;if(!o&&a&&(k=l$(t,e,r,n.index)),k!==null){let H=k.__ngLastListenerFn__||k;H.__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,h=!1}else{s=nw(n,e,l,s,!1);let H=i.listen(w,r,s);f.push(s,H),u&&u.push(r,V,R,R+1)}}else s=nw(n,e,l,s,!1);let p=n.outputs,y;if(h&&p!==null&&(y=p[r])){let b=y.length;if(b)for(let w=0;w<b;w+=2){let R=y[w],V=y[w+1],te=e[R][V].subscribe(s),ue=f.length;f.push(s,te),u&&u.push(r,n.index,ue,-(ue+1))}}}function tw(t,e,i,n){let r=ve(null);try{return Qn(6,e,i),i(n)!==!1}catch(s){return r0(t,s),!1}finally{Qn(7,e,i),ve(r)}}function nw(t,e,i,n,r){return function s(o){if(o===Function)return n;let a=t.componentOffset>-1?di(t.index,e):e;Vv(a);let c=tw(e,i,n,o),u=s.__ngNextListenerFn__;for(;u;)c=tw(e,i,u,o)&&c,u=u.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function Yie(t=1){return uk(t)}function d$(t,e){let i=null,n=pL(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){i=r;continue}if(n===null?Iw(t,s,!0):vL(n,s))return r}return i}function Kie(t){let e=Z()[An][Yt];if(!e.projection){let i=t?t.length:1,n=e.projection=sL(i,null),r=n.slice(),s=e.child;for(;s!==null;){let o=t?d$(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function Zie(t,e=0,i){let n=Z(),r=Ue(),s=Ks(r,St+t,16,null,i||null);s.projection===null&&(s.projection=e),Cv(),(!n[ua]||Ww())&&(s.flags&32)!==32&&xj(r,n,s)}function f$(t,e,i){return j0(t,"",e,"",i),f$}function j0(t,e,i,n,r){let s=Z(),o=Zv(s,e,i,n);if(o!==Nt){let a=Ue(),c=ba();_l(a,c,s,t,o,s[Fe],r,!1)}return j0}function U0(t,e,i,n){n1(t,e,i,n)}function Qie(t,e,i){t1(t,e,i)}function $0(t){let e=Z(),i=Ue(),n=Kw();Sv(n+1);let r=Gv(i,n);if(t.dirty&&GL(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=s1(e,n);t.reset(s,Rk),t.notifyOnChanges()}return!0}return!1}function B0(){return e1(Z(),Kw())}function h$(t,e,i,n){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=n}function Jie(t){let e=nk();return Ia(e,St+t)}function Xie(t,e=""){let i=Z(),n=Ue(),r=t+St,s=n.firstCreatePass?Ks(n,r,1,e,null):n.data[r],o=p$(n,i,s,e,t);i[r]=o,Tl()&&Nl(n,i,o,s),Yi(s,!1)}var p$=(t,e,i,n,r)=>(Al(!0),pj(e[Fe],n));function g$(t){return V0("",t,""),g$}function V0(t,e,i){let n=Z(),r=Zv(n,t,e,i);return r!==Nt&&$v(n,Or(),r),V0}function m$(t,e,i,n,r){let s=Z(),o=R1(s,t,e,i,n,r);return o!==Nt&&$v(s,Or(),o),m$}function v$(t,e,i,n,r,s,o){let a=Z(),c=M1(a,t,e,i,n,r,s,o);return c!==Nt&&$v(a,Or(),c),v$}function y$(t,e,i){g0(e)&&(e=e());let n=Z(),r=Da();if(cn(n,r,e)){let s=Ue(),o=ba();_l(s,o,n,t,e,n[Fe],i,!1)}return y$}function ese(t,e){let i=g0(t);return i&&t.set(e),i}function E$(t,e){let i=Z(),n=Ue(),r=Dt();return k0(n,i,i[Fe],r,t,e),E$}function C$(t,e,i){let n=Ue();if(n.firstCreatePass){let r=ci(t);Zm(i,n.data,n.blueprint,r,!0),Zm(e,n.data,n.blueprint,r,!1)}}function Zm(t,e,i,n,r){if(t=Mt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Zm(t[s],e,i,n,r);else{let s=Ue(),o=Z(),a=Dt(),c=$s(t)?t:Mt(t.provide),u=Pw(t),l=a.providerIndexes&1048575,f=a.directiveStart,h=a.providerIndexes>>20;if($s(t)||!t.multi){let p=new Vi(u,r,X),y=tm(c,e,r?l:l+h,f);y===-1?(pm(il(a,o),s,c),em(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(p),o.push(p)):(i[y]=p,o[y]=p)}else{let p=tm(c,e,l+h,f),y=tm(c,e,l,l+h),b=p>=0&&i[p],w=y>=0&&i[y];if(r&&!w||!r&&!b){pm(il(a,o),s,c);let R=D$(r?I$:S$,i.length,r,n,u);!r&&w&&(i[y].providerFactory=R),em(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(R),o.push(R)}else{let R=H0(i[r?y:p],u,!r&&n);em(s,t,p>-1?p:y,R)}!r&&n&&w&&i[y].componentProviders++}}}function em(t,e,i,n){let r=$s(e),s=RL(e);if(r||s){let c=(s?Mt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let l=u.indexOf(i);l===-1?u.push(i,[n,c]):u[l+1].push(n,c)}else u.push(i,c)}}}function H0(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function tm(t,e,i,n){for(let r=i;r<n;r++)if(e[r]===t)return r;return-1}function S$(t,e,i,n){return Qm(this.multi,[])}function I$(t,e,i,n){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Hi(i,i[ie],this.providerFactory.index,n);s=a.slice(0,o),Qm(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Qm(r,s);return s}function Qm(t,e){for(let i=0;i<t.length;i++){let n=t[i];e.push(n())}return e}function D$(t,e,i,n,r){let s=new Vi(t,i,X);return s.multi=[],s.index=e,s.componentProviders=0,H0(s,r,n&&!i),s}function tse(t,e=[]){return i=>{i.providersResolver=(n,r)=>C$(n,r?r(t):t,e)}}var b$=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=xw(!1,n.type),s=r.length>0?$l([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=m({token:e,providedIn:"environment",factory:()=>new e(d(Ct))});let t=e;return t})();function z0(t){Qs("NgStandalone"),t.getStandaloneInjector=e=>e.get(b$).getOrCreateStandaloneInjector(t)}function nse(t,e,i){let n=rr()+t,r=Z();return r[n]===Nt?Js(r,n,i?e.call(i):e()):y0(r,n)}function rse(t,e,i,n){return G0(Z(),rr(),t,e,i,n)}function ise(t,e,i,n,r){return W0(Z(),rr(),t,e,i,n,r)}function sse(t,e,i,n,r,s){return q0(Z(),rr(),t,e,i,n,r,s)}function ose(t,e,i,n,r,s,o){return Y0(Z(),rr(),t,e,i,n,r,s,o)}function ase(t,e,i,n,r,s,o,a){let c=rr()+t,u=Z(),l=C0(u,c,i,n,r,s);return cn(u,c+4,o)||l?Js(u,c+5,a?e.call(a,i,n,r,s,o):e(i,n,r,s,o)):y0(u,c+5)}function Bl(t,e){let i=t[e];return i===Nt?void 0:i}function G0(t,e,i,n,r,s){let o=e+i;return cn(t,o,r)?Js(t,o+1,s?n.call(s,r):n(r)):Bl(t,o+1)}function W0(t,e,i,n,r,s,o){let a=e+i;return ga(t,a,r,s)?Js(t,a+2,o?n.call(o,r,s):n(r,s)):Bl(t,a+2)}function q0(t,e,i,n,r,s,o,a){let c=e+i;return E0(t,c,r,s,o)?Js(t,c+3,a?n.call(a,r,s,o):n(r,s,o)):Bl(t,c+3)}function Y0(t,e,i,n,r,s,o,a,c){let u=e+i;return C0(t,u,r,s,o,a)?Js(t,u+4,c?n.call(c,r,s,o,a):n(r,s,o,a)):Bl(t,u+4)}function cse(t,e){let i=Ue(),n,r=t+St;i.firstCreatePass?(n=w$(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks??=[]).push(r,n.onDestroy)):n=i.data[r];let s=n.factory||(n.factory=ji(n.type,!0)),o,a=jt(X);try{let c=rl(!1),u=s();return rl(c),h$(i,Z(),r,u),u}finally{jt(a)}}function w$(t,e){if(e)for(let i=e.length-1;i>=0;i--){let n=e[i];if(t===n.name)return n}}function use(t,e,i){let n=t+St,r=Z(),s=Ia(r,n);return Vl(r,n)?G0(r,rr(),e,s.transform,i,s):s.transform(i)}function lse(t,e,i,n){let r=t+St,s=Z(),o=Ia(s,r);return Vl(s,r)?W0(s,rr(),e,o.transform,i,n,o):o.transform(i,n)}function dse(t,e,i,n,r){let s=t+St,o=Z(),a=Ia(o,s);return Vl(o,s)?q0(o,rr(),e,a.transform,i,n,r,a):a.transform(i,n,r)}function fse(t,e,i,n,r,s){let o=t+St,a=Z(),c=Ia(a,o);return Vl(a,o)?Y0(a,rr(),e,c.transform,i,n,r,s,c):c.transform(i,n,r,s)}function Vl(t,e){return t[ie].data[e].pure}function hse(t,e){return kl(t,e)}var Hu=null;function T$(t){Hu!==null&&(t.defaultEncapsulation!==Hu.defaultEncapsulation||t.preserveWhitespaces!==Hu.preserveWhitespaces)||(Hu=t)}var Hl=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ey=new S(""),Ra=new S(""),zl=(()=>{let e=class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ty||(A$(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(Gl),d(Ra))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Gl=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ty?.findTestabilityInTree(this,n,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function A$(t){ty=t}var ty;function Xs(t){return!!t&&typeof t.then=="function"}function ny(t){return!!t&&typeof t.subscribe=="function"}var bt=new S(""),K0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=C(bt,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(Xs(o))n.push(o);else if(ny(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eo=new S("");function R$(){fb(()=>{throw new j(600,!1)})}function M$(t){return t.isBoundToModule}function x$(t,e,i){try{let n=i();return Xs(n)?n.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function Z0(t,e){return Array.isArray(e)?e.reduce(Z0,t):v(v({},t),e)}var Zi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(hT),this.afterRenderEffectManager=C(zv),this.externalTestViews=new Set,this.beforeRender=new re,this.afterTick=new re,this.componentTypes=[],this.components=[],this.isStable=C(Ki).hasPendingTasks.pipe(E(n=>!n)),this._injector=C(Ct)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let s=n instanceof cl;if(!this._injector.get(K0).done){let p=!s&&Tw(n),y=!1;throw new j(405,y)}let a;s?a=n:a=this._injector.get(jl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=M$(a)?void 0:this._injector.get(Rr),u=r||a.selector,l=a.create(Ye.NULL,[],u,c),f=l.location.nativeElement,h=l.injector.get(ey,null);return h?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Ku(this.components,l),h?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new j(101,!1);let r=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ve(r)}}detectChangesInAttachedViews(n){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===s0)throw new j(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)O$(a,o,c)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Jm(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Jm(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ku(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(eo,[]);[...this._bootstrapListeners,...r].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ku(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ku(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function O$(t,e,i){!e&&!Jm(t)||N$(t,i,e)}function Jm(t){return yv(t)}function N$(t,e,i){let n;i?(n=0,t[Q]|=1024):t[Q]&64?n=0:n=1,o0(t,e,n)}var Xm=class{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}},to=(()=>{let e=class e{compileModuleSync(n){return new hl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),s=Aw(n),o=PT(s.declarations).reduce((a,c)=>{let u=ai(c);return u&&a.push(new zs(u)),a},[]);return new Xm(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),P$=new S("");function F$(t,e,i){let n=new hl(i);return Promise.resolve(n)}function rw(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var _$=(()=>{let e=class e{constructor(){this.zone=C(Ce),this.applicationRef=C(Zi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function L$(t){return[{provide:Ce,useFactory:t},{provide:Xn,multi:!0,useFactory:()=>{let e=C(_$,{optional:!0});return()=>e.initialize()}},{provide:Xn,multi:!0,useFactory:()=>{let e=C(U$);return()=>{e.initialize()}}},{provide:hT,useFactory:k$}]}function k$(){let t=C(Ce),e=C(It);return i=>t.runOutsideAngular(()=>e.handleError(i))}function j$(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var U$=(()=>{let e=class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=C(Ce),this.pendingTasks=C(Ki)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $$(){return typeof $localize<"u"&&$localize.locale||gl}var Ma=new S("",{providedIn:"root",factory:()=>C(Ma,ce.Optional|ce.SkipSelf)||$$()});var Q0=new S(""),J0=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let s=PU(r?.ngZone,j$({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=S1(n.moduleType,this.injector,L$(()=>s)),a=o.injector.get(It,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{Ku(this._modules,o),c.unsubscribe()})}),x$(a,s,()=>{let c=o.injector.get(K0);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(Ma,gl);return u$(u||gl),this._moduleDoBootstrap(o),o})})})}bootstrapModule(n,r=[]){let s=Z0({},r);return F$(this.injector,s,n).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(n){let r=n.injector.get(Zi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new j(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(Q0,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),sa=null,X0=new S("");function B$(t){if(sa&&!sa.get(X0,!1))throw new j(400,!1);R$(),sa=t;let e=t.get(J0);return z$(t),e}function ry(t,e,i=[]){let n=`Platform: ${e}`,r=new S(n);return(s=[])=>{let o=eA();if(!o||o.injector.get(X0,!1)){let a=[...i,...s,{provide:r,useValue:!0}];t?t(a):B$(V$(a,n))}return H$(r)}}function V$(t=[],e){return Ye.create({name:e,providers:[{provide:Sl,useValue:"platform"},{provide:Q0,useValue:new Set([()=>sa=null])},...t]})}function H$(t){let e=eA();if(!e)throw new j(401,!1);return e}function eA(){return sa?.get(J0)??null}function z$(t){t.get(Av,null)?.forEach(i=>i())}function ge(){return!1}var Pr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=G$;let t=e;return t})();function G$(t){return W$(Dt(),Z(),(t&16)===16)}function W$(t,e,i){if(Dl(t)&&!i){let n=di(t.index,e);return new zi(n,n)}else if(t.type&47){let n=e[An];return new zi(n,e)}return null}var ev=class{constructor(){}supports(e){return v0(e)}create(e){return new tv(e)}},q$=(t,e)=>e,tv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||q$}forEachItem(e){let i;for(i=this._itHead;i!==null;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,n=this._removalsHead,r=0,s=null;for(;i||n;){let o=!n||i&&i.currentIndex<iw(n,r,s)?i:n,a=iw(o,r,s),c=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(i=i._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,l=c-r;if(u!=l){for(let h=0;h<u;h++){let p=h<s.length?s[h]:s[h]=0,y=p+h;l<=y&&y<u&&(s[h]=p+1)}let f=o.previousIndex;s[f]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)e(i)}diff(e){if(e==null&&(e=[]),!v0(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._itHead,n=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,s,o,a),n=!0):(n&&(i=this._verifyReinsertion(i,s,o,a)),Object.is(i.item,s)||this._addIdentityChange(i,s)),i=i._next}else r=0,I1(e,a=>{o=this._trackByFn(r,a),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,a,o,r),n=!0):(n&&(i=this._verifyReinsertion(i,a,o,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,n,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,r),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,s,r)):e=this._addAfter(new nv(i,n),s,r)),e}_verifyReinsertion(e,i,n,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let i=e._next;this._addToRemovals(this._unlink(e)),e=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,i,n),this._addToMoves(e,n),e}_moveAfter(e,i,n){return this._unlink(e),this._insertAfter(e,i,n),this._addToMoves(e,n),e}_addAfter(e,i,n){return this._insertAfter(e,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,i,n){let r=i===null?this._itHead:i._next;return e._next=r,e._prev=i,r===null?this._itTail=e:r._prev=e,i===null?this._itHead=e:i._next=e,this._linkedRecords===null&&(this._linkedRecords=new ml),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let i=e._prev,n=e._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ml),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},nv=class{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},rv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let i=e._prevDup,n=e._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},ml=class{constructor(){this.map=new Map}put(e){let i=e.trackById,n=this.map.get(i);n||(n=new rv,this.map.set(i,n)),n.add(e)}get(e,i){let n=e,r=this.map.get(n);return r?r.get(e,i):null}remove(e){let i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function iw(t,e,i){let n=t.previousIndex;if(n===null)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+e+r}var iv=class{constructor(){}supports(e){return e instanceof Map||Yv(e)}create(){return new sv}},sv=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let i;for(i=this._mapHead;i!==null;i=i._next)e(i)}forEachPreviousItem(e){let i;for(i=this._previousMapHead;i!==null;i=i._nextPrevious)e(i)}forEachChangedItem(e){let i;for(i=this._changesHead;i!==null;i=i._nextChanged)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Yv(e)))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(i&&i.key===r)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{let s=this._getOrCreateRecordForKey(r,n);i=this._insertBeforeOrAppend(i,s)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,i){if(e){let n=e._prev;return i._next=e,i._prev=n,e._prev=i,n&&(n._next=i),e===this._mapHead&&(this._mapHead=i),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(e,i){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,i);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let n=new ov(e);return this._records.set(e,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,i){Object.is(i,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=i,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,i){e instanceof Map?e.forEach(i):Object.keys(e).forEach(n=>i(e[n],n))}},ov=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function sw(){return new iy([new ev])}var iy=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r!=null){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||sw()),deps:[[e,new Cl,new un]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r!=null)return r;throw new j(901,!1)}};e.\u0275prov=m({token:e,providedIn:"root",factory:sw});let t=e;return t})();function ow(){return new sy([new iv])}var sy=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ow()),deps:[[e,new Cl,new un]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r)return r;throw new j(901,!1)}};e.\u0275prov=m({token:e,providedIn:"root",factory:ow});let t=e;return t})();var tA=ry(null,"core",[]),nA=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(Zi))},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();function xa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Wl(t,e){Qs("NgSignals");let i=ub(t);return e?.equal&&(i[br].equal=e.equal),i}function ql(t){let e=ve(null);try{return t()}finally{ve(e)}}function rA(t){let e=ai(t);if(!e)return null;let i=new zs(e);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var gA=null;function hi(){return gA}function mA(t){gA??=t}var nd=class{};var _e=new S(""),yy=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(Y$),providedIn:"platform"});let t=e;return t})(),od=new S(""),Y$=(()=>{let e=class e extends yy{constructor(){super(),this._doc=C(_e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hi().getBaseHref(this._doc)}onPopState(n){let r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Ey(t,e){if(t.length==0)return e;if(e.length==0)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,i==2?t+e.substring(1):i==1?t+e:t+"/"+e}function iA(t){let e=t.match(/#|\?|$/),i=e&&e.index||t.length,n=i-(t[i-1]==="/"?1:0);return t.slice(0,n)+t.slice(i)}function Lr(t){return t&&t[0]!=="?"?"?"+t:t}var jr=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(Cy),providedIn:"root"});let t=e;return t})(),vA=new S(""),Cy=(()=>{let e=class e extends jr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ey(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Lr(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+Lr(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+Lr(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(d(yy),d(vA,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yA=(()=>{let e=class e extends jr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Ey(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+Lr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+Lr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(d(yy),d(vA,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),ar=(()=>{let e=class e{constructor(n){this._subject=new pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Q$(iA(sA(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Lr(r))}normalize(n){return e.stripTrailingSlash(Z$(this._basePath,sA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lr(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lr(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}};e.normalizeQueryParams=Lr,e.joinWithSlash=Ey,e.stripTrailingSlash=iA,e.\u0275fac=function(r){return new(r||e)(d(jr))},e.\u0275prov=m({token:e,factory:()=>K$(),providedIn:"root"});let t=e;return t})();function K$(){return new ar(d(jr))}function Z$(t,e){if(!t||!e.startsWith(t))return e;let i=e.substring(t.length);return i===""||["/",";","?","#"].includes(i[0])?i:e}function sA(t){return t.replace(/\/index.html$/,"")}function Q$(t){if(new RegExp("^(https?:)?//").test(t)){let[,i]=t.split(/\/\/[^\/]+/);return i}return t}var EA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Sy=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Sy||{});var Pt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Pt||{}),Re=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Re||{}),Kt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Kt||{}),wt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Iy(t){return Vt(t)[Be.LocaleId]}function J$(t,e,i){let n=Vt(t),r=[n[Be.DayPeriodsFormat],n[Be.DayPeriodsStandalone]],s=hn(r,e);return hn(s,i)}function X$(t,e,i){let n=Vt(t),r=[n[Be.DaysFormat],n[Be.DaysStandalone]],s=hn(r,e);return hn(s,i)}function eB(t,e,i){let n=Vt(t),r=[n[Be.MonthsFormat],n[Be.MonthsStandalone]],s=hn(r,e);return hn(s,i)}function tB(t,e){let n=Vt(t)[Be.Eras];return hn(n,e)}function Yl(t,e){let i=Vt(t);return hn(i[Be.DateFormat],e)}function Kl(t,e){let i=Vt(t);return hn(i[Be.TimeFormat],e)}function Zl(t,e){let n=Vt(t)[Be.DateTimeFormat];return hn(n,e)}function or(t,e){let i=Vt(t),n=i[Be.NumberSymbols][e];if(typeof n>"u"){if(e===wt.CurrencyDecimal)return i[Be.NumberSymbols][wt.Decimal];if(e===wt.CurrencyGroup)return i[Be.NumberSymbols][wt.Group]}return n}function CA(t,e){return Vt(t)[Be.NumberFormats][e]}function nB(t){return Vt(t)[Be.Currencies]}function SA(t){if(!t[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rB(t){let e=Vt(t);return SA(e),(e[Be.ExtraData][2]||[]).map(n=>typeof n=="string"?oy(n):[oy(n[0]),oy(n[1])])}function iB(t,e,i){let n=Vt(t);SA(n);let r=[n[Be.ExtraData][0],n[Be.ExtraData][1]],s=hn(r,e)||[];return hn(s,i)||[]}function hn(t,e){for(let i=e;i>-1;i--)if(typeof t[i]<"u")return t[i];throw new Error("Locale data API: locale data undefined")}function oy(t){let[e,i]=t.split(":");return{hours:+e,minutes:+i}}function Nse(t,e,i="en"){let n=nB(i)[t]||EA[t]||[],r=n[1];return e==="narrow"&&typeof r=="string"?r:n[0]||t}var sB=2;function oB(t){let e,i=EA[t];return i&&(e=i[2]),typeof e=="number"?e:sB}var aB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ql={},cB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,kr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(kr||{}),Ie=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ie||{}),Se=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Se||{});function uB(t,e,i,n){let r=yB(t);e=_r(i,e)||e;let o=[],a;for(;e;)if(a=cB.exec(e),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;e=l}else{o.push(e);break}let c=r.getTimezoneOffset();n&&(c=DA(n,c),r=vB(r,n,!0));let u="";return o.forEach(l=>{let f=gB(l);u+=f?f(r,i,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function rd(t,e,i){let n=new Date(0);return n.setFullYear(t,e,i),n.setHours(0,0,0),n}function _r(t,e){let i=Iy(t);if(Ql[i]??={},Ql[i][e])return Ql[i][e];let n="";switch(e){case"shortDate":n=Yl(t,Kt.Short);break;case"mediumDate":n=Yl(t,Kt.Medium);break;case"longDate":n=Yl(t,Kt.Long);break;case"fullDate":n=Yl(t,Kt.Full);break;case"shortTime":n=Kl(t,Kt.Short);break;case"mediumTime":n=Kl(t,Kt.Medium);break;case"longTime":n=Kl(t,Kt.Long);break;case"fullTime":n=Kl(t,Kt.Full);break;case"short":let r=_r(t,"shortTime"),s=_r(t,"shortDate");n=Jl(Zl(t,Kt.Short),[r,s]);break;case"medium":let o=_r(t,"mediumTime"),a=_r(t,"mediumDate");n=Jl(Zl(t,Kt.Medium),[o,a]);break;case"long":let c=_r(t,"longTime"),u=_r(t,"longDate");n=Jl(Zl(t,Kt.Long),[c,u]);break;case"full":let l=_r(t,"fullTime"),f=_r(t,"fullDate");n=Jl(Zl(t,Kt.Full),[l,f]);break}return n&&(Ql[i][e]=n),n}function Jl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(i,n){return e!=null&&n in e?e[n]:i})),t}function xn(t,e,i="-",n,r){let s="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,s=i));let o=String(t);for(;o.length<e;)o="0"+o;return n&&(o=o.slice(o.length-e)),s+o}function lB(t,e){return xn(t,3).substring(0,e)}function Ke(t,e,i=0,n=!1,r=!1){return function(s,o){let a=dB(t,s);if((i>0||a>-i)&&(a+=i),t===Ie.Hours)a===0&&i===-12&&(a=12);else if(t===Ie.FractionalSeconds)return lB(a,e);let c=or(o,wt.MinusSign);return xn(a,e,c,n,r)}}function dB(t,e){switch(t){case Ie.FullYear:return e.getFullYear();case Ie.Month:return e.getMonth();case Ie.Date:return e.getDate();case Ie.Hours:return e.getHours();case Ie.Minutes:return e.getMinutes();case Ie.Seconds:return e.getSeconds();case Ie.FractionalSeconds:return e.getMilliseconds();case Ie.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function xe(t,e,i=Pt.Format,n=!1){return function(r,s){return fB(r,s,t,e,i,n)}}function fB(t,e,i,n,r,s){switch(i){case Se.Months:return eB(e,r,n)[t.getMonth()];case Se.Days:return X$(e,r,n)[t.getDay()];case Se.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let u=rB(e),l=iB(e,r,n),f=u.findIndex(h=>{if(Array.isArray(h)){let[p,y]=h,b=o>=p.hours&&a>=p.minutes,w=o<y.hours||o===y.hours&&a<y.minutes;if(p.hours<y.hours){if(b&&w)return!0}else if(b||w)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(f!==-1)return l[f]}return J$(e,r,n)[o<12?0:1];case Se.Eras:return tB(e,n)[t.getFullYear()<=0?0:1];default:let c=i;throw new Error(`unexpected translation type ${c}`)}}function Xl(t){return function(e,i,n){let r=-1*n,s=or(i,wt.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case kr.Short:return(r>=0?"+":"")+xn(o,2,s)+xn(Math.abs(r%60),2,s);case kr.ShortGMT:return"GMT"+(r>=0?"+":"")+xn(o,1,s);case kr.Long:return"GMT"+(r>=0?"+":"")+xn(o,2,s)+":"+xn(Math.abs(r%60),2,s);case kr.Extended:return n===0?"Z":(r>=0?"+":"")+xn(o,2,s)+":"+xn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var hB=0,td=4;function pB(t){let e=rd(t,hB,1).getDay();return rd(t,0,1+(e<=td?td:td+7)-e)}function IA(t){let e=t.getDay(),i=e===0?-3:td-e;return rd(t.getFullYear(),t.getMonth(),t.getDate()+i)}function ay(t,e=!1){return function(i,n){let r;if(e){let s=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,o=i.getDate();r=1+Math.floor((o+s)/7)}else{let s=IA(i),o=pB(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return xn(r,t,or(n,wt.MinusSign))}}function ed(t,e=!1){return function(i,n){let s=IA(i).getFullYear();return xn(s,t,or(n,wt.MinusSign),e)}}var cy={};function gB(t){if(cy[t])return cy[t];let e;switch(t){case"G":case"GG":case"GGG":e=xe(Se.Eras,Re.Abbreviated);break;case"GGGG":e=xe(Se.Eras,Re.Wide);break;case"GGGGG":e=xe(Se.Eras,Re.Narrow);break;case"y":e=Ke(Ie.FullYear,1,0,!1,!0);break;case"yy":e=Ke(Ie.FullYear,2,0,!0,!0);break;case"yyy":e=Ke(Ie.FullYear,3,0,!1,!0);break;case"yyyy":e=Ke(Ie.FullYear,4,0,!1,!0);break;case"Y":e=ed(1);break;case"YY":e=ed(2,!0);break;case"YYY":e=ed(3);break;case"YYYY":e=ed(4);break;case"M":case"L":e=Ke(Ie.Month,1,1);break;case"MM":case"LL":e=Ke(Ie.Month,2,1);break;case"MMM":e=xe(Se.Months,Re.Abbreviated);break;case"MMMM":e=xe(Se.Months,Re.Wide);break;case"MMMMM":e=xe(Se.Months,Re.Narrow);break;case"LLL":e=xe(Se.Months,Re.Abbreviated,Pt.Standalone);break;case"LLLL":e=xe(Se.Months,Re.Wide,Pt.Standalone);break;case"LLLLL":e=xe(Se.Months,Re.Narrow,Pt.Standalone);break;case"w":e=ay(1);break;case"ww":e=ay(2);break;case"W":e=ay(1,!0);break;case"d":e=Ke(Ie.Date,1);break;case"dd":e=Ke(Ie.Date,2);break;case"c":case"cc":e=Ke(Ie.Day,1);break;case"ccc":e=xe(Se.Days,Re.Abbreviated,Pt.Standalone);break;case"cccc":e=xe(Se.Days,Re.Wide,Pt.Standalone);break;case"ccccc":e=xe(Se.Days,Re.Narrow,Pt.Standalone);break;case"cccccc":e=xe(Se.Days,Re.Short,Pt.Standalone);break;case"E":case"EE":case"EEE":e=xe(Se.Days,Re.Abbreviated);break;case"EEEE":e=xe(Se.Days,Re.Wide);break;case"EEEEE":e=xe(Se.Days,Re.Narrow);break;case"EEEEEE":e=xe(Se.Days,Re.Short);break;case"a":case"aa":case"aaa":e=xe(Se.DayPeriods,Re.Abbreviated);break;case"aaaa":e=xe(Se.DayPeriods,Re.Wide);break;case"aaaaa":e=xe(Se.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=xe(Se.DayPeriods,Re.Abbreviated,Pt.Standalone,!0);break;case"bbbb":e=xe(Se.DayPeriods,Re.Wide,Pt.Standalone,!0);break;case"bbbbb":e=xe(Se.DayPeriods,Re.Narrow,Pt.Standalone,!0);break;case"B":case"BB":case"BBB":e=xe(Se.DayPeriods,Re.Abbreviated,Pt.Format,!0);break;case"BBBB":e=xe(Se.DayPeriods,Re.Wide,Pt.Format,!0);break;case"BBBBB":e=xe(Se.DayPeriods,Re.Narrow,Pt.Format,!0);break;case"h":e=Ke(Ie.Hours,1,-12);break;case"hh":e=Ke(Ie.Hours,2,-12);break;case"H":e=Ke(Ie.Hours,1);break;case"HH":e=Ke(Ie.Hours,2);break;case"m":e=Ke(Ie.Minutes,1);break;case"mm":e=Ke(Ie.Minutes,2);break;case"s":e=Ke(Ie.Seconds,1);break;case"ss":e=Ke(Ie.Seconds,2);break;case"S":e=Ke(Ie.FractionalSeconds,1);break;case"SS":e=Ke(Ie.FractionalSeconds,2);break;case"SSS":e=Ke(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Xl(kr.Short);break;case"ZZZZZ":e=Xl(kr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xl(kr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xl(kr.Long);break;default:return null}return cy[t]=e,e}function DA(t,e){t=t.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(i)?e:i}function mB(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function vB(t,e,i){let n=i?-1:1,r=t.getTimezoneOffset(),s=DA(e,r);return mB(t,n*(s-r))}function yB(t){if(oA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,s=1,o=1]=t.split("-").map(a=>+a);return rd(r,s-1,o)}let i=parseFloat(t);if(!isNaN(t-i))return new Date(i);let n;if(n=t.match(aB))return EB(n)}let e=new Date(t);if(!oA(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function EB(t){let e=new Date(0),i=0,n=0,r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=Number(t[9]+t[10]),n=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-i,a=Number(t[5]||0)-n,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,u),e}function oA(t){return t instanceof Date&&!isNaN(t.valueOf())}var CB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,aA=22,id=".",Oa="0",SB=";",IB=",",uy="#",cA="\xA4";function bA(t,e,i,n,r,s,o=!1){let a="",c=!1;if(!isFinite(t))a=or(i,wt.Infinity);else{let u=wB(t);o&&(u=bB(u));let l=e.minInt,f=e.minFrac,h=e.maxFrac;if(s){let V=s.match(CB);if(V===null)throw new Error(`${s} is not a valid digit info`);let k=V[1],H=V[3],te=V[5];k!=null&&(l=ly(k)),H!=null&&(f=ly(H)),te!=null?h=ly(te):H!=null&&f>h&&(h=f)}TB(u,f,h);let p=u.digits,y=u.integerLen,b=u.exponent,w=[];for(c=p.every(V=>!V);y<l;y++)p.unshift(0);for(;y<0;y++)p.unshift(0);y>0?w=p.splice(y,p.length):(w=p,p=[0]);let R=[];for(p.length>=e.lgSize&&R.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)R.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&R.unshift(p.join("")),a=R.join(or(i,n)),w.length&&(a+=or(i,r)+w.join("")),b&&(a+=or(i,wt.Exponential)+"+"+b)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Pse(t,e,i,n,r){let s=CA(e,Sy.Currency),o=wA(s,or(e,wt.MinusSign));return o.minFrac=oB(n),o.maxFrac=o.minFrac,bA(t,o,e,wt.CurrencyGroup,wt.CurrencyDecimal,r).replace(cA,i).replace(cA,"").trim()}function DB(t,e,i){let n=CA(e,Sy.Decimal),r=wA(n,or(e,wt.MinusSign));return bA(t,r,e,wt.Group,wt.Decimal,i)}function wA(t,e="-"){let i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(SB),r=n[0],s=n[1],o=r.indexOf(id)!==-1?r.split(id):[r.substring(0,r.lastIndexOf(Oa)+1),r.substring(r.lastIndexOf(Oa)+1)],a=o[0],c=o[1]||"";i.posPre=a.substring(0,a.indexOf(uy));for(let l=0;l<c.length;l++){let f=c.charAt(l);f===Oa?i.minFrac=i.maxFrac=l+1:f===uy?i.maxFrac=l+1:i.posSuf+=f}let u=a.split(IB);if(i.gSize=u[1]?u[1].length:0,i.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let l=r.length-i.posPre.length-i.posSuf.length,f=s.indexOf(uy);i.negPre=s.substring(0,f).replace(/'/g,""),i.negSuf=s.slice(f+l).replace(/'/g,"")}else i.negPre=e+i.posPre,i.negSuf=i.posSuf;return i}function bB(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function wB(t){let e=Math.abs(t)+"",i=0,n,r,s,o,a;for((r=e.indexOf(id))>-1&&(e=e.replace(id,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===Oa;s++);if(s===(a=e.length))n=[0],r=1;else{for(a--;e.charAt(a)===Oa;)a--;for(r-=s,n=[],o=0;s<=a;s++,o++)n[o]=Number(e.charAt(s))}return r>aA&&(n=n.splice(0,aA-1),i=r-1,r=1),{digits:n,exponent:i,integerLen:r}}function TB(t,e,i){if(e>i)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${i}).`);let n=t.digits,r=n.length-t.integerLen,s=Math.min(Math.max(e,r),i),o=s+t.integerLen,a=n[o];if(o>0){n.splice(Math.max(t.integerLen,o));for(let f=o;f<n.length;f++)n[f]=0}else{r=Math.max(0,r),t.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let f=1;f<o;f++)n[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let c=s!==0,u=e+t.integerLen,l=n.reduceRight(function(f,h,p,y){return h=h+f,y[p]=h<10?h:h-10,c&&(y[p]===0&&p>=u?y.pop():c=!1),h>=10?1:0},0);l&&(n.unshift(l),t.integerLen++)}function ly(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function ad(t,e){e=encodeURIComponent(e);for(let i of t.split(";")){let n=i.indexOf("="),[r,s]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var dy=/\s+/,uA=[],Fse=(()=>{let e=class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=uA,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(dy):uA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(dy):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let s=this.stateMap.get(n);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],s=n[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(dy).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(X(ir),X(Zs))},e.\u0275dir=Ot({type:e,selectors:[["","ngClass",""]],inputs:{klass:[an.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})(),_se=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(n){return n.ngComponentOutletNgModule!==void 0||n.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(n){return n.ngComponentOutlet!==void 0||n.ngComponentOutletContent!==void 0||n.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(n)}ngOnChanges(n){if(this._needToReCreateComponentInstance(n)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(n)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=m0(this.ngComponentOutletNgModule,lA(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(lA(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let n of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(n,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(n){for(let[r,s]of this._inputsUsed)s?(n.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(n.setInput(r,void 0),this._inputsUsed.delete(r))}};e.\u0275fac=function(r){return new(r||e)(X(Bt))},e.\u0275dir=Ot({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[li]});let t=e;return t})();function lA(t){return t.get(Rr).injector}var fy=class{constructor(e,i,n,r){this.$implicit=e,this.ngForOf=i,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Lse=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new fy(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),dA(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);dA(o,s)})}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(Bt),X(Rn),X(iy))},e.\u0275dir=Ot({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function dA(t,e){t.context.$implicit=e.item}var kse=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new hy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){fA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){fA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(Bt),X(Rn))},e.\u0275dir=Ot({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),hy=class{constructor(){this.$implicit=null,this.ngIf=null}};function fA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${xt(e)}'.`)}var AB=!0,sd=class{constructor(e,i){this._viewContainerRef=e,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},TA=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=AB?n===this._ngSwitch:n==this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ot({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),jse=(()=>{let e=class e{constructor(n,r,s){this.ngSwitch=s,s._addCase(),this._view=new sd(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(r){return new(r||e)(X(Bt),X(Rn),X(TA,9))},e.\u0275dir=Ot({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})(),Use=(()=>{let e=class e{constructor(n,r,s){s._addDefault(new sd(n,r))}};e.\u0275fac=function(r){return new(r||e)(X(Bt),X(Rn),X(TA,9))},e.\u0275dir=Ot({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0});let t=e;return t})();var $se=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(n,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(X(Bt))},e.\u0275dir=Ot({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[li]});let t=e;return t})();function Na(t,e){return new j(2100,!1)}var py=class{createSubscription(e,i){return ql(()=>e.subscribe({next:i,error:n=>{throw n}}))}dispose(e){ql(()=>e.unsubscribe())}},gy=class{createSubscription(e,i){return e.then(i,n=>{throw n})}dispose(e){}},RB=new gy,MB=new py,Bse=(()=>{let e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Xs(n))return RB;if(ny(n))return MB;throw Na(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(X(Pr,16))},e.\u0275pipe=ln({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})(),Vse=(()=>{let e=class e{transform(n){if(n==null)return null;if(typeof n!="string")throw Na(e,n);return n.toLowerCase()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=ln({name:"lowercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var xB="mediumDate",OB=new S(""),NB=new S(""),AA=(()=>{let e=class e{constructor(n,r,s){this.locale=n,this.defaultTimezone=r,this.defaultOptions=s}transform(n,r,s,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??xB,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return uB(n,a,o||this.locale,c)}catch(a){throw Na(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(X(Ma,16),X(OB,24),X(NB,24))},e.\u0275pipe=ln({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Hse=(()=>{let e=class e{transform(n){return JSON.stringify(n,null,2)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=ln({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();function PB(t,e){return{key:t,value:e}}var zse=(()=>{let e=class e{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=hA}transform(n,r=hA){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let s=this.differ.diff(n),o=r!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(PB(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}};e.\u0275fac=function(r){return new(r||e)(X(sy,16))},e.\u0275pipe=ln({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function hA(t,e){let i=t.key,n=e.key;if(i===n)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(i===null)return 1;if(n===null)return-1;if(typeof i=="string"&&typeof n=="string")return i<n?-1:1;if(typeof i=="number"&&typeof n=="number")return i-n;if(typeof i=="boolean"&&typeof n=="boolean")return i<n?-1:1;let r=String(i),s=String(n);return r==s?0:r<s?-1:1}var FB=(()=>{let e=class e{constructor(n){this._locale=n}transform(n,r,s){if(!_B(n))return null;s||=this._locale;try{let o=LB(n);return DB(o,s,r)}catch(o){throw Na(e,o.message)}}};e.\u0275fac=function(r){return new(r||e)(X(Ma,16))},e.\u0275pipe=ln({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function _B(t){return!(t==null||t===""||t!==t)}function LB(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Gse=(()=>{let e=class e{transform(n,r,s){if(n==null)return null;if(!this.supports(n))throw Na(e,n);return n.slice(r,s)}supports(n){return typeof n=="string"||Array.isArray(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=ln({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var Ze=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),Dy="browser",kB="server";function On(t){return t===Dy}function Qi(t){return t===kB}var RA=(()=>{let e=class e{};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>On(C($e))?new my(C(_e),window):new vy});let t=e;return t})(),my=class{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let i=jB(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let i=e.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}};function jB(t,e){let i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=n.nextNode()}}return null}var vy=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},no=class{};var Fa=class{},_a=class{},le=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),s=r.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let s=e.value;if(!s)this.headers.delete(i),this.normalizedNames.delete(i);else{let o=this.headers.get(i);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var Ay=class{encodeKey(e){return MA(e)}encodeValue(e){return MA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function UB(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=i.get(o)||[];c.push(a),i.set(o,c)}),i}var $B=/%(\d[a-f0-9])/gi,BB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MA(t){return encodeURIComponent(t).replace($B,(e,i)=>BB[i]??e)}function cd(t){return`${t}`}var ze=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ay,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=UB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(cd):[cd(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(cd(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(cd(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},La=class{constructor(e){this.defaultValue=e}},ro=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function VB(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function xA(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function OA(t){return typeof Blob<"u"&&t instanceof Blob}function NA(t){return typeof FormData<"u"&&t instanceof FormData}function HB(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Pa=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(VB(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new le,this.context??=new ro,!this.params)this.params=new ze,this.urlWithParams=i;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),c=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||xA(this.body)||OA(this.body)||NA(this.body)||HB(this.body)?this.body:this.body instanceof ze?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||NA(this.body)?null:OA(this.body)?this.body.type||null:xA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,l=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),l)),new t(i,n,o,{params:l,headers:u,context:f,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},cr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(cr||{}),ka=class{constructor(e,i=ja.Ok,n="OK"){this.headers=e.headers||new le,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ud=class t extends ka{constructor(e={}){super(e),this.type=cr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ji=class t extends ka{constructor(e={}){super(e),this.type=cr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ht=class extends ka{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ja=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(ja||{});function wy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Le=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,s={}){let o;if(n instanceof Pa)o=n;else{let u;s.headers instanceof le?u=s.headers:u=new le(s.headers);let l;s.params&&(s.params instanceof ze?l=s.params:l=new ze({fromObject:s.params})),o=new Pa(n,r,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=I(o).pipe(je(u=>this.handler.handle(u)));if(n instanceof Pa||s.observe==="events")return a;let c=a.pipe(x(u=>u instanceof Ji));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(E(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(E(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(E(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(E(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ze().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,wy(s,r))}post(n,r,s={}){return this.request("POST",n,wy(s,r))}put(n,r,s={}){return this.request("PUT",n,wy(s,r))}};e.\u0275fac=function(r){return new(r||e)(d(Fa))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),zB=/^\)\]\}',?\n/,GB="X-Request-URL";function PA(t){if(t.url)return t.url;let e=GB.toLocaleLowerCase();return t.headers.get(e)}var Ty=(()=>{let e=class e{constructor(){this.fetchImpl=C(Ry,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=C(Ce)}handle(n){return new z(r=>{let s=new AbortController;return this.doRequest(n,s.signal,r).then(My,o=>r.error(new Ht({error:o}))),()=>s.abort()})}doRequest(n,r,s){return nt(this,null,function*(){let o=this.createRequestInit(n),a;try{let y=this.fetchImpl(n.urlWithParams,v({signal:r},o));WB(y),s.next({type:cr.Sent}),a=yield y}catch(y){s.error(new Ht({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let c=new le(a.headers),u=a.statusText,l=PA(a)??n.urlWithParams,f=a.status,h=null;if(n.reportProgress&&s.next(new ud({headers:c,status:f,statusText:u,url:l})),a.body){let y=a.headers.get("content-length"),b=[],w=a.body.getReader(),R=0,V,k,H=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>nt(this,null,function*(){for(;;){let{done:ue,value:fe}=yield w.read();if(ue)break;if(b.push(fe),R+=fe.length,n.reportProgress){k=n.responseType==="text"?(k??"")+(V??=new TextDecoder).decode(fe,{stream:!0}):void 0;let Ne=()=>s.next({type:cr.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:k});H?H.run(Ne):Ne()}}}));let te=this.concatChunks(b,R);try{let ue=a.headers.get("Content-Type")??"";h=this.parseBody(n,te,ue)}catch(ue){s.error(new Ht({error:ue,headers:new le(a.headers),status:a.status,statusText:a.statusText,url:PA(a)??n.urlWithParams}));return}}f===0&&(f=h?ja.Ok:0),f>=200&&f<300?(s.next(new Ji({body:h,headers:c,status:f,statusText:u,url:l})),s.complete()):s.error(new Ht({error:h,headers:c,status:f,statusText:u,url:l}))})}parseBody(n,r,s){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(zB,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},s=n.withCredentials?"include":void 0;if(n.headers.forEach((o,a)=>r[o]=a.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:s}}concatChunks(n,r){let s=new Uint8Array(r),o=0;for(let a of n)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Ry=class{};function My(){}function WB(t){t.then(My,My)}function jA(t,e){return e(t)}function qB(t,e){return(i,n)=>e.intercept(i,{handle:r=>t(r,n)})}function YB(t,e,i){return(n,r)=>Mn(i,()=>e(n,s=>t(s,r)))}var pn=new S(""),xy=new S(""),KB=new S(""),UA=new S("");function ZB(){let t=null;return(e,i)=>{t===null&&(t=(C(pn,{optional:!0})??[]).reduceRight(qB,jA));let n=C(Ki),r=n.add();return t(e,i).pipe(Sn(()=>n.remove(r)))}}var FA=(()=>{let e=class e extends Fa{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=C(Ki);let s=C(UA,{optional:!0});this.backend=s??n}handle(n){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(xy),...this.injector.get(KB,[])]));this.chain=s.reduceRight((o,a)=>YB(o,a,this.injector),jA)}let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(Sn(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(d(_a),d(Ct))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var QB=/^\)\]\}',?\n/;function JB(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var _A=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?he(r.\u0275loadImpl()):I(null)).pipe(O(()=>new z(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((w,R)=>a.setRequestHeader(w,R.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let w=n.detectContentTypeHeader();w!==null&&a.setRequestHeader("Content-Type",w)}if(n.responseType){let w=n.responseType.toLowerCase();a.responseType=w!=="json"?w:"text"}let c=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let w=a.statusText||"OK",R=new le(a.getAllResponseHeaders()),V=JB(a)||n.url;return u=new ud({headers:R,status:a.status,statusText:w,url:V}),u},f=()=>{let{headers:w,status:R,statusText:V,url:k}=l(),H=null;R!==ja.NoContent&&(H=typeof a.response>"u"?a.responseText:a.response),R===0&&(R=H?ja.Ok:0);let te=R>=200&&R<300;if(n.responseType==="json"&&typeof H=="string"){let ue=H;H=H.replace(QB,"");try{H=H!==""?JSON.parse(H):null}catch(fe){H=ue,te&&(te=!1,H={error:fe,text:H})}}te?(o.next(new Ji({body:H,headers:w,status:R,statusText:V,url:k||void 0})),o.complete()):o.error(new Ht({error:H,headers:w,status:R,statusText:V,url:k||void 0}))},h=w=>{let{url:R}=l(),V=new Ht({error:w,status:a.status||0,statusText:a.statusText||"Unknown Error",url:R||void 0});o.error(V)},p=!1,y=w=>{p||(o.next(l()),p=!0);let R={type:cr.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(R.total=w.total),n.responseType==="text"&&a.responseText&&(R.partialText=a.responseText),o.next(R)},b=w=>{let R={type:cr.UploadProgress,loaded:w.loaded};w.lengthComputable&&(R.total=w.total),o.next(R)};return a.addEventListener("load",f),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",y),c!==null&&a.upload&&a.upload.addEventListener("progress",b)),a.send(c),o.next({type:cr.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",f),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",y),c!==null&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(d(no))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),$A=new S(""),XB="XSRF-TOKEN",eV=new S("",{providedIn:"root",factory:()=>XB}),tV="X-XSRF-TOKEN",nV=new S("",{providedIn:"root",factory:()=>tV}),ld=class{},rV=(()=>{let e=class e{constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ad(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(d(_e),d($e),d(eV))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function iV(t,e){let i=t.url.toLowerCase();if(!C($A)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=C(ld).getToken(),r=C(nV);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var Oy=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Oy||{});function BA(t,e){return{\u0275kind:t,\u0275providers:e}}function roe(...t){let e=[Le,_A,FA,{provide:Fa,useExisting:FA},{provide:_a,useExisting:_A},{provide:xy,useValue:iV,multi:!0},{provide:$A,useValue:!0},{provide:ld,useClass:rV}];for(let i of t)e.push(...i.\u0275providers);return nr(e)}var LA=new S("");function ioe(){return BA(Oy.LegacyInterceptors,[{provide:LA,useFactory:ZB},{provide:xy,useExisting:LA,multi:!0}])}function soe(){return BA(Oy.Fetch,[Ty,{provide:_a,useExisting:Ty},{provide:UA,useExisting:Ty}])}var Fy=class extends nd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_y=class t extends Fy{static makeCurrent(){mA(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=sV();return i==null?null:oV(i)}resetBaseElement(){Ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ad(document.cookie,e)}},Ua=null;function sV(){return Ua=Ua||document.querySelector("base"),Ua?Ua.getAttribute("href"):null}function oV(t){return new URL(t,document.baseURI).pathname}var Ly=class{addToWindow(e){Ge.getAngularTestability=(n,r=!0)=>{let s=e.findTestabilityInTree(n,r);if(s==null)throw new j(5103,!1);return s},Ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ge.getAllAngularRootElements=()=>e.getAllRootElements();let i=n=>{let r=Ge.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&n()};r.forEach(a=>{a.whenStable(o)})};Ge.frameworkStabilizers||(Ge.frameworkStabilizers=[]),Ge.frameworkStabilizers.push(i)}findTestabilityInTree(e,i,n){if(i==null)return null;let r=e.getTestability(i);return r??(n?hi().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},aV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),ky=new S(""),WA=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(d(ky),d(Ce))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),dd=class{constructor(e){this._doc=e}},Ny="ng-app-id",qA=(()=>{let e=class e{constructor(n,r,s,o={}){this.doc=n,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qi(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(s=>s.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Ny}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(n,r){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=r,o.usage}return s.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===n)return s.delete(r),o.removeAttribute(Ny),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Ny,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let s=this.getStyleElement(n,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(d(_e),d(wa),d(Rv,8),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Py={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uy=/%COMP%/g,YA="%COMP%",cV=`_nghost-${YA}`,uV=`_ngcontent-${YA}`,lV=!0,dV=new S("",{providedIn:"root",factory:()=>lV});function fV(t){return uV.replace(Uy,t)}function hV(t){return cV.replace(Uy,t)}function KA(t,e){return e.map(i=>i.replace(Uy,t))}var HA=(()=>{let e=class e{constructor(n,r,s,o,a,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Qi(c),this.defaultRenderer=new $a(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===er.ShadowDom&&(r=T(v({},r),{encapsulation:er.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof fd?s.applyToHost(n):s instanceof Ba&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case er.Emulated:o=new fd(u,l,r,this.appId,f,a,c,h);break;case er.ShadowDom:return new jy(u,l,n,r,a,c,this.nonce,h);default:o=new Ba(u,l,r,f,a,c,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(d(WA),d(qA),d(wa),d(dV),d(_e),d($e),d(Ce),d(Rv))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),$a=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(Py[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(zA(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(zA(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new j(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let s=Py[r];s?e.setAttributeNS(s,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=Py[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(Ar.DashCase|Ar.Important)?e.style.setProperty(i,n,r&Ar.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&Ar.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=hi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function zA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var jy=class extends $a{constructor(e,i,n,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=KA(r.id,r.styles);for(let l of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ba=class extends $a{constructor(e,i,n,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=c?KA(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},fd=class extends Ba{constructor(e,i,n,r,s,o,a,c){let u=r+"-"+n.id;super(e,i,n,s,o,a,c,u),this.contentAttr=fV(u),this.hostAttr=hV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},pV=(()=>{let e=class e extends dd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),GA=["alt","control","meta","shift"],gV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},vV=(()=>{let e=class e extends dd{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hi().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),GA.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let s=gV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),GA.forEach(a=>{if(a!==s){let c=mV[a];c(n)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(n,r,s){return o=>{e.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function yV(){_y.makeCurrent()}function EV(){return new It}function CV(){return ET(document),document}var SV=[{provide:$e,useValue:Dy},{provide:Av,useValue:yV,multi:!0},{provide:_e,useFactory:CV,deps:[]}],voe=ry(tA,"browser",SV),IV=new S(""),DV=[{provide:Ra,useClass:Ly,deps:[]},{provide:ey,useClass:zl,deps:[Ce,Gl,Ra]},{provide:zl,useClass:zl,deps:[Ce,Gl,Ra]}],bV=[{provide:Sl,useValue:"root"},{provide:It,useFactory:EV,deps:[]},{provide:ky,useClass:pV,multi:!0,deps:[_e,Ce,$e]},{provide:ky,useClass:vV,multi:!0,deps:[_e]},HA,qA,WA,{provide:Gi,useExisting:HA},{provide:no,useClass:aV,deps:[]},[]],yoe=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:wa,useValue:n.appId}]}}};e.\u0275fac=function(r){return new(r||e)(d(IV,12))},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[...bV,...DV],imports:[Ze,nA]});let t=e;return t})(),$y=(()=>{let e=class e{constructor(n){this._doc=n,this._dom=hi()}addTag(n,r=!1){return n?this._getOrCreateElement(n,r):null}addTags(n,r=!1){return n?n.reduce((s,o)=>(o&&s.push(this._getOrCreateElement(o,r)),s),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];let r=this._doc.querySelectorAll(`meta[${n}]`);return r?[].slice.call(r):[]}updateTag(n,r){if(!n)return null;r=r||this._parseSelector(n);let s=this.getTag(r);return s?this._setMetaElementAttributes(n,s):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,r=!1){if(!r){let a=this._parseSelector(n),c=this.getTags(a).filter(u=>this._containsAttributes(n,u))[0];if(c!==void 0)return c}let s=this._dom.createElement("meta");return this._setMetaElementAttributes(n,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(n,r){return Object.keys(n).forEach(s=>r.setAttribute(this._getMetaKeyMap(s),n[s])),r}_parseSelector(n){let r=n.name?"name":"property";return`${r}="${n[r]}"`}_containsAttributes(n,r){return Object.keys(n).every(s=>r.getAttribute(this._getMetaKeyMap(s))===n[s])}_getMetaKeyMap(n){return wV[n]||n}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wV={httpEquiv:"http-equiv"},ZA=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var TV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(AV),s},providedIn:"root"});let t=e;return t})(),AV=(()=>{let e=class e extends TV{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case fn.NONE:return r;case fn.HTML:return sr(r,"HTML")?$t(r):xv(this._doc,String(r)).toString();case fn.STYLE:return sr(r,"Style")?$t(r):r;case fn.SCRIPT:if(sr(r,"Script"))return $t(r);throw new j(5200,!1);case fn.URL:return sr(r,"URL")?$t(r):xl(String(r));case fn.RESOURCE_URL:if(sr(r,"ResourceURL"))return $t(r);throw new j(5201,!1);default:throw new j(5202,!1)}}bypassSecurityTrustHtml(n){return IT(n)}bypassSecurityTrustStyle(n){return DT(n)}bypassSecurityTrustScript(n){return bT(n)}bypassSecurityTrustUrl(n){return wT(n)}bypassSecurityTrustResourceUrl(n){return TT(n)}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ee="primary",ec=Symbol("RouteTitle"),Gy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function co(t){return new Gy(t)}function MV(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function xV(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!ur(t[i],e[i]))return!1;return!0}function ur(t,e){let i=t?Wy(t):void 0,n=e?Wy(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!oR(t[r],e[r]))return!1;return!0}function Wy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function oR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,s)=>n[s]===r)}else return t===e}function aR(t){return t.length>0?t[t.length-1]:null}function mi(t){return Oi(t)?t:Xs(t)?he(Promise.resolve(t)):I(t)}var OV={exact:uR,subset:lR},cR={exact:NV,subset:PV,ignored:()=>!0};function QA(t,e,i){return OV[i.paths](t.root,e.root,i.matrixParams)&&cR[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function NV(t,e){return ur(t,e)}function uR(t,e,i){if(!es(t.segments,e.segments)||!gd(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!uR(t.children[n],e.children[n],i))return!1;return!0}function PV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>oR(t[i],e[i]))}function lR(t,e,i){return dR(t,e,e.segments,i)}function dR(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!es(r,i)||e.hasChildren()||!gd(r,i,n))}else if(t.segments.length===i.length){if(!es(t.segments,i)||!gd(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!lR(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),s=i.slice(t.segments.length);return!es(t.segments,r)||!gd(t.segments,r,n)||!t.children[ee]?!1:dR(t.children[ee],e,s,n)}}function gd(t,e,i){return e.every((n,r)=>cR[i](t[r].parameters,n.parameters))}var pi=class{constructor(e=new De([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){return LV.serialize(this)}},De=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return md(this)}},Xi=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=co(this.parameters),this._parameterMap}toString(){return hR(this)}};function FV(t,e){return es(t,e)&&t.every((i,n)=>ur(i.parameters,e[n].parameters))}function es(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function _V(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===ee&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==ee&&(i=i.concat(e(r,n)))}),i}var rs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>new ts,providedIn:"root"});let t=e;return t})(),ts=class{parse(e){let i=new Yy(e);return new pi(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${Va(e.root,!0)}`,n=UV(e.queryParams),r=typeof e.fragment=="string"?`#${kV(e.fragment)}`:"";return`${i}${n}${r}`}},LV=new ts;function md(t){return t.segments.map(e=>hR(e)).join("/")}function Va(t,e){if(!t.hasChildren())return md(t);if(e){let i=t.children[ee]?Va(t.children[ee],!1):"",n=[];return Object.entries(t.children).forEach(([r,s])=>{r!==ee&&n.push(`${r}:${Va(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=_V(t,(n,r)=>r===ee?[Va(t.children[ee],!1)]:[`${r}:${Va(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${md(t)}/${i[0]}`:`${md(t)}/(${i.join("//")})`}}function fR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hd(t){return fR(t).replace(/%3B/gi,";")}function kV(t){return encodeURI(t)}function qy(t){return fR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vd(t){return decodeURIComponent(t)}function JA(t){return vd(t.replace(/\+/g,"%20"))}function hR(t){return`${qy(t.path)}${jV(t.parameters)}`}function jV(t){return Object.entries(t).map(([e,i])=>`;${qy(e)}=${qy(i)}`).join("")}function UV(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${hd(i)}=${hd(r)}`).join("&"):`${hd(i)}=${hd(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var $V=/^[^\/()?;#]+/;function By(t){let e=t.match($V);return e?e[0]:""}var BV=/^[^\/()?;=#]+/;function VV(t){let e=t.match(BV);return e?e[0]:""}var HV=/^[^=?&#]+/;function zV(t){let e=t.match(HV);return e?e[0]:""}var GV=/^[^&#]+/;function WV(t){let e=t.match(GV);return e?e[0]:""}var Yy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[ee]=new De(e,i)),n}parseSegment(){let e=By(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Xi(vd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=VV(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=By(this.remaining);r&&(n=r,this.capture(n))}e[vd(i)]=vd(n)}parseQueryParam(e){let i=zV(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=WV(this.remaining);o&&(n=o,this.capture(n))}let r=JA(i),s=JA(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=By(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new j(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[ee]:new De([],o),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function pR(t){return t.segments.length>0?new De([],{[ee]:t}):t}function gR(t){let e={};for(let[n,r]of Object.entries(t.children)){let s=gR(r);if(n===ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let i=new De(t.segments,e);return qV(i)}function qV(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new De(t.segments.concat(e.segments),e.children)}return t}function uo(t){return t instanceof pi}function YV(t,e,i=null,n=null){let r=mR(t);return vR(r,e,i,n)}function mR(t){let e;function i(s){let o={};for(let c of s.children){let u=i(c);o[c.outlet]=u}let a=new De(s.url,o);return s===t&&(e=a),a}let n=i(t.root),r=pR(n);return e??r}function vR(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Vy(r,r,r,i,n);let s=KV(e);if(s.toRoot())return Vy(r,r,new De([],{}),i,n);let o=ZV(s,r,t),a=o.processChildren?Ga(o.segmentGroup,o.index,s.commands):ER(o.segmentGroup,o.index,s.commands);return Vy(r,o.segmentGroup,a,i,n)}function yd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ya(t){return typeof t=="object"&&t!=null&&t.outlets}function Vy(t,e,i,n,r){let s={};n&&Object.entries(n).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=i:o=yR(t,e,i);let a=pR(gR(o));return new pi(a,s,r)}function yR(t,e,i){let n={};return Object.entries(t.children).forEach(([r,s])=>{s===e?n[r]=i:n[r]=yR(s,e,i)}),new De(t.segments,n)}var Ed=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&yd(n[0]))throw new j(4003,!1);let r=n.find(Ya);if(r&&r!==aR(n))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function KV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ed(!0,0,t);let e=0,i=!1,n=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Ed(i,e,n)}var oo=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function ZV(t,e,i){if(t.isAbsolute)return new oo(e,!0,0);if(!i)return new oo(e,!1,NaN);if(i.parent===null)return new oo(i,!0,0);let n=yd(t.commands[0])?0:1,r=i.segments.length-1+n;return QV(i,r,t.numberOfDoubleDots)}function QV(t,e,i){let n=t,r=e,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new j(4005,!1);r=n.segments.length}return new oo(n,!1,r-s)}function JV(t){return Ya(t[0])?t[0].outlets:{[ee]:t}}function ER(t,e,i){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return Ga(t,e,i);let n=XV(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new De(t.segments.slice(0,n.pathIndex),{});return s.children[ee]=new De(t.segments.slice(n.pathIndex),t.children),Ga(s,0,r)}else return n.match&&r.length===0?new De(t.segments,{}):n.match&&!t.hasChildren()?Ky(t,e,i):n.match?Ga(t,0,r):Ky(t,e,i)}function Ga(t,e,i){if(i.length===0)return new De(t.segments,{});{let n=JV(i),r={};if(Object.keys(n).some(s=>s!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let s=Ga(t.children[ee],e,i);return new De(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=ER(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new De(t.segments,r)}}function XV(t,e,i){let n=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return s;let o=t.segments[r],a=i[n];if(Ya(a))break;let c=`${a}`,u=n<i.length-1?i[n+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!eR(c,u,o))return s;n+=2}else{if(!eR(c,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function Ky(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let s=i[r];if(Ya(s)){let c=e2(s.outlets);return new De(n,c)}if(r===0&&yd(i[0])){let c=t.segments[e];n.push(new Xi(c.path,XA(i[0]))),r++;continue}let o=Ya(s)?s.outlets[ee]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&yd(a)?(n.push(new Xi(o,XA(a))),r+=2):(n.push(new Xi(o,{})),r++)}return new De(n,{})}function e2(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=Ky(new De([],{}),0,n))}),e}function XA(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function eR(t,e,i){return t==i.path&&ur(e,i.parameters)}var Wa="imperative",ot=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ot||{}),gn=class{constructor(e,i){this.id=e,this.url=i}},mn=class extends gn{constructor(e,i,n="imperative",r=null){super(e,i),this.type=ot.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},st=class extends gn{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=ot.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qt||{}),Cd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Cd||{}),vn=class extends gn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=ot.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gi=class extends gn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=ot.NavigationSkipped}},lr=class extends gn{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=ot.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ns=class extends gn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ot.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zy=class extends gn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ot.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qy=class extends gn{constructor(e,i,n,r,s){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=ot.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jy=class extends gn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ot.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xy=class extends gn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ot.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eE=class{constructor(e){this.route=e,this.type=ot.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tE=class{constructor(e){this.route=e,this.type=ot.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},nE=class{constructor(e){this.snapshot=e,this.type=ot.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rE=class{constructor(e){this.snapshot=e,this.type=ot.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iE=class{constructor(e){this.snapshot=e,this.type=ot.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sE=class{constructor(e){this.snapshot=e,this.type=ot.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sd=class{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=ot.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ka=class{},Za=class{constructor(e){this.url=e}};var oE=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tc,this.attachRef=null}},tc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new oE,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Id=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=aE(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=aE(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=cE(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return cE(e,this._root).map(i=>i.value)}};function aE(t,e){if(t===e.value)return e;for(let i of e.children){let n=aE(t,i);if(n)return n}return null}function cE(t,e){if(t===e.value)return[e];for(let i of e.children){let n=cE(t,i);if(n.length)return n.unshift(e),n}return[]}var Zt=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function so(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var Dd=class extends Id{constructor(e,i){super(e),this.snapshot=i,yE(this,e)}toString(){return this.snapshot.toString()}};function CR(t){let e=t2(t),i=new Te([new Xi("",{})]),n=new Te({}),r=new Te({}),s=new Te({}),o=new Te(""),a=new Ur(i,n,s,o,r,ee,t,e.root);return a.snapshot=e.root,new Dd(new Zt(a,[]),e)}function t2(t){let e={},i={},n={},r="",s=new Qa([],e,n,r,i,ee,t,null,{});return new bd("",new Zt(s,[]))}var Ur=class{constructor(e,i,n,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(E(u=>u[ec]))??I(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(E(e=>co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(E(e=>co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vE(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),r?.data),t._resolvedData)}:n={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},r&&IR(r)&&(n.resolve[ec]=r.title),n}var Qa=class{get title(){return this.data?.[ec]}constructor(e,i,n,r,s,o,a,c,u){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},bd=class extends Id{constructor(e,i){super(i),this.url=e,yE(this,i)}toString(){return SR(this._root)}};function yE(t,e){e.value._routerState=t,e.children.forEach(i=>yE(t,i))}function SR(t){let e=t.children.length>0?` { ${t.children.map(SR).join(", ")} } `:"";return`${t.value}${e}`}function Hy(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,ur(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),ur(e.params,i.params)||t.paramsSubject.next(i.params),xV(e.url,i.url)||t.urlSubject.next(i.url),ur(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function uE(t,e){let i=ur(t.params,e.params)&&FV(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||uE(t.parent,e.parent))}function IR(t){return typeof t.title=="string"||t.title===null}var n2=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new pt,this.deactivateEvents=new pt,this.attachEvents=new pt,this.detachEvents=new pt,this.parentContexts=C(tc),this.location=C(Bt),this.changeDetector=C(Pr),this.environmentInjector=C(Ct),this.inputBinder=C(Md,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new lE(n,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ot({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[li]});let t=e;return t})(),lE=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===Ur?this.route:e===tc?this.childContexts:this.parent.get(e,i)}},Md=new S(""),tR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,s=Pe([r.queryParams,r.params,r.data]).pipe(O(([o,a,c],u)=>(c=v(v(v({},o),a),c),u===0?I(c):Promise.resolve(c)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=rA(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of a.inputs)n.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(n,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function r2(t,e,i){let n=Ja(t,e._root,i?i._root:void 0);return new Dd(n,e)}function Ja(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=i2(t,e,i);return new Zt(n,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ja(t,a)),o}}let n=s2(e.value),r=e.children.map(s=>Ja(t,s));return new Zt(n,r)}}function i2(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return Ja(t,n,r);return Ja(t,n)})}function s2(t){return new Ur(new Te(t.url),new Te(t.params),new Te(t.queryParams),new Te(t.fragment),new Te(t.data),t.outlet,t.component,t)}var DR="ngNavigationCancelingError";function bR(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=uo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=wR(!1,Qt.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function wR(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[DR]=!0,i.cancellationCode=e,i}function o2(t){return TR(t)&&uo(t.url)}function TR(t){return!!t&&t[DR]}var a2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Dw({type:e,selectors:[["ng-component"]],standalone:!0,features:[z0],decls:1,vars:0,template:function(r,s){r&1&&Jv(0,"router-outlet")},dependencies:[n2],encapsulation:2});let t=e;return t})();function c2(t,e){return t.providers&&!t._injector&&(t._injector=$l(t.providers,e,`Route: ${t.path}`)),t._injector??e}function EE(t){let e=t.children&&t.children.map(EE),i=e?T(v({},t),{children:e}):v({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==ee&&(i.component=a2),i}function dr(t){return t.outlet||ee}function u2(t,e){let i=t.filter(n=>dr(n)===e);return i.push(...t.filter(n=>dr(n)!==e)),i}function nc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var l2=(t,e,i,n)=>E(r=>(new dE(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),dE=class{constructor(e,i,n,r,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),Hy(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=so(i);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,i,o.children)}else this.deactivateChildRoutes(e,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=so(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=so(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=so(i);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new sE(s.value.snapshot))}),e.children.length&&this.forwardEvent(new rE(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(Hy(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,o.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Hy(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=nc(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}},wd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ao=class{constructor(e,i){this.component=e,this.route=i}};function d2(t,e,i){let n=t._root,r=e?e._root:null;return Ha(n,r,i,[n.value])}function f2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function fo(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!lw(t)?t:e.get(t):n}function Ha(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=so(e);return t.children.forEach(o=>{h2(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>qa(a,i.getContext(o),r)),r}function h2(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=p2(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new wd(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ha(t,e,a?a.children:null,n,r):Ha(t,e,i,n,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ao(a.outlet.component,o))}else o&&qa(e,a,r),r.canActivateChecks.push(new wd(n)),s.component?Ha(t,null,a?a.children:null,n,r):Ha(t,null,i,n,r);return r}function p2(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!es(t.url,e.url);case"pathParamsOrQueryParamsChange":return!es(t.url,e.url)||!ur(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uE(t,e)||!ur(t.queryParams,e.queryParams);case"paramsChange":default:return!uE(t,e)}}function qa(t,e,i){let n=so(t),r=t.value;Object.entries(n).forEach(([s,o])=>{r.component?e?qa(o,e.children.getContext(s),i):qa(o,null,i):qa(o,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new ao(e.outlet.component,r)):i.canDeactivateChecks.push(new ao(null,r)):i.canDeactivateChecks.push(new ao(null,r))}function rc(t){return typeof t=="function"}function g2(t){return typeof t=="boolean"}function m2(t){return t&&rc(t.canLoad)}function v2(t){return t&&rc(t.canActivate)}function y2(t){return t&&rc(t.canActivateChild)}function E2(t){return t&&rc(t.canDeactivate)}function C2(t){return t&&rc(t.canMatch)}function AR(t){return t instanceof Cn||t?.name==="EmptyError"}var pd=Symbol("INITIAL_VALUE");function lo(){return O(t=>Pe(t.map(e=>e.pipe(oe(1),Gn(pd)))).pipe(E(e=>{for(let i of e)if(i!==!0){if(i===pd)return pd;if(i===!1||i instanceof pi)return i}return!0}),x(e=>e!==pd),oe(1)))}function S2(t,e){return G(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?I(T(v({},i),{guardsResult:!0})):I2(o,n,r,t).pipe(G(a=>a&&g2(a)?D2(n,s,t,e):I(a)),E(a=>T(v({},i),{guardsResult:a})))})}function I2(t,e,i,n){return he(t).pipe(G(r=>R2(r.component,r.route,i,e,n)),Rt(r=>r!==!0,!0))}function D2(t,e,i,n){return he(e).pipe(je(r=>zn(w2(r.route.parent,n),b2(r.route,n),A2(t,r.path,i),T2(t,r.route,i))),Rt(r=>r!==!0,!0))}function b2(t,e){return t!==null&&e&&e(new iE(t)),I(!0)}function w2(t,e){return t!==null&&e&&e(new nE(t)),I(!0)}function T2(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return I(!0);let r=n.map(s=>qe(()=>{let o=nc(e)??i,a=fo(s,o),c=v2(a)?a.canActivate(e,t):Mn(o,()=>a(e,t));return mi(c).pipe(Rt())}));return I(r).pipe(lo())}function A2(t,e,i){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>f2(o)).filter(o=>o!==null).map(o=>qe(()=>{let a=o.guards.map(c=>{let u=nc(o.node)??i,l=fo(c,u),f=y2(l)?l.canActivateChild(n,t):Mn(u,()=>l(n,t));return mi(f).pipe(Rt())});return I(a).pipe(lo())}));return I(s).pipe(lo())}function R2(t,e,i,n,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return I(!0);let o=s.map(a=>{let c=nc(e)??r,u=fo(a,c),l=E2(u)?u.canDeactivate(t,e,i,n):Mn(c,()=>u(t,e,i,n));return mi(l).pipe(Rt())});return I(o).pipe(lo())}function M2(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return I(!0);let s=r.map(o=>{let a=fo(o,t),c=m2(a)?a.canLoad(e,i):Mn(t,()=>a(e,i));return mi(c)});return I(s).pipe(lo(),RR(n))}function RR(t){return yg(L(e=>{if(uo(e))throw bR(t,e)}),E(e=>e===!0))}function x2(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return I(!0);let s=r.map(o=>{let a=fo(o,t),c=C2(a)?a.canMatch(e,i):Mn(t,()=>a(e,i));return mi(c)});return I(s).pipe(lo(),RR(n))}var Xa=class{constructor(e){this.segmentGroup=e||null}},Td=class extends Error{constructor(e){super(),this.urlTree=e}};function io(t){return At(new Xa(t))}function O2(t){return At(new j(4e3,!1))}function N2(t){return At(wR(!1,Qt.GuardRejected))}var fE=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return I(n);if(r.numberOfChildren>1||!r.children[ee])return O2(e.redirectTo);r=r.children[ee]}}applyRedirectCommands(e,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new Td(r);return r}applyRedirectCreateUrlTree(e,i,n,r){let s=this.createSegmentGroup(e,i.root,n,r);return new pi(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);n[r]=i[a]}else n[r]=s}),n}createSegmentGroup(e,i,n,r){let s=this.createSegments(e,i.segments,n,r),o={};return Object.entries(i.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,n,r)}),new De(s,o)}createSegments(e,i,n,r){return i.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},hE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P2(t,e,i,n,r){let s=CE(t,e,i);return s.matched?(n=c2(e,n),x2(n,e,i,r).pipe(E(o=>o===!0?s:v({},hE)))):I(s)}function CE(t,e,i){if(e.path==="**")return F2(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?v({},hE):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||MV)(i,t,e);if(!r)return v({},hE);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?v(v({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function F2(t){return{matched:!0,parameters:t.length>0?aR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function nR(t,e,i,n){return i.length>0&&k2(t,i,n)?{segmentGroup:new De(e,L2(n,new De(i,t.children))),slicedSegments:[]}:i.length===0&&j2(t,i,n)?{segmentGroup:new De(t.segments,_2(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new De(t.segments,t.children),slicedSegments:i}}function _2(t,e,i,n){let r={};for(let s of i)if(xd(t,e,s)&&!n[dr(s)]){let o=new De([],{});r[dr(s)]=o}return v(v({},n),r)}function L2(t,e){let i={};i[ee]=e;for(let n of t)if(n.path===""&&dr(n)!==ee){let r=new De([],{});i[dr(n)]=r}return i}function k2(t,e,i){return i.some(n=>xd(t,e,n)&&dr(n)!==ee)}function j2(t,e,i){return i.some(n=>xd(t,e,n))}function xd(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function U2(t,e,i,n){return dr(t)!==n&&(n===ee||!xd(e,i,t))?!1:CE(e,t,i).matched}function $2(t,e,i){return e.length===0&&!t.children[i]}var pE=class{};function B2(t,e,i,n,r,s,o="emptyOnly"){return new gE(t,e,i,n,r,o,s).recognize()}var V2=31,gE=class{constructor(e,i,n,r,s,o,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new fE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=nR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(E(i=>{let n=new Qa([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),r=new Zt(n,i),s=new bd("",r),o=YV(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(P(n=>{if(n instanceof Td)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Xa?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,r=vE(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(e,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,r,!0).pipe(E(s=>s instanceof Zt?[s]:[]))}processChildren(e,i,n){let r=[];for(let s of Object.keys(n.children))s==="primary"?r.unshift(s):r.push(s);return he(r).pipe(je(s=>{let o=n.children[s],a=u2(i,s);return this.processSegmentGroup(e,a,o,s)}),Fi((s,o)=>(s.push(...o),s)),ri(null),Rg(),G(s=>{if(s===null)return io(n);let o=MR(s);return H2(o),I(o)}))}processSegment(e,i,n,r,s,o){return he(i).pipe(je(a=>this.processSegmentAgainstRoute(a._injector??e,i,a,n,r,s,o).pipe(P(c=>{if(c instanceof Xa)return I(null);throw c}))),Rt(a=>!!a),P(a=>{if(AR(a))return $2(n,r,s)?I(new pE):io(n);throw a}))}processSegmentAgainstRoute(e,i,n,r,s,o,a){return U2(n,r,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,s,o):io(r):io(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=CE(i,r,s);if(!a)return io(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>V2&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,f).pipe(G(h=>this.processSegment(e,n,i,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,i,n,r,s){let o=P2(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),o.pipe(O(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(O(({routes:c})=>{let u=n._loadedInjector??e,{consumedSegments:l,remainingSegments:f,parameters:h}=a,p=new Qa(l,h,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,G2(n),dr(n),n.component??n._loadedComponent??null,n,W2(n)),{segmentGroup:y,slicedSegments:b}=nR(i,l,f,c);if(b.length===0&&y.hasChildren())return this.processChildren(u,c,y).pipe(E(R=>R===null?null:new Zt(p,R)));if(c.length===0&&b.length===0)return I(new Zt(p,[]));let w=dr(n)===s;return this.processSegment(u,c,y,b,w?ee:s,!0).pipe(E(R=>new Zt(p,R instanceof Zt?[R]:[])))}))):io(i)))}getChildConfig(e,i,n){return i.children?I({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?I({routes:i._loadedRoutes,injector:i._loadedInjector}):M2(e,i,n,this.urlSerializer).pipe(G(r=>r?this.configLoader.loadChildren(e,i).pipe(L(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):N2(i))):I({routes:[],injector:e})}};function H2(t){t.sort((e,i)=>e.value.outlet===ee?-1:i.value.outlet===ee?1:e.value.outlet.localeCompare(i.value.outlet))}function z2(t){let e=t.value.routeConfig;return e&&e.path===""}function MR(t){let e=[],i=new Set;for(let n of t){if(!z2(n)){e.push(n);continue}let r=e.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=MR(n.children);e.push(new Zt(n.value,r))}return e.filter(n=>!i.has(n))}function G2(t){return t.data||{}}function W2(t){return t.resolve||{}}function q2(t,e,i,n,r,s){return G(o=>B2(t,e,i,n,o.extractedUrl,r,s).pipe(E(({state:a,tree:c})=>T(v({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Y2(t,e){return G(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return I(i);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of xR(c))o.add(u);let a=0;return he(o).pipe(je(c=>s.has(c)?K2(c,n,t,e):(c.data=vE(c,c.parent,t).resolve,I(void 0))),L(()=>a++),xs(1),G(c=>a===o.size?I(i):pe))})}function xR(t){let e=t.children.map(i=>xR(i)).flat();return[t,...e]}function K2(t,e,i,n){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!IR(r)&&(s[ec]=r.title),Z2(s,t,e,n).pipe(E(o=>(t._resolvedData=o,t.data=vE(t,t.parent,i).resolve,null)))}function Z2(t,e,i,n){let r=Wy(t);if(r.length===0)return I({});let s={};return he(r).pipe(G(o=>Q2(t[o],e,i,n).pipe(Rt(),L(a=>{s[o]=a}))),xs(1),ea(s),P(o=>AR(o)?pe:At(o)))}function Q2(t,e,i,n){let r=nc(e)??n,s=fo(t,r),o=s.resolve?s.resolve(e,i):Mn(r,()=>s(e,i));return mi(o)}function zy(t){return O(e=>{let i=t(e);return i?he(i).pipe(E(()=>e)):I(e)})}var OR=(()=>{let e=class e{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[ec]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(J2),providedIn:"root"});let t=e;return t})(),J2=(()=>{let e=class e extends OR{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(d(ZA))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ic=new S("",{providedIn:"root",factory:()=>({})}),Ad=new S(""),SE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(to)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return I(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=mi(n.loadComponent()).pipe(E(NR),L(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Sn(()=>{this.componentLoaders.delete(n)})),s=new ei(r,()=>new re).pipe(Ts());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return I({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=X2(r,this.compiler,n,this.onLoadEndListener).pipe(Sn(()=>{this.childrenLoaders.delete(r)})),a=new ei(o,()=>new re).pipe(Ts());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X2(t,e,i,n){return mi(t.loadChildren()).pipe(E(NR),G(r=>r instanceof Wi||Array.isArray(r)?I(r):he(e.compileModuleAsync(r))),E(r=>{n&&n(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(i).injector,o=s.get(Ad,[],{optional:!0,self:!0}).flat()),{routes:o.map(EE),injector:s}}))}function eH(t){return t&&typeof t=="object"&&"default"in t}function NR(t){return eH(t)?t.default:t}var IE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(tH),providedIn:"root"});let t=e;return t})(),tH=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PR=new S(""),FR=new S("");function nH(t,e,i){let n=t.get(FR),r=t.get(_e);return t.get(Ce).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),rH(t))),{onViewTransitionCreated:c}=n;return c&&Mn(t,()=>c({transition:a,from:e,to:i})),o})}function rH(t){return new Promise(e=>{Ul(e,{injector:t})})}var DE=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re,this.transitionAbortSubject=new re,this.configLoader=C(SE),this.environmentInjector=C(Ct),this.urlSerializer=C(rs),this.rootContexts=C(tc),this.location=C(ar),this.inputBindingEnabled=C(Md,{optional:!0})!==null,this.titleStrategy=C(OR),this.options=C(ic,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(IE),this.createViewTransition=C(PR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null;let n=s=>this.events.next(new eE(s)),r=s=>this.events.next(new tE(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(T(v(v({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new Te({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(x(o=>o.id!==0),E(o=>T(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),O(o=>{let a=!1,c=!1;return I(o).pipe(O(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Qt.SupersededByNewNavigation),pe;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?T(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let h="";return this.events.next(new gi(u.id,this.urlSerializer.serialize(u.rawUrl),h,Cd.IgnoredSameUrlNavigation)),u.resolve(null),pe}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return I(u).pipe(O(h=>{let p=this.transitions?.getValue();return this.events.next(new mn(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?pe:Promise.resolve(h)}),q2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),L(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=T(v({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new ns(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:y,restoredState:b,extras:w}=u,R=new mn(h,this.urlSerializer.serialize(p),y,b);this.events.next(R);let V=CR(this.rootComponentType).snapshot;return this.currentTransition=o=T(v({},u),{targetSnapshot:V,urlAfterRedirects:p,extras:T(v({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,I(o)}else{let h="";return this.events.next(new gi(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Cd.IgnoredByUrlHandlingStrategy)),u.resolve(null),pe}}),L(u=>{let l=new Zy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),E(u=>(this.currentTransition=o=T(v({},u),{guards:d2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),S2(this.environmentInjector,u=>this.events.next(u)),L(u=>{if(o.guardsResult=u.guardsResult,uo(u.guardsResult))throw bR(this.urlSerializer,u.guardsResult);let l=new Qy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),x(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Qt.GuardRejected),!1)),zy(u=>{if(u.guards.canActivateChecks.length)return I(u).pipe(L(l=>{let f=new Jy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),O(l=>{let f=!1;return I(l).pipe(Y2(this.paramsInheritanceStrategy,this.environmentInjector),L({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",Qt.NoDataFromResolver)}}))}),L(l=>{let f=new Xy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),zy(u=>{let l=f=>{let h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(L(p=>{f.component=p}),E(()=>{})));for(let p of f.children)h.push(...l(p));return h};return Pe(l(u.targetSnapshot.root)).pipe(ri(null),oe(1))}),zy(()=>this.afterPreactivation()),O(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?he(f).pipe(E(()=>o)):I(o)}),E(u=>{let l=r2(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=T(v({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),L(()=>{this.events.next(new Ka)}),l2(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),oe(1),L({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new st(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),na(this.transitionAbortSubject.pipe(L(u=>{throw u}))),Sn(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),P(u=>{if(c=!0,TR(u))this.events.next(new vn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),o2(u)?this.events.next(new Za(u.url)):o.resolve(!1);else{this.events.next(new lr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return pe}))}))}cancelNavigationTransition(n,r,s){let o=new vn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iH(t){return t!==Wa}var sH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(oH),providedIn:"root"});let t=e;return t})(),mE=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},oH=(()=>{let e=class e extends mE{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_R=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(aH),providedIn:"root"});let t=e;return t})(),aH=(()=>{let e=class e extends _R{constructor(){super(...arguments),this.location=C(ar),this.urlSerializer=C(rs),this.options=C(ic,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(IE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=CR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof mn)this.stateMemento=this.createStateMemento();else if(n instanceof gi)this.rawUrlTree=r.initialUrl;else if(n instanceof ns){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else n instanceof Ka?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof vn&&(n.code===Qt.GuardRejected||n.code===Qt.NoDataFromResolver)?this.restoreHistory(r):n instanceof lr?this.restoreHistory(r,!0):n instanceof st&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=v(v({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=v(v({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),za=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(za||{});function LR(t,e){t.events.pipe(x(i=>i instanceof st||i instanceof vn||i instanceof lr||i instanceof gi),E(i=>i instanceof st||i instanceof gi?za.COMPLETE:(i instanceof vn?i.code===Qt.Redirect||i.code===Qt.SupersededByNewNavigation:!1)?za.REDIRECTING:za.FAILED),x(i=>i!==za.REDIRECTING),oe(1)).subscribe(()=>{e()})}function cH(t){throw t}var uH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Oe=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=C(Hl),this.stateManager=C(_R),this.options=C(ic,{optional:!0})||{},this.pendingTasks=C(Ki),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(DE),this.urlSerializer=C(rs),this.location=C(ar),this.urlHandlingStrategy=C(IE),this._events=new re,this.errorHandler=this.options.errorHandler||cH,this.navigated=!1,this.routeReuseStrategy=C(sH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(Ad,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(Md,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=C(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vn&&r.code!==Qt.Redirect&&r.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof st)this.navigated=!0;else if(r instanceof Za){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||iH(s.source)};this.scheduleNavigation(a,Wa,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}fH(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=v({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(EE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=mR(p)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return vR(h,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=uo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Wa,null,r)}navigate(n,r={skipLocationChange:!1}){return dH(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=v({},uH):r===!1?s=v({},lH):s=r,uo(n))return QA(this.currentUrlTree,n,s);let o=this.parseUrl(n);return QA(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(n,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let f=this.pendingTasks.add();return LR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function fH(t){return!(t instanceof Ka)&&!(t instanceof Za)}var rR=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.router=n,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof st&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:NT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,n,r):s.removeAttribute(o,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(X(Oe),X(Ur),wv("tabindex"),X(Zs),X(ir),X(jr))},e.\u0275dir=Ot({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Xv("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Kv("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[an.HasDecoratorInputTransform,"preserveFragment","preserveFragment",xa],skipLocationChange:[an.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",xa],replaceUrl:[an.HasDecoratorInputTransform,"replaceUrl","replaceUrl",xa],routerLink:"routerLink"},standalone:!0,features:[qv,li]});let t=e;return t})(),Loe=(()=>{let e=class e{get isActive(){return this._isActive}constructor(n,r,s,o,a){this.router=n,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new pt,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof st&&this.update()})}ngAfterContentInit(){I(this.links.changes,I(null)).pipe(Hn()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=he(n).pipe(Hn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=hH(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};e.\u0275fac=function(r){return new(r||e)(X(Oe),X(ir),X(Zs),X(Pr),X(rR,8))},e.\u0275dir=Ot({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&U0(o,rR,5),r&2){let a;$0(a=B0())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[li]});let t=e;return t})();function hH(t){return!!t.paths}var Rd=class{};var pH=(()=>{let e=class e{constructor(n,r,s,o,a){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(x(n=>n instanceof st),je(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=$l(o.providers,n,`Route: ${o.path}`));let a=o._injector??n,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return he(s).pipe(Hn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(n,r):s=I(null);let o=s.pipe(G(a=>a===null?I(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return he([o,a]).pipe(Hn())}else return o})}};e.\u0275fac=function(r){return new(r||e)(d(Oe),d(to),d(Ct),d(Rd),d(SE))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kR=new S(""),gH=(()=>{let e=class e{constructor(n,r,s,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=C(Ct),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof mn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof st?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof gi&&n.code===Cd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Sd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>nt(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Ul(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Sd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){WT()},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function mH(t){return t.routerState.root}function sc(t,e){return{\u0275kind:t,\u0275providers:e}}function vH(){let t=C(Ye);return e=>{let i=t.get(Zi);if(e!==i.components[0])return;let n=t.get(Oe),r=t.get(jR);t.get(bE)===1&&n.initialNavigation(),t.get(UR,null,ce.Optional)?.setUpPreloading(),t.get(kR,null,ce.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var jR=new S("",{factory:()=>new re}),bE=new S("",{providedIn:"root",factory:()=>1});function yH(){return sc(2,[{provide:bE,useValue:0},{provide:bt,multi:!0,deps:[Ye],useFactory:e=>{let i=e.get(od,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=e.get(Oe),s=e.get(jR);LR(r,()=>{n(!0)}),e.get(DE).afterPreactivation=()=>(n(!0),s.closed?I(void 0):s),r.initialNavigation()}))}}])}function EH(){return sc(3,[{provide:bt,multi:!0,useFactory:()=>{let e=C(Oe);return()=>{e.setUpLocationChangeListener()}}},{provide:bE,useValue:2}])}var UR=new S("");function CH(t){return sc(0,[{provide:UR,useExisting:pH},{provide:Rd,useExisting:t}])}function SH(){return sc(8,[tR,{provide:Md,useExisting:tR}])}function IH(t){let e=[{provide:PR,useValue:nH},{provide:FR,useValue:v({skipNextTransition:!!t?.skipInitialTransition},t)}];return sc(9,e)}var iR=new S("ROUTER_FORROOT_GUARD"),DH=[ar,{provide:rs,useClass:ts},Oe,tc,{provide:Ur,useFactory:mH,deps:[Oe]},SE,[]],$R=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[DH,[],{provide:Ad,multi:!0,useValue:n},{provide:iR,useFactory:AH,deps:[[Oe,new un,new Cl]]},{provide:ic,useValue:r||{}},r?.useHash?wH():TH(),bH(),r?.preloadingStrategy?CH(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?RH(r):[],r?.bindToComponentInputs?SH().\u0275providers:[],r?.enableViewTransitions?IH().\u0275providers:[],MH()]}}static forChild(n){return{ngModule:e,providers:[{provide:Ad,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(d(iR,8))},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();function bH(){return{provide:kR,useFactory:()=>{let t=C(RA),e=C(Ce),i=C(ic),n=C(DE),r=C(rs);return i.scrollOffset&&t.setOffset(i.scrollOffset),new gH(r,n,t,e,i)}}}function wH(){return{provide:jr,useClass:yA}}function TH(){return{provide:jr,useClass:Cy}}function AH(t){return"guarded"}function RH(t){return[t.initialNavigation==="disabled"?EH().\u0275providers:[],t.initialNavigation==="enabledBlocking"?yH().\u0275providers:[]]}var sR=new S("");function MH(){return[{provide:sR,useFactory:vH},{provide:eo,multi:!0,useExisting:sR}]}function wE(t,e){let i=!e?.manualCleanup;i&&!e?.injector&&Ca(wE);let n=i?e?.injector?.get(fi)??C(fi):null,r;e?.requireSync?r=Wv({kind:0}):r=Wv({kind:1,value:e?.initialValue});let s=t.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{if(e?.rejectErrors)throw o;r.set({kind:2,error:o})}});return n?.onDestroy(s.unsubscribe.bind(s)),Wl(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new j(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var ME={};function vi(t,e){if(ME[t]=(ME[t]||0)+1,typeof e=="function")return TE(t,(...n)=>T(v({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return TE(t,()=>({type:t}));case"props":return TE(t,n=>T(v({},n),{type:t}));default:throw new Error("Unexpected config.")}}function po(){return{_as:"props",_p:void 0}}function TE(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var Fd="@ngrx/store/init",$r=(()=>{let e=class e extends Te{constructor(){super({type:Fd})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),xH=[$r],rM=new S("@ngrx/store Internal Root Guard"),VR=new S("@ngrx/store Internal Initial State"),PE=new S("@ngrx/store Initial State"),iM=new S("@ngrx/store Reducer Factory"),HR=new S("@ngrx/store Internal Reducer Factory Provider"),sM=new S("@ngrx/store Initial Reducers"),AE=new S("@ngrx/store Internal Initial Reducers"),zR=new S("@ngrx/store Store Features"),GR=new S("@ngrx/store Internal Store Reducers"),RE=new S("@ngrx/store Internal Feature Reducers"),WR=new S("@ngrx/store Internal Feature Configs"),oM=new S("@ngrx/store Internal Store Features"),qR=new S("@ngrx/store Internal Feature Reducers Token"),aM=new S("@ngrx/store Feature Reducers"),YR=new S("@ngrx/store User Provided Meta Reducers"),ho=new S("@ngrx/store Meta Reducers"),KR=new S("@ngrx/store Internal Resolved Meta Reducers"),ZR=new S("@ngrx/store User Runtime Checks Config"),QR=new S("@ngrx/store Internal User Runtime Checks Config"),is=new S("@ngrx/store Internal Runtime Checks"),FE=new S("@ngrx/store Check if Action types are unique"),OH=new S("@ngrx/store Root Store Provider"),NH=new S("@ngrx/store Feature State Provider");function ss(t,e={}){let i=Object.keys(t),n={};for(let s=0;s<i.length;s++){let o=i[s];typeof t[o]=="function"&&(n[o]=t[o])}let r=Object.keys(n);return function(o,a){o=o===void 0?e:o;let c=!1,u={};for(let l=0;l<r.length;l++){let f=r[l],h=n[f],p=o[f],y=h(p,a);u[f]=y,c=c||y!==p}return c?u:o}}function PH(t,e){return Object.keys(t).filter(i=>i!==e).reduce((i,n)=>Object.assign(i,{[n]:t[n]}),{})}function cM(...t){return function(e){if(t.length===0)return e;let i=t[t.length-1];return t.slice(0,-1).reduceRight((r,s)=>s(r),i(e))}}function uM(t,e){return Array.isArray(e)&&e.length>0&&(t=cM.apply(null,[...e,t])),(i,n)=>{let r=t(i);return(s,o)=>(s=s===void 0?n:s,r(s,o))}}function FH(t){let e=Array.isArray(t)&&t.length>0?cM(...t):i=>i;return(i,n)=>(i=e(i),(r,s)=>(r=r===void 0?n:r,i(r,s)))}var oc=class extends z{},Od=class extends $r{},_H="@ngrx/store/update-reducers",Nd=(()=>{let e=class e extends Te{get currentReducers(){return this.reducers}constructor(n,r,s,o){super(o(s,r)),this.dispatcher=n,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:u,key:l})=>{let f=typeof o=="function"?FH(c)(o,u):uM(a,c)(o,u);return s[l]=f,s},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=v(v({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=PH(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:_H,features:n})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(r){return new(r||e)(d(Od),d(PE),d(sM),d(iM))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),LH=[Nd,{provide:oc,useExisting:Nd},{provide:Od,useExisting:$r}],ac=(()=>{let e=class e extends re{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),kH=[ac],Pd=class extends z{},JR=(()=>{let e=class e extends Te{constructor(n,r,s,o){super(o);let c=n.pipe(nn(ti)).pipe(rt(r)),u={state:o},l=c.pipe(Fi(jH,u));this.stateSubscription=l.subscribe(({state:f,action:h})=>{this.next(f),s.next(h)}),this.state=wE(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=Fd,e.\u0275fac=function(r){return new(r||e)(d($r),d(oc),d(ac),d(PE))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function jH(t={state:void 0},[e,i]){let{state:n}=t;return{state:i(n,e),action:e}}var UH=[JR,{provide:Pd,useExisting:JR}],me=(()=>{let e=class e extends z{constructor(n,r,s){super(),this.actionsObserver=r,this.reducerManager=s,this.source=n,this.state=n.state}select(n,...r){return M.call(null,n,...r)(this)}selectSignal(n,r){return Wl(()=>n(this.state()),r)}lift(n){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}};e.\u0275fac=function(r){return new(r||e)(d(Pd),d($r),d(Nd))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),$H=[me];function M(t,e,...i){return function(r){let s;if(typeof t=="string"){let o=[e,...i].filter(Boolean);s=r.pipe(xg(t,...o))}else if(typeof t=="function")s=r.pipe(E(o=>t(o,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(rn())}}var _E="https://ngrx.io/guide/store/configuration/runtime-checks";function XR(t){return t===void 0}function eM(t){return t===null}function lM(t){return Array.isArray(t)}function BH(t){return typeof t=="string"}function VH(t){return typeof t=="boolean"}function HH(t){return typeof t=="number"}function dM(t){return typeof t=="object"&&t!==null}function zH(t){return dM(t)&&!lM(t)}function GH(t){if(!zH(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function xE(t){return typeof t=="function"}function WH(t){return xE(t)&&t.hasOwnProperty("\u0275cmp")}function qH(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var YH=!1;function LE(){return YH}function tM(t,e){return t===e}function KH(t,e,i){for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!0;return!1}function fM(t,e=tM,i=tM){let n=null,r=null,s;function o(){n=null,r=null}function a(l=void 0){s={result:l}}function c(){s=void 0}function u(){if(s!==void 0)return s.result;if(!n)return r=t.apply(null,arguments),n=arguments,r;if(!KH(arguments,n,e))return r;let l=t.apply(null,arguments);return n=arguments,i(r,l)?r:(r=l,l)}return{memoized:u,reset:o,setResult:a,clearResult:c}}function A(...t){return QH(fM)(...t)}function ZH(t,e,i,n){if(i===void 0){let s=e.map(o=>o(t));return n.memoized.apply(null,s)}let r=e.map(s=>s(t,i));return n.memoized.apply(null,[...r,i])}function QH(t,e={stateFn:ZH}){return function(...i){let n=i;if(Array.isArray(n[0])){let[l,...f]=n;n=[...l,...f]}else n.length===1&&JH(n[0])&&(n=XH(n[0]));let r=n.slice(0,n.length-1),s=n[n.length-1],o=r.filter(l=>l.release&&typeof l.release=="function"),a=t(function(...l){return s.apply(null,l)}),c=fM(function(l,f){return e.stateFn.apply(null,[l,r,f,a])});function u(){c.reset(),a.reset(),o.forEach(l=>l.release())}return Object.assign(c.memoized,{release:u,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function Nn(t){return A(e=>{let i=e[t];return!LE()&&ge()&&!(t in e)&&console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),i},e=>e)}function JH(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function XH(t){let e=Object.values(t),i=Object.keys(t),n=(...r)=>i.reduce((s,o,a)=>T(v({},s),{[o]:r[a]}),{});return[...e,n]}function ez(t){return t instanceof S?C(t):t}function tz(t,e){return e.map((i,n)=>{if(t[n]instanceof S){let r=C(t[n]);return{key:i.key,reducerFactory:r.reducerFactory?r.reducerFactory:ss,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return i})}function nz(t){return t.map(e=>e instanceof S?C(e):e)}function hM(t){return typeof t=="function"?t():t}function rz(t,e){return t.concat(e)}function iz(){if(C(me,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function sz(t,e){return function(i,n){let r=e.action(n)?OE(n):n,s=t(i,r);return e.state()?OE(s):s}}function OE(t){Object.freeze(t);let e=xE(t);return Object.getOwnPropertyNames(t).forEach(i=>{if(!i.startsWith("\u0275")&&qH(t,i)&&(!e||i!=="caller"&&i!=="callee"&&i!=="arguments")){let n=t[i];(dM(n)||xE(n))&&!Object.isFrozen(n)&&OE(n)}}),t}function oz(t,e){return function(i,n){if(e.action(n)){let s=NE(n);nM(s,"action")}let r=t(i,n);if(e.state()){let s=NE(r);nM(s,"state")}return r}}function NE(t,e=[]){return(XR(t)||eM(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;let s=t[r];return WH(s)?n:XR(s)||eM(s)||HH(s)||VH(s)||BH(s)||lM(s)?!1:GH(s)?NE(s,[...e,r]):{path:[...e,r],value:s}},!1)}function nM(t,e){if(t===!1)return;let i=t.path.join("."),n=new Error(`Detected unserializable ${e} at "${i}". ${_E}#strict${e}serializability`);throw n.value=t.value,n.unserializablePath=i,n}function az(t,e){return function(i,n){if(e.action(n)&&!Ce.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${_E}#strictactionwithinngzone`);return t(i,n)}}function cz(t){return ge()?v({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function uz({strictActionSerializability:t,strictStateSerializability:e}){return i=>t||e?oz(i,{action:n=>t&&!kE(n),state:()=>e}):i}function lz({strictActionImmutability:t,strictStateImmutability:e}){return i=>t||e?sz(i,{action:n=>t&&!kE(n),state:()=>e}):i}function kE(t){return t.type.startsWith("@ngrx")}function dz({strictActionWithinNgZone:t}){return e=>t?az(e,{action:i=>t&&!kE(i)}):e}function fz(t){return[{provide:QR,useValue:t},{provide:ZR,useFactory:hz,deps:[QR]},{provide:is,deps:[ZR],useFactory:cz},{provide:ho,multi:!0,deps:[is],useFactory:lz},{provide:ho,multi:!0,deps:[is],useFactory:uz},{provide:ho,multi:!0,deps:[is],useFactory:dz}]}function pM(){return[{provide:FE,multi:!0,deps:[is],useFactory:pz}]}function hz(t){return t}function pz(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(ME).filter(([,i])=>i>1).map(([i])=>i);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(i=>`"${i}"`).join(", ")}. ${_E}#strictactiontypeuniqueness`)}function gz(t={},e={}){return[{provide:rM,useFactory:iz},{provide:VR,useValue:e.initialState},{provide:PE,useFactory:hM,deps:[VR]},{provide:AE,useValue:t},{provide:GR,useExisting:t instanceof S?t:AE},{provide:sM,deps:[AE,[new lv(GR)]],useFactory:ez},{provide:YR,useValue:e.metaReducers?e.metaReducers:[]},{provide:KR,deps:[ho,YR],useFactory:rz},{provide:HR,useValue:e.reducerFactory?e.reducerFactory:ss},{provide:iM,deps:[HR,KR],useFactory:uM},xH,LH,kH,UH,$H,fz(e.runtimeChecks),pM()]}function mz(t,e,i={}){return[{provide:WR,multi:!0,useValue:t instanceof Object?{}:i},{provide:zR,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:!(i instanceof S)&&i.reducerFactory?i.reducerFactory:ss,metaReducers:!(i instanceof S)&&i.metaReducers?i.metaReducers:[],initialState:!(i instanceof S)&&i.initialState?i.initialState:void 0}},{provide:oM,deps:[WR,zR],useFactory:tz},{provide:RE,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:qR,multi:!0,useExisting:e instanceof S?e:RE},{provide:aM,multi:!0,deps:[RE,[new lv(qR)]],useFactory:nz},pM()]}var cc=(()=>{let e=class e{constructor(n,r,s,o,a,c){}};e.\u0275fac=function(r){return new(r||e)(d($r),d(oc),d(ac),d(me),d(rM,8),d(FE,8))},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),_d=(()=>{let e=class e{constructor(n,r,s,o,a){this.features=n,this.featureReducers=r,this.reducerManager=s;let c=n.map((u,l)=>{let h=r.shift()[l];return T(v({},u),{reducers:h,initialState:hM(u.initialState)})});s.addFeatures(c)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};e.\u0275fac=function(r){return new(r||e)(d(oM),d(aM),d(Nd),d(cc),d(FE,8))},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),fr=(()=>{let e=class e{static forRoot(n,r){return{ngModule:cc,providers:[...gz(n,r)]}}static forFeature(n,r,s={}){return{ngModule:_d,providers:[...mz(n,r,s)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();var Ld=class{validateSignature(e){return Promise.resolve(null)}validateAtHash(e){return Promise.resolve(!0)}},kd=class{};var uc=class{},vz=(()=>{let e=class e extends uc{now(){return Date.now()}new(){return new Date}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var jd=class{},as=class{},yz=(()=>{let e=class e{constructor(){this.data=new Map}getItem(n){return this.data.get(n)}removeItem(n){this.data.delete(n)}setItem(n,r){this.data.set(n,r)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var lc=class{constructor(e){this.type=e}},Ft=class extends lc{constructor(e,i=null){super(e),this.info=i}},Pn=class extends lc{constructor(e,i=null){super(e),this.info=i}},Ve=class extends lc{constructor(e,i,n=null){super(e),this.reason=i,this.params=n}};function gM(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(e).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function mM(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var go=class{constructor(e){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=i=>{location.href=i},e&&Object.assign(this,e)}},os=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},Ud=class{};var vM=(()=>{let e=class e{getHashFragmentParams(n){let r=n||window.location.hash;if(r=decodeURIComponent(r),r.indexOf("#")!==0)return{};let s=r.indexOf("?");return s>-1?r=r.substr(s+1):r=r.substr(1),this.parseQueryString(r)}parseQueryString(n){let r={},s,o,a,c,u,l;if(n===null)return r;let f=n.split("&");for(let h=0;h<f.length;h++)s=f[h],o=s.indexOf("="),o===-1?(a=s,c=null):(a=s.substr(0,o),c=s.substr(o+1)),u=decodeURIComponent(a),l=decodeURIComponent(c),u.substr(0,1)==="/"&&(u=u.substr(1)),r[u]=l;return r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),yM=32,Ez=64,Cz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function UE(t,e,i,n,r){let s,o,a,c,u,l,f,h,p,y,b,w,R;for(;r>=64;){for(s=e[0],o=e[1],a=e[2],c=e[3],u=e[4],l=e[5],f=e[6],h=e[7],y=0;y<16;y++)b=n+y*4,t[y]=(i[b]&255)<<24|(i[b+1]&255)<<16|(i[b+2]&255)<<8|i[b+3]&255;for(y=16;y<64;y++)p=t[y-2],w=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,p=t[y-15],R=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,t[y]=(w+t[y-7]|0)+(R+t[y-16]|0);for(y=0;y<64;y++)w=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&f)|0)+(h+(Cz[y]+t[y]|0)|0)|0,R=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&a^o&a)|0,h=f,f=l,l=u,u=c+w|0,c=a,a=o,o=s,s=w+R|0;e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=c,e[4]+=u,e[5]+=l,e[6]+=f,e[7]+=h,n+=64,r-=64}return n}var $E=class{constructor(){this.digestLength=yM,this.blockSize=Ez,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()}update(e,i=e.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=i,this.bufferLength>0){for(;this.bufferLength<64&&i>0;)this.buffer[this.bufferLength++]=e[n++],i--;this.bufferLength===64&&(UE(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(i>=64&&(n=UE(this.temp,this.state,e,n,i),i%=64);i>0;)this.buffer[this.bufferLength++]=e[n++],i--;return this}finish(e){if(!this.finished){let i=this.bytesHashed,n=this.bufferLength,r=i/536870912|0,s=i<<3,o=i%64<56?64:128;this.buffer[n]=128;for(let a=n+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=r>>>24&255,this.buffer[o-7]=r>>>16&255,this.buffer[o-6]=r>>>8&255,this.buffer[o-5]=r>>>0&255,this.buffer[o-4]=s>>>24&255,this.buffer[o-3]=s>>>16&255,this.buffer[o-2]=s>>>8&255,this.buffer[o-1]=s>>>0&255,UE(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(let i=0;i<8;i++)e[i*4+0]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return this}digest(){let e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let i=0;i<this.state.length;i++)e[i]=this.state[i]}_restoreState(e,i){for(let n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=i,this.finished=!1,this.bufferLength=0}};function Sz(t){let e=new $E().update(t),i=e.digest();return e.clean(),i}var oae=new Uint8Array(yM);var $d=class{};function Iz(t){if(typeof t!="string")throw new TypeError("expected string");let e=t,i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}function Dz(t){let e=[];for(let i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}var bz=(()=>{let e=class e{calcHash(n,r){return nt(this,null,function*(){return Dz(Sz(Iz(n)))})}toHashString2(n){let r="";for(let s of n)r+=String.fromCharCode(s);return r}toHashString(n){let r=new Uint8Array(n),s="";for(let o of r)s+=String.fromCharCode(o);return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Vd=(()=>{let e=class e extends go{constructor(n,r,s,o,a,c,u,l,f,h){super(),this.ngZone=n,this.http=r,this.config=a,this.urlHelper=c,this.logger=u,this.crypto=l,this.dateTimeService=h,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new re,this.discoveryDocumentLoadedSubject=new re,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=f,a||(a={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),a&&this.configure(a);try{s?this.setStorage(s):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(p){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",p)}if(this.checkLocalStorageAccessable()){let p=window?.navigator?.userAgent;(p?.includes("MSIE ")||p?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let n="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(n,n),localStorage.removeItem(n),!0)}catch{return!1}}configure(n){Object.assign(this,new go,n),this.config=Object.assign({},new go,n),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(x(n=>n.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(n={},r,s=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(L(a=>{a.type==="token_received"?o=!0:a.type==="logout"&&(o=!1)}),x(a=>a.type==="token_expires"&&(r==null||r==="any"||a.info===r)),Pi(1e3)).subscribe(()=>{o&&this.refreshInternal(n,s).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(n,r){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(n,r)}loadDiscoveryDocumentAndTryLogin(n=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(n))}loadDiscoveryDocumentAndLogin(n=null){return n=n||{},this.loadDiscoveryDocumentAndTryLogin(n).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let r=typeof n.state=="string"?n.state:"";return this.initLoginFlow(r),!1}else return!0})}debug(...n){this.showDebugInformation&&this.logger.debug(...n)}validateUrlFromDiscoveryDocument(n){let r=[],s=this.validateUrlForHttps(n),o=this.validateUrlAgainstIssuer(n);return s||r.push("https for all urls required. Also for urls received by discovery."),o||r.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),r}validateUrlForHttps(n){if(!n)return!0;let r=n.toLowerCase();return this.requireHttps===!1||(r.match(/^http:\/\/localhost($|[:/])/)||r.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:r.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(n,r){if(!n)throw new Error(`'${r}' should not be null`);if(!this.validateUrlForHttps(n))throw new Error(`'${r}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(n){return!this.strictDiscoveryDocumentValidation||!n?!0:n.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(x(n=>n.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let n=this.getAccessTokenExpiration(),r=this.getAccessTokenStoredAt(),s=this.calcTimeout(r,n);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=I(new Pn("token_expires","access_token")).pipe(Kn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){let n=this.getIdTokenExpiration(),r=this.getIdTokenStoredAt(),s=this.calcTimeout(r,n);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=I(new Pn("token_expires","id_token")).pipe(Kn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(n,r){let s=this.dateTimeService.now(),o=(r-n)*this.timeoutFactor-(s-n),a=Math.max(0,o),c=2147483647;return a>c?c:a}setStorage(n){this._storage=n,this.configChanged()}loadDiscoveryDocument(n=null){return new Promise((r,s)=>{if(n||(n=this.issuer||"",n.endsWith("/")||(n+="/"),n+=".well-known/openid-configuration"),!this.validateUrlForHttps(n)){s("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(n).subscribe(o=>{if(!this.validateDiscoveryDocument(o)){this.eventsSubject.next(new Ve("discovery_document_validation_error",null)),s("discovery_document_validation_error");return}this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(a=>{let c={discoveryDocument:o,jwks:a},u=new Ft("discovery_document_loaded",c);this.eventsSubject.next(u),r(u)}).catch(a=>{this.eventsSubject.next(new Ve("discovery_document_load_error",a)),s(a)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new Ve("discovery_document_load_error",o)),s(o)})})}loadJwks(){return new Promise((n,r)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(s=>{this.jwks=s,n(s)},s=>{this.logger.error("error loading jwks",s),this.eventsSubject.next(new Ve("jwks_load_error",s)),r(s)}):n(null)})}validateDiscoveryDocument(n){let r;return!this.skipIssuerCheck&&n.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+n.issuer),!1):(r=this.validateUrlFromDiscoveryDocument(n.authorization_endpoint),r.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.end_session_endpoint),r.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.token_endpoint),r.length>0&&this.logger.error("error validating token_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(n.revocation_endpoint),r.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(n.userinfo_endpoint),r.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.jwks_uri),r.length>0?(this.logger.error("error validating jwks_uri in discovery document",r),!1):(this.sessionChecksEnabled&&!n.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(n,r,s=new le){return this.fetchTokenUsingPasswordFlow(n,r,s).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((n,r)=>{let s=new le().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:s,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let a=JSON.parse(o.body),c=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!c.sub||a.sub!==c.sub)){r(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}a=Object.assign({},c,a),this._storage.setItem("id_token_claims_obj",JSON.stringify(a)),this.eventsSubject.next(new Ft("user_profile_loaded")),n({info:a})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Ft("user_profile_loaded")),n(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new Ve("user_profile_load_error",o)),r(o)})})}fetchTokenUsingPasswordFlow(n,r,s=new le){let o={username:n,password:r};return this.fetchTokenUsingGrant("password",o,s)}fetchTokenUsingGrant(n,r,s=new le){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new ze({encoder:new os}).set("grant_type",n).set("scope",this.scope);if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(a,this.customQueryParams[a]);for(let a of Object.keys(r))o=o.set(a,r[a]);return s=s.set("Content-Type","application/x-www-form-urlencoded"),new Promise((a,c)=>{this.http.post(this.tokenEndpoint,o,{headers:s}).subscribe(u=>{this.debug("tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token&&this.processIdToken(u.id_token,u.access_token).then(l=>{this.storeIdToken(l),a(u)}),this.eventsSubject.next(new Ft("token_received")),a(u)},u=>{this.logger.error("Error performing ${grantType} flow",u),this.eventsSubject.next(new Ve("token_error",u)),c(u)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((n,r)=>{let s=new ze({encoder:new os}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,s,{headers:o}).pipe(O(a=>this.oidc&&a.id_token?he(this.processIdToken(a.id_token,a.access_token,!0)).pipe(L(c=>this.storeIdToken(c)),E(()=>a)):I(a))).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.eventsSubject.next(new Ft("token_received")),this.eventsSubject.next(new Ft("token_refreshed")),n(a)},a=>{this.logger.error("Error refreshing token",a),this.eventsSubject.next(new Ve("token_refresh_error",a)),r(a)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=n=>{let r=this.processMessageEventMessage(n);this.checkOrigin&&n.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:r,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(s=>this.debug("tryLogin during silent refresh failed",s))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(n={},r=!0){let s=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(n.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=s.sub;let a=this.document.createElement("iframe");a.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let c=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,c,r,n).then(h=>{a.setAttribute("src",h),this.silentRefreshShowIFrame||(a.style.display="none"),this.document.body.appendChild(a)});let u=this.events.pipe(x(h=>h instanceof Ve),Rt()),l=this.events.pipe(x(h=>h.type==="token_received"),Rt()),f=I(new Ve("silent_refresh_timeout",null)).pipe(Kn(this.silentRefreshTimeout));return Tg([u,l,f]).pipe(E(h=>{if(h instanceof Ve)throw h.type==="silent_refresh_timeout"?this.eventsSubject.next(h):(h=new Ve("silent_refresh_error",h),this.eventsSubject.next(h)),h;return h.type==="token_received"&&(h=new Ft("silently_refreshed"),this.eventsSubject.next(h)),h})).toPromise()}initImplicitFlowInPopup(n){return this.initLoginFlowInPopup(n)}initLoginFlowInPopup(n){return n=n||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(r=>new Promise((s,o)=>{let c=null;n.windowRef?n.windowRef&&!n.windowRef.closed&&(c=n.windowRef,c.location.href=r):c=window.open(r,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(n));let u,l=b=>{this.tryLogin({customHashFragment:b,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{h(),s(!0)},w=>{h(),o(w)})},f=()=>{(!c||c.closed)&&(h(),o(new Ve("popup_closed",{})))};c?u=window.setInterval(f,500):o(new Ve("popup_blocked",{}));let h=()=>{window.clearInterval(u),window.removeEventListener("storage",y),window.removeEventListener("message",p),c!==null&&c.close(),c=null},p=b=>{let w=this.processMessageEventMessage(b);w&&w!==null?(window.removeEventListener("storage",y),l(w)):console.log("false event firing")},y=b=>{b.key==="auth_hash"&&(window.removeEventListener("message",p),l(b.newValue))};window.addEventListener("message",p),window.addEventListener("storage",y)}))}calculatePopupFeatures(n){let r=n.height||470,s=n.width||500,o=window.screenLeft+(window.outerWidth-s)/2,a=window.screenTop+(window.outerHeight-r)/2;return`location=no,toolbar=no,width=${s},height=${r},top=${a},left=${o}`}processMessageEventMessage(n){let r="#";if(this.silentRefreshMessagePrefix&&(r+=this.silentRefreshMessagePrefix),!n||!n.data||typeof n.data!="string")return;let s=n.data;if(s.startsWith(r))return"#"+s.substr(r.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=n=>{let r=n.origin.toLowerCase(),s=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!s.startsWith(r)){this.debug("sessionCheckEventListener","wrong origin",r,"expected",s,"event",n);return}switch(n.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",n)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Pn("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Pn("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Pn("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Pn("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(x(n=>n.type==="silently_refreshed"||n.type==="silent_refresh_timeout"||n.type==="silent_refresh_error"),Rt()).subscribe(n=>{n.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Pn("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Pn("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let n=this.document.getElementById(this.sessionCheckIFrameName);n&&this.document.body.removeChild(n);let r=this.document.createElement("iframe");r.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let s=this.sessionCheckIFrameUrl;r.setAttribute("src",s),r.style.display="none",this.document.body.appendChild(r),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let n=this.document.getElementById(this.sessionCheckIFrameName);n||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let r=this.getSessionState();r||this.stopSessionCheckTimer();let s=this.clientId+" "+r;n.contentWindow.postMessage(s,this.issuer)}createLoginUrl(){return nt(this,arguments,function*(n="",r="",s="",o=!1,a={}){let c=this,u;s?u=s:u=this.redirectUri;let l=yield this.createAndSaveNonce();if(n?n=l+this.config.nonceStateSeparator+encodeURIComponent(n):n=l,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let f=c.loginUrl.indexOf("?")>-1?"&":"?",h=c.scope;this.oidc&&!h.match(/(^|\s)openid($|\s)/)&&(h="openid "+h);let p=c.loginUrl+f+"response_type="+encodeURIComponent(c.responseType)+"&client_id="+encodeURIComponent(c.clientId)+"&state="+encodeURIComponent(n)+"&redirect_uri="+encodeURIComponent(u)+"&scope="+encodeURIComponent(h);if(this.responseType.includes("code")&&!this.disablePKCE){let[y,b]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",b):this._storage.setItem("PKCE_verifier",b),p+="&code_challenge="+y,p+="&code_challenge_method=S256"}r&&(p+="&login_hint="+encodeURIComponent(r)),c.resource&&(p+="&resource="+encodeURIComponent(c.resource)),c.oidc&&(p+="&nonce="+encodeURIComponent(l)),o&&(p+="&prompt=none");for(let y of Object.keys(a))p+="&"+encodeURIComponent(y)+"="+encodeURIComponent(a[y]);if(this.customQueryParams)for(let y of Object.getOwnPropertyNames(this.customQueryParams))p+="&"+y+"="+encodeURIComponent(this.customQueryParams[y]);return p})}initImplicitFlowInternal(n="",r=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof r=="string"?o=r:typeof r=="object"&&(s=r),this.createLoginUrl(n,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initImplicitFlow",a),this.inImplicitFlow=!1})}initImplicitFlow(n="",r=""){this.loginUrl!==""?this.initImplicitFlowInternal(n,r):this.events.pipe(x(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(n,r))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(n){let r=this;if(n.onTokenReceived){let s={idClaims:r.getIdentityClaims(),idToken:r.getIdToken(),accessToken:r.getAccessToken(),state:r.state};n.onTokenReceived(s)}}storeAccessTokenResponse(n,r,s,o,a){if(this._storage.setItem("access_token",n),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),s){let c=s*1e3,l=this.dateTimeService.new().getTime()+c;this._storage.setItem("expires_at",""+l)}r&&this._storage.setItem("refresh_token",r),a&&a.forEach((c,u)=>{this._storage.setItem(u,c)})}tryLogin(n=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(n).then(()=>!0):this.tryLoginImplicitFlow(n)}parseQueryString(n){return!n||n.length===0?{}:(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}tryLoginCodeFlow(n=null){return nt(this,null,function*(){n=n||{};let r=n.customHashFragment?n.customHashFragment.substring(1):window.location.search,s=this.getCodePartsFromUrl(r),o=s.code,a=s.state,c=s.session_state;if(!n.preventClearHashAfterLogin){let f=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,f)}let[u,l]=this.parseState(a);if(this.state=l,s.error){this.debug("error trying to login"),this.handleLoginError(n,s);let f=new Ve("code_error",{},s);return this.eventsSubject.next(f),Promise.reject(f)}if(!n.disableNonceCheck){if(!u)return this.saveRequestedRoute(),Promise.resolve();if(!n.disableOAuth2StateCheck&&!this.validateNonce(u)){let h=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}}return this.storeSessionState(c),o&&(yield this.getTokenFromCode(o,n),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let n=this._storage.getItem("requested_route");n&&history.replaceState(null,"",window.location.origin+n)}getCodePartsFromUrl(n){return!n||n.length===0?this.urlHelper.getHashFragmentParams():(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}getTokenFromCode(n,r){let s=new ze({encoder:new os}).set("grant_type","authorization_code").set("code",n).set("redirect_uri",r.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?o=localStorage.getItem("PKCE_verifier"):o=this._storage.getItem("PKCE_verifier"),o?s=s.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(s,r)}fetchAndProcessToken(n,r){r=r||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(n=n.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(n=n.set("client_secret",this.dummyClientSecret)),new Promise((o,a)=>{if(this.customQueryParams)for(let c of Object.getOwnPropertyNames(this.customQueryParams))n=n.set(c,this.customQueryParams[c]);this.http.post(this.tokenEndpoint,n,{headers:s}).subscribe(c=>{this.debug("refresh tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.oidc&&c.id_token?this.processIdToken(c.id_token,c.access_token,r.disableNonceCheck).then(u=>{this.storeIdToken(u),this.eventsSubject.next(new Ft("token_received")),this.eventsSubject.next(new Ft("token_refreshed")),o(c)}).catch(u=>{this.eventsSubject.next(new Ve("token_validation_error",u)),console.error("Error validating tokens"),console.error(u),a(u)}):(this.eventsSubject.next(new Ft("token_received")),this.eventsSubject.next(new Ft("token_refreshed")),o(c))},c=>{console.error("Error getting token",c),this.eventsSubject.next(new Ve("token_refresh_error",c)),a(c)})})}tryLoginImplicitFlow(n=null){n=n||{};let r;n.customHashFragment?r=this.urlHelper.getHashFragmentParams(n.customHashFragment):r=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",r);let s=r.state,[o,a]=this.parseState(s);if(this.state=a,r.error){this.debug("error trying to login"),this.handleLoginError(n,r);let h=new Ve("token_error",{},r);return this.eventsSubject.next(h),Promise.reject(h)}let c=r.access_token,u=r.id_token,l=r.session_state,f=r.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!c||this.requestAccessToken&&!n.disableOAuth2StateCheck&&!s||this.oidc&&!u)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!l&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!n.disableNonceCheck&&!this.validateNonce(o)){let p=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(p),Promise.reject(p)}return this.requestAccessToken&&this.storeAccessTokenResponse(c,null,r.expires_in||this.fallbackAccessTokenExpirationTimeInSec,f),this.oidc?this.processIdToken(u,c,n.disableNonceCheck).then(h=>n.validationHandler?n.validationHandler({accessToken:c,idClaims:h.idTokenClaims,idToken:h.idToken,state:s}).then(()=>h):h).then(h=>(this.storeIdToken(h),this.storeSessionState(l),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Ft("token_received")),this.callOnTokenReceivedIfExists(n),this.inImplicitFlow=!1,!0)).catch(h=>(this.eventsSubject.next(new Ve("token_validation_error",h)),this.logger.error("Error validating tokens"),this.logger.error(h),Promise.reject(h))):(this.eventsSubject.next(new Ft("token_received")),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(n),Promise.resolve(!0))}parseState(n){let r=n,s="";if(n){let o=n.indexOf(this.config.nonceStateSeparator);o>-1&&(r=n.substr(0,o),s=n.substr(o+this.config.nonceStateSeparator.length))}return[r,s]}validateNonce(n){let r;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?r=localStorage.getItem("nonce"):r=this._storage.getItem("nonce"),r!==n?(console.error("Validating access_token failed, wrong state/nonce.",r,n),!1):!0}storeIdToken(n){this._storage.setItem("id_token",n.idToken),this._storage.setItem("id_token_claims_obj",n.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+n.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(n){this._storage.setItem("session_state",n)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(n,r){n.onLoginError&&n.onLoginError(r),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(n=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?n:this.clockSkewInSec*1e3}processIdToken(n,r,s=!1){let o=n.split("."),a=this.padBase64(o[0]),c=gM(a),u=JSON.parse(c),l=this.padBase64(o[1]),f=gM(l),h=JSON.parse(f),p;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?p=localStorage.getItem("nonce"):p=this._storage.getItem("nonce"),Array.isArray(h.aud)){if(h.aud.every(k=>k!==this.clientId)){let k="Wrong audience: "+h.aud.join(",");return this.logger.warn(k),Promise.reject(k)}}else if(h.aud!==this.clientId){let k="Wrong audience: "+h.aud;return this.logger.warn(k),Promise.reject(k)}if(!h.sub){let k="No sub claim in id_token";return this.logger.warn(k),Promise.reject(k)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==h.sub){let k=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${h.sub}`;return this.logger.warn(k),Promise.reject(k)}if(!h.iat){let k="No iat claim in id_token";return this.logger.warn(k),Promise.reject(k)}if(!this.skipIssuerCheck&&h.iss!==this.issuer){let k="Wrong issuer: "+h.iss;return this.logger.warn(k),Promise.reject(k)}if(!s&&h.nonce!==p){let k="Wrong nonce: "+h.nonce;return this.logger.warn(k),Promise.reject(k)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!h.at_hash){let k="An at_hash is needed!";return this.logger.warn(k),Promise.reject(k)}let y=this.dateTimeService.now(),b=h.iat*1e3,w=h.exp*1e3,R=this.getClockSkewInMsec();if(b-R>=y||w+R-this.decreaseExpirationBySec<=y){let k="Token has expired";return console.error(k),console.error({now:y,issuedAtMSec:b,expiresAtMSec:w}),Promise.reject(k)}let V={accessToken:r,idToken:n,jwks:this.jwks,idTokenClaims:h,idTokenHeader:u,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(V).then(()=>({idToken:n,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:u,idTokenHeaderJson:c,idTokenExpiresAt:w})):this.checkAtHash(V).then(k=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!k){let H="Wrong at_hash";return this.logger.warn(H),Promise.reject(H)}return this.checkSignature(V).then(()=>{let H=!this.disableAtHashCheck,te={idToken:n,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:u,idTokenHeaderJson:c,idTokenExpiresAt:w};return H?this.checkAtHash(V).then(ue=>{if(this.requestAccessToken&&!ue){let fe="Wrong at_hash";return this.logger.warn(fe),Promise.reject(fe)}else return te}):te})})}getIdentityClaims(){let n=this._storage.getItem("id_token_claims_obj");return n?JSON.parse(n):null}getGrantedScopes(){let n=this._storage.getItem("granted_scopes");return n?JSON.parse(n):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(n){for(;n.length%4!==0;)n+="=";return n}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let n=this._storage.getItem("expires_at"),r=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let n=this._storage.getItem("id_token_expires_at"),r=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(n){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(n)>=0&&this._storage.getItem(n)!==null?JSON.parse(this._storage.getItem(n)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(n={},r=""){let s=!1;typeof n=="boolean"&&(s=n,n={});let o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(c=>this._storage.removeItem(c)),this.silentRefreshSubject=null,this.eventsSubject.next(new Pn("logout")),!this.logoutUrl||s)return;let a;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)a=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let c=new ze({encoder:new os});o&&(c=c.set("id_token_hint",o));let u=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";u&&(c=c.set("post_logout_redirect_uri",u),r&&(c=c.set("state",r)));for(let l in n)c=c.set(l,n[l]);a=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+c.toString()}this.config.openUri(a)}createAndSaveNonce(){let n=this;return this.createNonce().then(function(r){return n.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",r):n._storage.setItem("nonce",r),r})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let n=this.document.getElementById(this.silentRefreshIFrameName);n&&n.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let r=this.document.getElementById(this.sessionCheckIFrameName);r&&r.remove()}createNonce(){return new Promise(n=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=45,o="",a=typeof self>"u"?null:self.crypto||self.msCrypto;if(a){let c=new Uint8Array(s);a.getRandomValues(c),c.map||(c.map=Array.prototype.map),c=c.map(u=>r.charCodeAt(u%r.length)),o=String.fromCharCode.apply(null,c)}else for(;0<s--;)o+=r[Math.random()*r.length|0];n(mM(o))})}checkAtHash(n){return nt(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(n){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(n="",r={}){return this.responseType==="code"?this.initCodeFlow(n,r):this.initImplicitFlow(n,r)}initCodeFlow(n="",r={}){this.loginUrl!==""?this.initCodeFlowInternal(n,r):this.events.pipe(x(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(n,r))}initCodeFlowInternal(n="",r={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof r=="string"?o=r:typeof r=="object"&&(s=r),this.createLoginUrl(n,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initAuthorizationCodeFlow"),console.error(a)})}createChallangeVerifierPairForPKCE(){return nt(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let n=yield this.createNonce(),r=yield this.crypto.calcHash(n,"sha-256");return[mM(r),n]})}extractRecognizedCustomParameters(n){let r=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(s=>{n[s]&&r.set(s,JSON.stringify(n[s]))}),r}revokeTokenAndLogout(n={},r=!1){let s=this.revocationEndpoint,o=this.getAccessToken(),a=this.getRefreshToken();if(!o)return Promise.resolve();let c=new ze({encoder:new os}),u=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let l=btoa(`${this.clientId}:${this.dummyClientSecret}`);u=u.set("Authorization","Basic "+l)}if(this.useHttpBasicAuth||(c=c.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(c=c.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let l of Object.getOwnPropertyNames(this.customQueryParams))c=c.set(l,this.customQueryParams[l]);return new Promise((l,f)=>{let h,p;if(o){let y=c.set("token",o).set("token_type_hint","access_token");h=this.http.post(s,y,{headers:u})}else h=I(null);if(a){let y=c.set("token",a).set("token_type_hint","refresh_token");p=this.http.post(s,y,{headers:u})}else p=I(null);r&&(h=h.pipe(P(y=>y.status===0?I(null):At(y))),p=p.pipe(P(y=>y.status===0?I(null):At(y)))),Pe([h,p]).subscribe(y=>{this.logOut(n),l(y),this.logger.info("Token successfully revoked")},y=>{this.logger.error("Error revoking token",y),this.eventsSubject.next(new Ve("token_revoke_error",y)),f(y)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(Le),d(as,8),d(Ud,8),d(go,8),d(vM),d(jd),d($d,8),d(_e),d(uc))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Bd=class{},BE=class{handleError(e){return At(e)}},wz=(()=>{let e=class e{constructor(n,r,s){this.oAuthService=n,this.errorHandler=r,this.moduleConfig=s}checkUrl(n){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(n):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(r=>n.toLowerCase().startsWith(r.toLowerCase())):!0}intercept(n,r){let s=n.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(s)?r.handle(n):this.moduleConfig.resourceServer.sendAccessToken?on(I(this.oAuthService.getAccessToken()).pipe(x(a=>!!a)),this.oAuthService.events.pipe(x(a=>a.type==="token_received"),Ko(this.oAuthService.waitForTokenInMsec||0),P(()=>I(null)),E(()=>this.oAuthService.getAccessToken()))).pipe(oe(1),G(a=>{if(a){let c="Bearer "+a,u=n.headers.set("Authorization",c);n=n.clone({headers:u})}return r.handle(n).pipe(P(c=>this.errorHandler.handleError(c)))})):r.handle(n).pipe(P(a=>this.errorHandler.handleError(a)))}};e.\u0275fac=function(r){return new(r||e)(d(Vd),d(Bd),d(kd,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function Tz(){return console}function Az(){return typeof sessionStorage<"u"?sessionStorage:new yz}function Rz(t=null,e=Ld){return nr([Vd,vM,{provide:jd,useFactory:Tz},{provide:as,useFactory:Az},{provide:Ud,useClass:e},{provide:$d,useClass:bz},{provide:Bd,useClass:BE},{provide:kd,useValue:t},{provide:pn,useClass:wz,multi:!0},{provide:uc,useClass:vz}])}var EM=(()=>{let e=class e{static forRoot(n=null,r=Ld){return{ngModule:e,providers:[Rz(n,r)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[Ze]});let t=e;return t})();var aae=new S("AUTH_CONFIG");var xz={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},zd="__@ngrx/effects_create__";function W(t,e={}){let i=e.functional?t:t(),n=v(v({},xz),e);return Object.defineProperty(i,zd,{value:n}),i}function Oz(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(zd)?t[n][zd].hasOwnProperty("dispatch"):!1).map(n=>{let r=t[n][zd];return v({propertyName:n},r)})}function Nz(t){return Oz(t)}function DM(t){return Object.getPrototypeOf(t)}function Pz(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function bM(t){return typeof t=="function"}function CM(t){return t.filter(bM)}function Fz(t){return t instanceof S||bM(t)}function _z(t,e,i){let n=DM(t),s=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,o=Nz(t).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:u})=>{let l=typeof t[a]=="function"?t[a]():t[a],f=u?i(l,e):l;return c===!1?f.pipe(Xo()):f.pipe(Mg()).pipe(E(p=>({effect:t[a],notification:p,propertyName:a,sourceName:s,sourceInstance:t})))});return on(...o)}var Lz=10;function wM(t,e,i=Lz){return t.pipe(P(n=>(e&&e.handleError(n),i<=1?t:wM(t,e,i-1))))}var Me=(()=>{let e=class e extends z{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}};e.\u0275fac=function(r){return new(r||e)(d(ac))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function B(...t){return x(e=>t.some(i=>typeof i=="string"?i===e.type:i.type===e.type))}var TM=new S("@ngrx/effects Internal Root Guard"),Hd=new S("@ngrx/effects User Provided Effects"),VE=new S("@ngrx/effects Internal Root Effects"),AM=new S("@ngrx/effects Internal Root Effects Instances"),SM=new S("@ngrx/effects Internal Feature Effects"),RM=new S("@ngrx/effects Internal Feature Effects Instance Groups"),kz=new S("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>wM}),MM="@ngrx/effects/init",vae=vi(MM);function jz(t,e){if(t.notification.kind==="N"){let i=t.notification.value;!Uz(i)&&e.handleError(new Error(`Effect ${$z(t)} dispatched an invalid action: ${Bz(i)}`))}}function Uz(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function $z({propertyName:t,sourceInstance:e,sourceName:i}){let n=typeof e[t]=="function";return!!i?`"${i}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function Bz(t){try{return JSON.stringify(t)}catch{return t}}var Vz="ngrxOnIdentifyEffects";function Hz(t){return HE(t,Vz)}var zz="ngrxOnRunEffects";function Gz(t){return HE(t,zz)}var Wz="ngrxOnInitEffects";function qz(t){return HE(t,Wz)}function HE(t,e){return t&&e in t&&typeof t[e]=="function"}var xM=(()=>{let e=class e extends re{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(ii(n=>Pz(n)?DM(n):n),G(n=>n.pipe(ii(Yz))),G(n=>{let r=n.pipe(Zn(o=>Kz(this.errorHandler,this.effectsErrorHandler)(o)),E(o=>(jz(o,this.errorHandler),o.notification)),x(o=>o.kind==="N"&&o.value!=null),Ag()),s=n.pipe(oe(1),x(qz),E(o=>o.ngrxOnInitEffects()));return on(r,s)}))}};e.\u0275fac=function(r){return new(r||e)(d(It),d(kz))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yz(t){return Hz(t)?t.ngrxOnIdentifyEffects():""}function Kz(t,e){return i=>{let n=_z(i,t,e);return Gz(i)?i.ngrxOnRunEffects(n):n}}var OM=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(d(xM),d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NM=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.sources=n,r.start();for(let l of o)n.addEffects(l);s.dispatch({type:MM})}addEffects(n){this.sources.addEffects(n)}};e.\u0275fac=function(r){return new(r||e)(d(xM),d(OM),d(me),d(AM),d(cc,8),d(_d,8),d(TM,8))},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),Zz=(()=>{let e=class e{constructor(n,r,s,o){let a=r.flat();for(let c of a)n.addEffects(c)}};e.\u0275fac=function(r){return new(r||e)(d(NM),d(RM),d(cc,8),d(_d,8))},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),Br=(()=>{let e=class e{static forFeature(...n){let r=n.flat(),s=CM(r);return{ngModule:Zz,providers:[s,{provide:SM,multi:!0,useValue:r},{provide:Hd,multi:!0,useValue:[]},{provide:RM,multi:!0,useFactory:IM,deps:[SM,Hd]}]}}static forRoot(...n){let r=n.flat(),s=CM(r);return{ngModule:NM,providers:[s,{provide:VE,useValue:[r]},{provide:TM,useFactory:Qz},{provide:Hd,multi:!0,useValue:[]},{provide:AM,useFactory:IM,deps:[VE,Hd]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();function IM(t,e){let i=[];for(let n of t)i.push(...n);for(let n of e)i.push(...n);return i.map(n=>Fz(n)?C(n):n)}function Qz(){let t=C(OM,{optional:!0,skipSelf:!0}),e=C(VE,{self:!0});if(!(e.length===1&&e[0].length===0)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var LM="@ngrx/router-store/request",Tae=vi(LM,po()),qd="@ngrx/router-store/navigation",Aae=vi(qd,po()),Yd="@ngrx/router-store/cancel",Rae=vi(Yd,po()),Kd="@ngrx/router-store/error",Mae=vi(Kd,po()),Zd="@ngrx/router-store/navigated",xae=vi(Zd,po());var Gd=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let i=e.children.map(n=>this.serializeRoute(n));return{params:e.params,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:typeof e.routeConfig.title=="string"?e.routeConfig.title:void 0}:null,queryParams:e.queryParams,fragment:e.fragment,firstChild:i[0],children:i}}},zE=function(t){return t[t.PreActivation=1]="PreActivation",t[t.PostActivation=2]="PostActivation",t}(zE||{}),Xz="router",PM=new S("@ngrx/router-store Internal Configuration"),kM=new S("@ngrx/router-store Configuration");function eG(t){return v({stateKey:Xz,serializer:Gd,navigationActionTiming:zE.PreActivation},t)}var Wd=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let i=e.children.map(n=>this.serializeRoute(n));return{params:e.params,paramMap:e.paramMap,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{component:e.routeConfig.component,path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:e.routeConfig.title}:null,queryParams:e.queryParams,queryParamMap:e.queryParamMap,fragment:e.fragment,component:e.routeConfig?e.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:i[0],pathFromRoot:void 0,children:i}}},mo=class{},hr=function(t){return t[t.NONE=1]="NONE",t[t.ROUTER=2]="ROUTER",t[t.STORE=3]="STORE",t}(hr||{}),FM=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.store=n,this.router=r,this.serializer=s,this.errorHandler=o,this.config=a,this.activeRuntimeChecks=c,this.lastEvent=null,this.routerState=null,this.trigger=hr.NONE,this.stateKey=this.config.stateKey,!LE()&&ge()&&(c?.strictActionSerializability||c?.strictStateSerializability)&&this.serializer instanceof Wd&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(M(this.stateKey),rt(this.store)).subscribe(([n,r])=>{this.navigateIfNeeded(n,r)})}navigateIfNeeded(n,r){if(!n||!n.state||this.trigger===hr.ROUTER||this.lastEvent instanceof mn)return;let s=n.state.url;tG(this.router.url,s)||(this.storeState=r,this.trigger=hr.STORE,this.router.navigateByUrl(s).catch(o=>{this.errorHandler.handleError(o)}))}setUpRouterEventsListener(){let n=this.config.navigationActionTiming===zE.PostActivation,r;this.router.events.pipe(rt(this.store)).subscribe(([s,o])=>{this.lastEvent=s,s instanceof mn?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==hr.STORE&&(this.storeState=o,this.dispatchRouterRequest(s))):s instanceof ns?(r=s,!n&&this.trigger!==hr.STORE&&this.dispatchRouterNavigation(s)):s instanceof vn?(this.dispatchRouterCancel(s),this.reset()):s instanceof lr?(this.dispatchRouterError(s),this.reset()):s instanceof st&&(this.trigger!==hr.STORE&&(n&&this.dispatchRouterNavigation(r),this.dispatchRouterNavigated(s)),this.reset())})}dispatchRouterRequest(n){this.dispatchRouterAction(LM,{event:n})}dispatchRouterNavigation(n){let r=this.serializer.serialize(n.state);this.dispatchRouterAction(qd,{routerState:r,event:new ns(n.id,n.url,n.urlAfterRedirects,r)})}dispatchRouterCancel(n){this.dispatchRouterAction(Yd,{storeState:this.storeState,event:n})}dispatchRouterError(n){this.dispatchRouterAction(Kd,{storeState:this.storeState,event:new lr(n.id,n.url,`${n}`)})}dispatchRouterNavigated(n){let r=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(Zd,{event:n,routerState:r})}dispatchRouterAction(n,r){this.trigger=hr.ROUTER;try{this.store.dispatch({type:n,payload:T(v({routerState:this.routerState},r),{event:this.config.routerState===0?r.event:{id:r.event.id,url:r.event.url,urlAfterRedirects:r.event.urlAfterRedirects}})})}finally{this.trigger=hr.NONE}}reset(){this.trigger=hr.NONE,this.storeState=null,this.routerState=null}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Oe),d(mo),d(It),d(kM),d(is))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function tG(t,e){return _M(t)===_M(e)}function _M(t){return t?.length>0&&t[t.length-1]==="/"?t.substring(0,t.length-1):t}function nG(t={}){return nr([{provide:PM,useValue:t},{provide:kM,useFactory:eG,deps:[PM]},{provide:mo,useClass:t.serializer?t.serializer:t.routerState===0?Wd:Gd},{provide:Xn,multi:!0,useFactory(){return()=>C(FM)}},FM])}var jM=(()=>{let e=class e{static forRoot(n={}){return{ngModule:e,providers:[nG(n)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();function GE(t){"@babel/helpers - typeof";return GE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GE(t)}var UM=[],Nae=UM.forEach,Pae=UM.slice;function WE(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":GE(XMLHttpRequest))==="object"}function iG(t){return!!t&&typeof t.then=="function"}function $M(t){return iG(t)?t:Promise.resolve(t)}var ef=UF(zM(),1);function GM(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function WM(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(i),!0).forEach(function(n){sG(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):GM(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function sG(t,e,i){return(e=oG(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function oG(t){var e=aG(t,"string");return cs(e)=="symbol"?e:e+""}function aG(t,e){if(cs(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cs(t){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(t)}var Vr;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Vr=global.fetch:typeof window<"u"&&window.fetch?Vr=window.fetch:Vr=fetch);var fc;WE()&&(typeof global<"u"&&global.XMLHttpRequest?fc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(fc=window.XMLHttpRequest));var tf;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?tf=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(tf=window.ActiveXObject));!Vr&&ef&&!fc&&!tf&&(Vr=ef.default||ef);typeof Vr!="function"&&(Vr=void 0);var YE=function(e,i){if(i&&cs(i)==="object"){var n="";for(var r in i)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(i[r]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},qM=function(e,i,n,r){var s=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(u){n(null,{status:c.status,data:u})}).catch(n)};if(r){var o=r(e,i);if(o instanceof Promise){o.then(s).catch(n);return}}typeof fetch=="function"?fetch(e,i).then(s).catch(n):Vr(e,i).then(s).catch(n)},YM=!1,cG=function(e,i,n,r){e.queryStringParams&&(i=YE(i,e.queryStringParams));var s=WM({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,a=WM({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:s},YM?{}:o),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{qM(i,a,r,c)}catch(u){if(!o||Object.keys(o).length===0||!u.message||u.message.indexOf("not implemented")<0)return r(u);try{Object.keys(o).forEach(function(l){delete a[l]}),qM(i,a,r,c),YM=!0}catch(l){r(l)}}},uG=function(e,i,n,r){n&&cs(n)==="object"&&(n=YE("",n).slice(1)),e.queryStringParams&&(i=YE(i,e.queryStringParams));try{var s;fc?s=new fc:s=new tf("MSXML2.XMLHTTP.3.0"),s.open(n?"POST":"GET",i,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,n&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&r(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(n)}catch(c){console&&console.log(c)}},lG=function(e,i,n,r){if(typeof n=="function"&&(r=n,n=void 0),r=r||function(){},Vr&&i.indexOf("file:")!==0)return cG(e,i,n,r);if(WE()||typeof ActiveXObject=="function")return uG(e,i,n,r);r(new Error("No fetch and no xhr implementation found!"))},KM=lG;function yo(t){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(t)}function ZM(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function KE(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(i),!0).forEach(function(n){JM(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ZM(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function dG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QM(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XM(n.key),n)}}function fG(t,e,i){return e&&QM(t.prototype,e),i&&QM(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function JM(t,e,i){return(e=XM(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function XM(t){var e=hG(t,"string");return yo(e)=="symbol"?e:e+""}function hG(t,e){if(yo(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pG=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(i){return JSON.parse(i)},stringify:JSON.stringify,parsePayload:function(i,n,r){return JM({},n,r||"")},parseLoadPayload:function(i,n){},request:KM,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},ex=function(){function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};dG(this,t),this.services=e,this.options=i,this.allOptions=n,this.type="backend",this.init(e,i,n)}return fG(t,[{key:"init",value:function(i){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=i,this.options=KE(KE(KE({},pG()),this.options||{}),r),this.allOptions=s,this.services&&this.options.reloadInterval){var o=setInterval(function(){return n.reload()},this.options.reloadInterval);yo(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(i,n,r){this._readAny(i,i,n,n,r)}},{key:"read",value:function(i,n,r){this._readAny([i],i,[n],n,r)}},{key:"_readAny",value:function(i,n,r,s,o){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(i,r)),c=$M(c),c.then(function(u){if(!u)return o(null,{});var l=a.services.interpolator.interpolate(u,{lng:i.join("+"),ns:r.join("+")});a.loadUrl(l,o,n,s)})}},{key:"loadUrl",value:function(i,n,r,s){var o=this,a=typeof r=="string"?[r]:r,c=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(a,c);this.options.request(this.options,i,u,function(l,f){if(f&&(f.status>=500&&f.status<600||!f.status))return n("failed loading "+i+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return n("failed loading "+i+"; status code: "+f.status,!1);if(!f&&l&&l.message&&l.message.toLowerCase().indexOf("failed")>-1&&(l.message.indexOf("fetch")>-1||l.message.toLowerCase().indexOf("network")>-1))return n("failed loading "+i+": "+l.message,!0);if(l)return n(l,!1);var h,p;try{typeof f.data=="string"?h=o.options.parse(f.data,r,s):h=f.data}catch{p="failed parsing "+i+" to json"}if(p)return n(p,!1);n(null,h)})}},{key:"create",value:function(i,n,r,s,o){var a=this;if(this.options.addPath){typeof i=="string"&&(i=[i]);var c=this.options.parsePayload(n,r,s),u=0,l=[],f=[];i.forEach(function(h){var p=a.options.addPath;typeof a.options.addPath=="function"&&(p=a.options.addPath(h,n));var y=a.services.interpolator.interpolate(p,{lng:h,ns:n});a.options.request(a.options,y,c,function(b,w){u+=1,l.push(b),f.push(w),u===i.length&&typeof o=="function"&&o(l,f)})})}}},{key:"reload",value:function(){var i=this,n=this.services,r=n.backendConnector,s=n.languageUtils,o=n.logger,a=r.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],u=function(f){var h=s.toResolveHierarchy(f);h.forEach(function(p){c.indexOf(p)<0&&c.push(p)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(l){return u(l)}),c.forEach(function(l){i.allOptions.ns.forEach(function(f){r.read(l,f,"read",null,null,function(h,p){h&&o.warn("loading namespace ".concat(f," for language ").concat(l," failed"),h),!h&&p&&o.log("loaded namespace ".concat(f," for language ").concat(l),p),r.loaded("".concat(l,"|").concat(f),h,p)})})})}}}])}();ex.type="backend";var tx=ex;var gG={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}},JE=class t{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,i)}init(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=e||gG,this.options=i,this.debug=i.debug}log(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"log","",!0)}warn(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"warn","",!0)}error(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"error","")}deprecate(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(e,i,n,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[i](e))}create(e){return new t(this.logger,v({prefix:`${this.prefix}:${e}:`},this.options))}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},pr=new JE,So=class{constructor(){this.observers={}}on(e,i){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let r=this.observers[n].get(i)||0;this.observers[n].set(i,r+1)}),this}off(e,i){if(this.observers[e]){if(!i){delete this.observers[e];return}this.observers[e].delete(i)}}emit(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a.apply(a,[e,...n])})}},hc=()=>{let t,e,i=new Promise((n,r)=>{t=n,e=r});return i.resolve=t,i.reject=e,i},nx=t=>t==null?"":""+t,mG=(t,e,i)=>{t.forEach(n=>{e[n]&&(i[n]=e[n])})},vG=/###/g,rx=t=>t&&t.indexOf("###")>-1?t.replace(vG,"."):t,ix=t=>!t||typeof t=="string",pc=(t,e,i)=>{let n=typeof e!="string"?e:e.split("."),r=0;for(;r<n.length-1;){if(ix(t))return{};let s=rx(n[r]);!t[s]&&i&&(t[s]=new i),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++r}return ix(t)?{}:{obj:t,k:rx(n[r])}},sx=(t,e,i)=>{let{obj:n,k:r}=pc(t,e,Object);if(n!==void 0||e.length===1){n[r]=i;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=pc(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=pc(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=i},yG=(t,e,i,n)=>{let{obj:r,k:s}=pc(t,e,Object);r[s]=r[s]||[],r[s].push(i)},rf=(t,e)=>{let{obj:i,k:n}=pc(t,e);if(i)return i[n]},EG=(t,e,i)=>{let n=rf(t,i);return n!==void 0?n:rf(e,i)},dx=(t,e,i)=>{for(let n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?i&&(t[n]=e[n]):dx(t[n],e[n],i):t[n]=e[n]);return t},Eo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),CG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},SG=t=>typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>CG[e]):t,XE=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let i=this.regExpMap.get(e);if(i!==void 0)return i;let n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}},IG=[" ",",","?","!",";"],DG=new XE(20),bG=(t,e,i)=>{e=e||"",i=i||"";let n=IG.filter(o=>e.indexOf(o)<0&&i.indexOf(o)<0);if(n.length===0)return!0;let r=DG.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`),s=!r.test(t);if(!s){let o=t.indexOf(i);o>0&&!r.test(t.substring(0,o))&&(s=!0)}return s},eC=function(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];let n=e.split(i),r=t;for(let s=0;s<n.length;){if(!r||typeof r!="object")return;let o,a="";for(let c=s;c<n.length;++c)if(c!==s&&(a+=i),a+=n[c],o=r[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}r=o}return r},sf=t=>t&&t.indexOf("_")>0?t.replace("_","-"):t,of=class extends So{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let i=this.options.ns.indexOf(e);i>-1&&this.options.ns.splice(i,1)}getResource(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a;e.indexOf(".")>-1?a=e.split("."):(a=[e,i],n&&(Array.isArray(n)?a.push(...n):typeof n=="string"&&s?a.push(...n.split(s)):a.push(n)));let c=rf(this.data,a);return!c&&!i&&!n&&e.indexOf(".")>-1&&(e=a[0],i=a[1],n=a.slice(2).join(".")),c||!o||typeof n!="string"?c:eC(this.data&&this.data[e]&&this.data[e][i],n,s)}addResource(e,i,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=[e,i];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),r=i,i=a[1]),this.addNamespaces(i),sx(this.data,a,r),s.silent||this.emit("added",e,i,n,r)}addResources(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let s in n)(typeof n[s]=="string"||Array.isArray(n[s]))&&this.addResource(e,i,s,n[s],{silent:!0});r.silent||this.emit("added",e,i,n)}addResourceBundle(e,i,n,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,i];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=i,i=a[1]),this.addNamespaces(i);let c=rf(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?dx(c,n,s):c=v(v({},c),n),sx(this.data,a,c),o.silent||this.emit("added",e,i,n)}removeResourceBundle(e,i){this.hasResourceBundle(e,i)&&delete this.data[e][i],this.removeNamespaces(i),this.emit("removed",e,i)}hasResourceBundle(e,i){return this.getResource(e,i)!==void 0}getResourceBundle(e,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?v({},this.getResource(e,i)):this.getResource(e,i)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let i=this.getDataByLanguage(e);return!!(i&&Object.keys(i)||[]).find(r=>i[r]&&Object.keys(i[r]).length>0)}toJSON(){return this.data}},fx={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,i,n,r){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,i,n,r))}),e}},ox={},af=class t extends So{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),mG(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=pr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;let n=this.resolve(e,i);return n&&n.res!==void 0}extractFromKey(e,i){let n=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!bG(e,n,r);if(o&&!a){let c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:s};let u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,i,n){if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i=v({},i)),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);let r=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],i),c=a[a.length-1],u=i.lng||this.language,l=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(l){let H=i.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${H}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${H}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o}let f=this.resolve(e,i),h=f&&f.res,p=f&&f.usedKey||o,y=f&&f.exactUsedKey||o,b=Object.prototype.toString.apply(h),w=["[object Number]","[object Function]","[object RegExp]"],R=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,V=!this.i18nFormat||this.i18nFormat.handleAsObject;if(V&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&w.indexOf(b)<0&&!(typeof R=="string"&&Array.isArray(h))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,h,T(v({},i),{ns:a})):`key '${o} (${this.language})' returned an object instead of string.`;return r?(f.res=H,f.usedParams=this.getUsedParamsDetails(i),f):H}if(s){let H=Array.isArray(h),te=H?[]:{},ue=H?y:p;for(let fe in h)if(Object.prototype.hasOwnProperty.call(h,fe)){let Ne=`${ue}${s}${fe}`;te[fe]=this.translate(Ne,T(v({},i),{joinArrays:!1,ns:a})),te[fe]===Ne&&(te[fe]=h[fe])}h=te}}else if(V&&typeof R=="string"&&Array.isArray(h))h=h.join(R),h&&(h=this.extendTranslation(h,e,i,n));else{let H=!1,te=!1,ue=i.count!==void 0&&typeof i.count!="string",fe=t.hasDefaultValue(i),Ne=ue?this.pluralResolver.getSuffix(u,i.count,i):"",Ai=i.ordinal&&ue?this.pluralResolver.getSuffix(u,i.count,{ordinal:!1}):"",Bn=ue&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),D=Bn&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${Ne}`]||i[`defaultValue${Ai}`]||i.defaultValue;!this.isValidLookup(h)&&fe&&(H=!0,h=D),this.isValidLookup(h)||(te=!0,h=o);let ne=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&te?void 0:h,ye=fe&&D!==h&&this.options.updateMissing;if(te||H||ye){if(this.logger.log(ye?"updateKey":"missingKey",u,c,o,ye?D:h),s){let ft=this.resolve(o,T(v({},i),{keySeparator:!1}));ft&&ft.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let we=[],de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let ft=0;ft<de.length;ft++)we.push(de[ft]);else this.options.saveMissingTo==="all"?we=this.languageUtils.toResolveHierarchy(i.lng||this.language):we.push(i.lng||this.language);let Sr=(ft,He,tn)=>{let Kc=fe&&tn!==h?tn:ne;this.options.missingKeyHandler?this.options.missingKeyHandler(ft,c,He,Kc,ye,i):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ft,c,He,Kc,ye,i),this.emit("missingKey",ft,c,He,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ue?we.forEach(ft=>{let He=this.pluralResolver.getSuffixes(ft,i);Bn&&i[`defaultValue${this.options.pluralSeparator}zero`]&&He.indexOf(`${this.options.pluralSeparator}zero`)<0&&He.push(`${this.options.pluralSeparator}zero`),He.forEach(tn=>{Sr([ft],o+tn,i[`defaultValue${tn}`]||D)})}):Sr(we,o,D))}h=this.extendTranslation(h,e,i,f,n),te&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${o}`),(te||H)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,H?h:void 0):h=this.options.parseMissingKeyHandler(h))}return r?(f.res=h,f.usedParams=this.getUsedParamsDetails(i),f):h}extendTranslation(e,i,n,r,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,v(v({},this.options.interpolation.defaultVariables),n),n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(T(v({},n),{interpolation:v(v({},this.options.interpolation),n.interpolation)}));let u=typeof e=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(u){let h=e.match(this.interpolator.nestingRegexp);l=h&&h.length}let f=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(f=v(v({},this.options.interpolation.defaultVariables),f)),e=this.interpolator.interpolate(e,f,n.lng||this.language||r.usedLng,n),u){let h=e.match(this.interpolator.nestingRegexp),p=h&&h.length;l<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];return s&&s[0]===p[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${i[0]}`),null):o.translate(...p,i)},n)),n.interpolation&&this.interpolator.reset()}let a=n.postProcess||this.options.postProcess,c=typeof a=="string"?[a]:a;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=fx.handle(c,e,i,this.options&&this.options.postProcessPassResolved?v({i18nResolved:T(v({},r),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;let u=this.extractFromKey(c,i),l=u.key;r=l;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));let h=i.count!==void 0&&typeof i.count!="string",p=h&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),y=i.context!==void 0&&(typeof i.context=="string"||typeof i.context=="number")&&i.context!=="",b=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);f.forEach(w=>{this.isValidLookup(n)||(a=w,!ox[`${b[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(ox[`${b[0]}-${w}`]=!0,this.logger.warn(`key "${r}" for languages "${b.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(R=>{if(this.isValidLookup(n))return;o=R;let V=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(V,l,R,w,i);else{let H;h&&(H=this.pluralResolver.getSuffix(R,i.count,i));let te=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(V.push(l+H),i.ordinal&&H.indexOf(ue)===0&&V.push(l+H.replace(ue,this.options.pluralSeparator)),p&&V.push(l+te)),y){let fe=`${l}${this.options.contextSeparator}${i.context}`;V.push(fe),h&&(V.push(fe+H),i.ordinal&&H.indexOf(ue)===0&&V.push(fe+H.replace(ue,this.options.pluralSeparator)),p&&V.push(fe+te))}}let k;for(;k=V.pop();)this.isValidLookup(n)||(s=k,n=this.getResource(R,w,k,i))}))})}),{res:n,usedKey:r,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,i,n,r):this.resourceStore.getResource(e,i,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&typeof e.replace!="string",r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r=v(v({},this.options.interpolation.defaultVariables),r)),!n){r=v({},r);for(let s of i)delete r[s]}return r}static hasDefaultValue(e){let i="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&i===n.substring(0,i.length)&&e[n]!==void 0)return!0;return!1}},ZE=t=>t.charAt(0).toUpperCase()+t.slice(1),cf=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pr.create("languageUtils")}getScriptPartFromCode(e){if(e=sf(e),!e||e.indexOf("-")<0)return null;let i=e.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(e){if(e=sf(e),!e||e.indexOf("-")<0)return e;let i=e.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){let i=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(r=>r.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=ZE(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=ZE(n[1].toLowerCase())),i.indexOf(n[2].toLowerCase())>-1&&(n[2]=ZE(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let i;return e.forEach(n=>{if(i)return;let r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(i=r)}),!i&&this.options.supportedLngs&&e.forEach(n=>{if(i)return;let r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return i=r;i=this.options.supportedLngs.find(s=>{if(s===r)return s;if(!(s.indexOf("-")<0&&r.indexOf("-")<0)&&(s.indexOf("-")>0&&r.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===r||s.indexOf(r)===0&&r.length>1))return s})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(e,i){if(!e)return[];if(typeof e=="function"&&(e=e(i)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!i)return e.default||[];let n=e[i];return n||(n=e[this.getScriptPartFromCode(i)]),n||(n=e[this.formatLanguageCode(i)]),n||(n=e[this.getLanguagePartFromCode(i)]),n||(n=e.default),n||[]}toResolveHierarchy(e,i){let n=this.getFallbackCodes(i||this.options.fallbackLng||[],e),r=[],s=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),n.forEach(o=>{r.indexOf(o)<0&&s(this.formatLanguageCode(o))}),r}},wG=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],TG={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3},AG=["v1","v2","v3"],RG=["v4"],ax={zero:0,one:1,two:2,few:3,many:4,other:5},MG=()=>{let t={};return wG.forEach(e=>{e.lngs.forEach(i=>{t[i]={numbers:e.nr,plurals:TG[e.fc]}})}),t},tC=class{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=i,this.logger=pr.create("pluralResolver"),(!this.options.compatibilityJSON||RG.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=MG(),this.pluralRulesCache={}}addRule(e,i){this.rules[e]=i}clearCache(){this.pluralRulesCache={}}getRule(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{let n=sf(e==="dev"?"en":e),r=i.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o=new Intl.PluralRules(n,{type:r});return this.pluralRulesCache[s]=o,o}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,i);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(r=>`${i}${r}`)}getSuffixes(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((r,s)=>ax[r]-ax[s]).map(r=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r}`):n.numbers.map(r=>this.getSuffix(e,r,i)):[]}getSuffix(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(i)}`:this.getSuffixRetroCompatible(r,i):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,i){let n=e.noAbs?e.plurals(i):e.plurals(Math.abs(i)),r=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));let s=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!AG.includes(this.options.compatibilityJSON)}},cx=function(t,e,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=EG(t,e,i);return!s&&r&&typeof i=="string"&&(s=eC(t,i,n),s===void 0&&(s=eC(e,i,n))),s},QE=t=>t.replace(/\$/g,"$$$$"),nC=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=pr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:i,escapeValue:n,useRawValueToEscape:r,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:c,formatSeparator:u,unescapeSuffix:l,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:y,nestingSuffixEscaped:b,nestingOptionsSeparator:w,maxReplaces:R,alwaysFormat:V}=e.interpolation;this.escape=i!==void 0?i:SG,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?Eo(s):o||"{{",this.suffix=a?Eo(a):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=l?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=h?Eo(h):p||Eo("$t("),this.nestingSuffix=y?Eo(y):b||Eo(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=R||1e3,this.alwaysFormat=V!==void 0?V:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(i,n)=>i&&i.source===n?(i.lastIndex=0,i):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,i,n,r){let s,o,a,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){let R=cx(i,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,n,T(v(v({},r),i),{interpolationkey:p})):R}let y=p.split(this.formatSeparator),b=y.shift().trim(),w=y.join(this.formatSeparator).trim();return this.format(cx(i,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),w,n,T(v(v({},r),i),{interpolationkey:b}))};this.resetRegExp();let l=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>QE(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?QE(this.escape(p)):QE(p)}].forEach(p=>{for(a=0;s=p.regex.exec(e);){let y=s[1].trim();if(o=u(y),o===void 0)if(typeof l=="function"){let w=l(e,s,r);o=typeof w=="string"?w:""}else if(r&&Object.prototype.hasOwnProperty.call(r,y))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=nx(o));let b=p.safeValue(o);if(e=e.replace(s[0],b),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,s,o,a=(c,u)=>{let l=this.nestingOptionsSeparator;if(c.indexOf(l)<0)return c;let f=c.split(new RegExp(`${l}[ ]*{`)),h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);let p=h.match(/'/g),y=h.match(/"/g);(p&&p.length%2===0&&!y||y.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o=v(v({},u),o))}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${l}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];o=v({},n),o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){let l=r[1].split(this.formatSeparator).map(f=>f.trim());r[1]=l.shift(),c=l,u=!0}if(s=i(a.call(this,r[1].trim(),o),o),s&&r[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=nx(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),u&&(s=c.reduce((l,f)=>this.format(l,f,n.lng,T(v({},n),{interpolationkey:r[1].trim()})),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}},xG=t=>{let e=t.toLowerCase().trim(),i={};if(t.indexOf("(")>-1){let n=t.split("(");e=n[0].toLowerCase().trim();let r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?i.currency||(i.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?i.range||(i.range=r.trim()):r.split(";").forEach(o=>{if(o){let[a,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),l=a.trim();i[l]||(i[l]=u),u==="false"&&(i[l]=!1),u==="true"&&(i[l]=!0),isNaN(u)||(i[l]=parseInt(u,10))}})}return{formatName:e,formatOptions:i}},Co=t=>{let e={};return(i,n,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s=T(v({},s),{[r.interpolationkey]:void 0}));let o=n+JSON.stringify(s),a=e[o];return a||(a=t(sf(n),r),e[o]=a),a(i)}},rC=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=pr.create("formatter"),this.options=e,this.formats={number:Co((i,n)=>{let r=new Intl.NumberFormat(i,v({},n));return s=>r.format(s)}),currency:Co((i,n)=>{let r=new Intl.NumberFormat(i,T(v({},n),{style:"currency"}));return s=>r.format(s)}),datetime:Co((i,n)=>{let r=new Intl.DateTimeFormat(i,v({},n));return s=>r.format(s)}),relativetime:Co((i,n)=>{let r=new Intl.RelativeTimeFormat(i,v({},n));return s=>r.format(s,n.range||"day")}),list:Co((i,n)=>{let r=new Intl.ListFormat(i,v({},n));return s=>r.format(s)})},this.init(e)}init(e){let n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,i){this.formats[e.toLowerCase().trim()]=i}addCached(e,i){this.formats[e.toLowerCase().trim()]=Co(i)}format(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=i.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){let a=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,c)=>{let{formatName:u,formatOptions:l}=xG(c);if(this.formats[u]){let f=a;try{let h=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},p=h.locale||h.lng||r.locale||r.lng||n;f=this.formats[u](a,p,v(v(v({},l),r),h))}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},e)}},OG=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},iC=class extends So{constructor(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=i,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=pr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,i,n,r){let s={},o={},a={},c={};return e.forEach(u=>{let l=!0;i.forEach(f=>{let h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,l=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),l||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,i,n){let r=e.split("|"),s=r[0],o=r[1];i&&this.emit("failedLoading",s,o,i),!i&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=i?-1:2,i&&n&&(this.state[e]=0);let a={};this.queue.forEach(c=>{yG(c.loaded,[s],o),OG(c,e),i&&c.errors.push(i),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{a[u]||(a[u]={});let l=c.loaded[u];l.length&&l.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:i,fcName:n,tried:r,wait:s,callback:o});return}this.readingCalls++;let a=(u,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&l&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,i,n,r+1,s*2,o)},s);return}o(u,l)},c=this.backend[n].bind(this.backend);if(c.length===2){try{let u=c(e,i);u&&typeof u.then=="function"?u.then(l=>a(null,l)).catch(a):a(null,u)}catch(u){a(u)}return}return c(e,i,a)}prepareLoading(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof i=="string"&&(i=[i]);let s=this.queueLoad(e,i,n,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,i,n){this.prepareLoading(e,i,{},n)}reload(e,i,n){this.prepareLoading(e,i,{reload:!0},n)}loadOne(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.split("|"),r=n[0],s=n[1];this.read(r,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${i}loading namespace ${s} for language ${r} failed`,o),!o&&a&&this.logger.log(`${i}loaded namespace ${s} for language ${r}`,a),this.loaded(e,o,a)})}saveMissing(e,i,n,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn(`did not save key "${n}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){let c=T(v({},o),{isUpdate:s}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let l;u.length===5?l=u(e,i,n,r,c):l=u(e,i,n,r),l&&typeof l.then=="function"?l.then(f=>a(null,f)).catch(a):a(null,l)}catch(l){a(l)}else u(e,i,n,r,a,c)}!e||!e[0]||this.store.addResource(e[0],i,n,r)}}},ux=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),typeof t[1]=="string"&&(e.defaultValue=t[1]),typeof t[2]=="string"&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let i=t[3]||t[2];Object.keys(i).forEach(n=>{e[n]=i[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),lx=t=>(typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),nf=()=>{},NG=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(i=>{typeof t[i]=="function"&&(t[i]=t[i].bind(t))})},uf=class t extends So{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(super(),this.options=lx(e),this.services={},this.logger=pr,this.modules={external:[]},NG(this),i&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,i),this;setTimeout(()=>{this.init(e,i)},0)}}init(){var e=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof i=="function"&&(n=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));let r=ux();this.options=v(v(v({},r),this.options),lx(i)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=v(v({},r.interpolation),this.options.interpolation)),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);let s=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?pr.init(s(this.modules.logger),this.options):pr.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=rC);let f=new cf(this.options);this.store=new of(this.options.resources,this.options);let h=this.services;h.logger=pr,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new tC(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=s(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new nC(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new iC(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(p){for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];e.emit(p,...b)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new af(this.services,this.options),this.translator.on("*",function(p){for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];e.emit(p,...b)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=nf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return e.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return e.store[l](...arguments),e}});let c=hc(),u=()=>{let l=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nf,r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,i,n){let r=hc();return typeof e=="function"&&(n=e,e=void 0),typeof i=="function"&&(n=i,i=void 0),e||(e=this.languages),i||(i=this.options.ns),n||(n=nf),this.services.backendConnector.reload(e,i,s=>{r.resolve(),n(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&fx.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let i=0;i<this.languages.length;i++){let n=this.languages[i];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,i){var n=this;this.isLanguageChangingTo=e;let r=hc();this.emit("languageChanging",e);let s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),i&&i(c,function(){return n.t(...arguments)})},a=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);let u=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,l=>{o(l,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,i,n){var r=this;let s=function(o,a){let c;if(typeof a!="object"){for(var u=arguments.length,l=new Array(u>2?u-2:0),f=2;f<u;f++)l[f-2]=arguments[f];c=r.options.overloadTranslationOptionHandler([o,a].concat(l))}else c=v({},a);c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);let h=r.options.keySeparator||".",p;return c.keyPrefix&&Array.isArray(o)?p=o.map(y=>`${c.keyPrefix}${h}${y}`):p=c.keyPrefix?`${c.keyPrefix}${h}${o}`:o,r.t(p,c)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=i,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=i.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let o=(a,c)=>{let u=this.services.backendConnector.state[`${a}|${c}`];return u===-1||u===0||u===2};if(i.precheck){let a=i.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!r||o(s,e)))}loadNamespaces(e,i){let n=hc();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),i&&i(r)}),n):(i&&i(),Promise.resolve())}loadLanguages(e,i){let n=hc();typeof e=="string"&&(e=[e]);let r=this.options.preload||[],s=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=r.concat(s),this.loadResources(o=>{n.resolve(),i&&i(o)}),n):(i&&i(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";let i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new cf(ux());return i.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new t(e,i)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nf,n=e.forkResourceStore;n&&delete e.forkResourceStore;let r=T(v(v({},this.options),e),{isClone:!0}),s=new t(r);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services=v({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new of(this.store.data,r),s.services.resourceStore=s.store),s.translator=new af(s.services,r),s.translator.on("*",function(a){for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];s.emit(a,...u)}),s.init(r,i),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},mt=uf.createInstance();mt.createInstance=uf.createInstance;var Bae=mt.createInstance,Vae=mt.dir,Hae=mt.init,zae=mt.loadResources,Gae=mt.reloadResources,Wae=mt.use,qae=mt.changeLanguage,Yae=mt.getFixedT,Kae=mt.t,Zae=mt.exists,Qae=mt.setDefaultNamespace,Jae=mt.hasLoadedNamespace,Xae=mt.loadNamespaces,ece=mt.loadLanguages;var hx=function(e){return{type:"backend",init:function(n,r,s){},read:function(n,r,s){if(typeof e=="function"){if(e.length<3){try{var o=e(n,r);o&&typeof o.then=="function"?o.then(function(a){return s(null,a&&a.default||a)}).catch(s):s(null,o)}catch(a){s(a)}return}e(n,r,s);return}s(null,e&&e[n]&&e[n][r])}}};function pf(t){return t&&typeof t=="object"&&!Array.isArray(t)}function PG(t){return t==="__proto__"||t==="constructor"}function yt(t={},...e){if(!e.length)return t;let i=e.shift()||{};if(!pf(i))return yt(t,...e);for(let n in i)PG(n)||(i[n]instanceof Date?t[n]=i[n]:pf(i[n])?(pf(t[n])||(t[n]={}),yt(t[n],i[n])):t[n]=i[n]);return yt(t,...e)}function FG(){return yt({},C($x),C(xS))}var Lt=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>FG(),providedIn:"root"});let t=e;return t})();function _G(){return yt({},...C(jo,{optional:!0})??[])}var $x=new S("DefaultConfiguration",{providedIn:"root",factory:_G});function LG(){return yt({},...C(wc,{optional:!0})??[])}var xS=new S("RootConfiguration",{providedIn:"root",factory:LG}),wc=new S("ConfigurationChunk"),jo=new S("DefaultConfigurationChunk");function px(t={},e=!1){return{provide:e?jo:wc,useValue:t,multi:!0}}function gf(t,e,i=!1){return{provide:i?jo:wc,useFactory:t,multi:!0,deps:e}}function Ln(t={}){return{provide:jo,useValue:t,multi:!0}}function Uo(t,e){return{provide:jo,useFactory:t,multi:!0,deps:e}}var kG={anonymousConsents:{registerConsent:"MARKETING_NEWSLETTER",showLegalDescriptionInDialog:!0,requiredConsents:[],consentManagementPage:{showAnonymousConsents:!0,hideConsents:[]}}},OS=function(t){return t.BILLING="BILLING",t.SHIPPING="SHIPPING",t}(OS||{}),be=function(t){return t.CONTENT_PAGE="ContentPage",t.PRODUCT_PAGE="ProductPage",t.CATEGORY_PAGE="CategoryPage",t.CATALOG_PAGE="CatalogPage",t}(be||{}),jG=function(t){return t.AUTO="auto",t.SMOOTH="smooth",t}(jG||{});var UG=function(t){return t.NO_BACKGROUND="NO_BACKGROUND",t.UPLOAD_RESPONSIVE_IMAGE="UPLOAD_RESPONSIVE_IMAGE",t.UPLOAD_THUMBNAIL="UPLOAD_THUMBNAIL",t}(UG||{});var Do="userCmsEndpoints",Oo=function(t){return t.GIVEN="GIVEN",t.WITHDRAWN="WITHDRAWN",t}(Oo||{}),pC="X-Anonymous-Consents";var mf=class{};var $G=function(t){return t.BACK_IN_STOCK="BACK_IN_STOCK",t}($G||{}),BG=function(t){return t.SIZE="ApparelSizeVariantProduct",t.STYLE="ApparelStyleVariantProduct",t.COLOR="ElectronicsColorVariantProduct",t}(BG||{});var VG=function(t){return t.SIZE="size",t.STYLE="style",t.COLOR="color",t.THUMBNAIL="thumbnail",t.PRODUCT="product",t.ROLLUP_PROPERTY="rollupProperty",t}(VG||{}),Bx="[ENTITY] REMOVE",Vx="[ENTITY] REMOVE ALL";function Di(t,e){return{entityType:t,entityId:e}}function Hx(t,e){return{entityId:e,entityType:t,entityRemove:!0}}function zx(t){return{entityId:null,entityType:t,entityRemove:!0}}var gC=class{constructor(e,i){this.type=Bx,this.meta=Hx(e,i)}},mC=class{constructor(e){this.type=Vx,this.meta=zx(e)}},Gx="[LOADER] LOAD",Wx="[LOADER] FAIL",qx="[LOADER] SUCCESS",Yx="[LOADER] RESET";function NS(t){return{entityType:t,loader:{load:!0}}}function PS(t,e){return{entityType:t,loader:{error:e||!0}}}function FS(t){return{entityType:t,loader:{success:!0}}}function jp(t){return{entityType:t,loader:{}}}var ct=class{constructor(e){this.type=Gx,this.meta=NS(e)}},ut=class{constructor(e,i){this.type=Wx,this.meta=PS(e,i)}},lt=class{constructor(e){this.type=qx,this.meta=FS(e)}},Wr=class{constructor(e){this.type=Yx,this.meta=jp(e)}},_S="[ENTITY] LOAD",LS="[ENTITY] LOAD FAIL",kS="[ENTITY] LOAD SUCCESS",jS="[ENTITY] RESET";function US(t,e){return v(v({},NS(t)),Di(t,e))}function $S(t,e,i){return v(v({},PS(t,i)),Di(t,e))}function BS(t,e){return v(v({},FS(t)),Di(t,e))}function VS(t,e){return v(v({},jp(t)),Di(t,e))}var _t=class{constructor(e,i){this.type=_S,this.meta=US(e,i)}},Tt=class{constructor(e,i,n){this.type=LS,this.meta=$S(e,i,n)}},dt=class{constructor(e,i,n){this.payload=n,this.type=kS,this.meta=BS(e,i)}},Fn=class{constructor(e,i){this.type=jS,this.meta=VS(e,i)}};function tt(t){return t.value}function kt(t){return t.loading??!1}function $o(t){return t.error??!1}function kn(t){return t.success??!1}var gr={loading:!1,error:!1,success:!1,value:void 0};function at(t,e){return(i=gr,n)=>{if(n.meta&&n.meta.loader&&n.meta.entityType===t){let s=n.meta.loader;return s.load?T(v({},i),{loading:!0,value:r(i.value)}):s.error?T(v({},i),{loading:!1,error:!0,success:!1,value:r(void 0)}):s.success?T(v({},i),{value:r(n.payload),loading:!1,error:!1,success:!0}):T(v({},gr),{value:e?e(gr.value,n):gr.value})}if(e){let s=e(i.value,n);if(s!==i.value)return T(v({},i),{value:s})}return i;function r(s){return e?e(i.value,n):s}}}function Xt(t,e){return t.entities[e]||gr}function HG(t,e){let i=Xt(t,e);return tt(i)}function zG(t,e){let i=Xt(t,e);return kt(i)}function GG(t,e){let i=Xt(t,e);return $o(i)}function WG(t,e){let i=Xt(t,e);return kn(i)}var vC={entities:{}};function Tc(t,e){return(n=vC,r)=>{let s=[],o=!1;if(r.meta&&r.meta.entityType===t&&r.meta.entityId!==void 0){if(r.meta.entityId!==null&&(s=[].concat(r.meta.entityId)),r.meta.entityRemove)return i(r,n,s);o=Array.isArray(r.meta.entityId)&&Array.isArray(r.payload)}else s=Object.keys(n.entities);let a={};for(let c=0;c<s.length;c++){let u=s[c],l=o?T(v({},r),{payload:r.payload[c]}):r,f=e(n.entities[u],l);f&&(a[u]=f)}return Object.keys(a).length>0?T(v({},n),{entities:v(v({},n.entities),a)}):n};function i(n,r,s){if(n?.meta?.entityId===null)return vC;{let o=!1,a=Object.keys(r.entities).reduce((c,u)=>(s.includes(u)?o=!0:c[u]=r.entities[u],c),{});return o?{entities:a}:r}}}function us(t,e){return Tc(t,at(t,e))}var Kx="[PROCESSES LOADER] INCREMENT",Zx="[PROCESSES LOADER] DECREMENT",Qx="[PROCESSES LOADER] RESET";function HS(t){return{entityType:t,loader:void 0,processesCountDiff:1}}function zS(t){return{entityType:t,loader:void 0,processesCountDiff:-1}}function GS(t){return T(v({},jp(t)),{processesCountDiff:null})}var yC=class{constructor(e){this.type=Qx,this.meta=GS(e)}},EC=class{constructor(e){this.type=Kx,this.meta=HS(e)}},CC=class{constructor(e){this.type=Zx,this.meta=zS(e)}},Jx="[ENTITY] PROCESSES LOADER RESET",Xx="[ENTITY] PROCESSES INCREMENT",eO="[ENTITY] PROCESSES DECREMENT";function tO(t,e){return v(v({},GS(t)),Di(t,e))}function nO(t,e){return v(v({},HS(t)),Di(t,e))}function rO(t,e){return v(v({},zS(t)),Di(t,e))}var SC=class{constructor(e,i){this.type=Jx,this.meta=tO(e,i)}},IC=class{constructor(e,i){this.type=Xx,this.meta=nO(e,i)}},DC=class{constructor(e,i){this.type=eO,this.meta=rO(e,i)}};function iO(t){return!t.processesCount&&!t.loading}function sO(t){return t.processesCount!==void 0&&t.processesCount>0}var vf={processesCount:0};function oO(t,e){return(i=v(v({},vf),gr),n)=>{let r=at(t,e)(i,n);if(n.meta&&n.meta.entityType===t){let s=n.meta.processesCountDiff;if(ge()&&i.processesCount&&s&&i.processesCount+s<0&&console.error(`Action '${n.type}' sets processesCount to value < 0!
Make sure to keep processesCount in sync.
There should always be only one decrement action for each increment action.
Make sure that you don't reset state in between those actions.
`,n),s)return T(v({},r),{processesCount:i.processesCount?i.processesCount+s:s});if(s===null)return v(v({},r),vf)}return r}}var qG=v(v({},gr),vf);function YG(t,e){let i=Xt(t,e);return sO(i)}function KG(t,e){let i=Xt(t,e);return iO(i)}function ZG(t,e){return t.entities[e]||qG}function QG(t,e){return Tc(t,oO(t,e))}function aO(t,e){return t.entities[e]||void 0}var WS=".";function JG(t,e){return t.split(WS).reduce((n,r)=>n?n[r]:void 0,e)}function XG(t,e,i){if(!t||!i||Object.keys(i).length===0)return{};let n=t.split(WS).reduceRight((r,s)=>({[s]:r}),i);return e8(t,e,n)}function qS(t,e,i){if(t&&t.length===0)return{};let n={};for(let r of t){let s=JG(r,i),o=XG(r,e,s);n=yt(n,o)}return n}function e8(t,e,i){let n=t8(t,e);if(n.length===0)return i;let r=yt({},i);for(let s of n){let o=s.split(WS),a=r;for(let c=0;c<o.length;c++){let u=o[c];c===o.length-1?a&&a[u]&&delete a[u]:a=a[u]}}return r}function t8(t,e){if(!t||!e)return[];let i=[];for(let n of e)n.includes(t)&&i.push(n);return i}function cO(t,e){return t?Object.keys(t).filter(i=>t[i]===e):[]}var n8="all";function YS(t,e){return`${e??""}?pageSize=${t.pageSize??""}&currentPage=${t.currentPage??""}&sort=${t.sort??""}`}function r8(t,e){return uO(t.list,t.entities,e)}function uO(t,e,i,n){let r=Xt(t,i?YS(i,n):n??n8);if(!r.value||!r.value.ids)return r;let s=Object.assign({},r,{value:{values:r.value.ids.map(o=>Xt(e,o).value)}});return i&&s.value&&(s.value.pagination=r.value.pagination,s.value.sorts=r.value.sorts),s}function i8(t,e){let i=t.values||[],n={ids:i.map(r=>r[e])};return t.pagination&&(n.pagination=t.pagination),t.sorts&&(n.sorts=t.sorts),{values:i,page:n}}function s8(t,e){return[t,YS(e)].toString()}var bce=Object.freeze({__proto__:null,ENTITY_FAIL_ACTION:LS,ENTITY_LOAD_ACTION:_S,ENTITY_PROCESSES_DECREMENT_ACTION:eO,ENTITY_PROCESSES_INCREMENT_ACTION:Xx,ENTITY_PROCESSES_LOADER_RESET_ACTION:Jx,ENTITY_REMOVE_ACTION:Bx,ENTITY_REMOVE_ALL_ACTION:Vx,ENTITY_RESET_ACTION:jS,ENTITY_SUCCESS_ACTION:kS,EntityFailAction:Tt,EntityLoadAction:_t,EntityLoaderResetAction:Fn,EntityProcessesDecrementAction:DC,EntityProcessesIncrementAction:IC,EntityProcessesLoaderResetAction:SC,EntityRemoveAction:gC,EntityRemoveAllAction:mC,EntitySuccessAction:dt,LOADER_FAIL_ACTION:Wx,LOADER_LOAD_ACTION:Gx,LOADER_RESET_ACTION:Yx,LOADER_SUCCESS_ACTION:qx,LoaderFailAction:ut,LoaderLoadAction:ct,LoaderResetAction:Wr,LoaderSuccessAction:lt,PROCESSES_DECREMENT_ACTION:Zx,PROCESSES_INCREMENT_ACTION:Kx,PROCESSES_LOADER_RESET_ACTION:Qx,ProcessesDecrementAction:CC,ProcessesIncrementAction:EC,ProcessesLoaderResetAction:yC,denormalizeCustomB2BSearch:uO,denormalizeSearch:r8,entityErrorSelector:GG,entityFailMeta:$S,entityHasPendingProcessesSelector:YG,entityIsStableSelector:KG,entityLoadMeta:US,entityLoaderReducer:us,entityLoaderStateSelector:Xt,entityLoadingSelector:zG,entityMeta:Di,entityProcessesDecrementMeta:rO,entityProcessesIncrementMeta:nO,entityProcessesLoaderReducer:QG,entityProcessesLoaderResetMeta:tO,entityProcessesLoaderStateSelector:ZG,entityReducer:Tc,entityRemoveAllMeta:zx,entityRemoveMeta:Hx,entityResetMeta:VS,entitySelector:aO,entitySuccessMeta:BS,entitySuccessSelector:WG,entityValueSelector:HG,failMeta:PS,getStateSlice:qS,hasPendingProcessesSelector:sO,initialEntityState:vC,initialLoaderState:gr,initialProcessesState:vf,isStableSelector:iO,loadMeta:NS,loaderErrorSelector:$o,loaderLoadingSelector:kt,loaderReducer:at,loaderSuccessSelector:kn,loaderValueSelector:tt,normalizeListPage:i8,processesDecrementMeta:zS,processesIncrementMeta:HS,processesLoaderReducer:oO,processesLoaderResetMeta:GS,resetMeta:jp,serializeParams:s8,serializeSearchConfig:YS,successMeta:FS}),lO="anonymous-consents",Ac="[Anonymous Consents] Anonymous Consents",dO="[Anonymous Consents] Load Anonymous Consent Templates",o8="[Anonymous Consents] Load Anonymous Consent Templates Success",a8="[Anonymous Consents] Load Anonymous Consent Templates Fail",c8="[Anonymous Consents] Reset Load Anonymous Consent Templates";var fO="[Anonymous Consents] Set Anonymous Consents",hO="[Anonymous Consents] Give Anonymous Consent",pO="[Anonymous Consents] Withdraw Anonymous Consent",gO="[Anonymous Consents] Toggle Anonymous Consents Banner Dismissed",mO="[Anonymous Consents] Anonymous Consent Templates Updated",vO="[Anonymous Consents] Check Updated Versions",yf=class extends ct{constructor(){super(Ac),this.type=dO}},Ef=class extends lt{constructor(e){super(Ac),this.payload=e,this.type=o8}},Cf=class extends ut{constructor(e){super(Ac,e),this.type=a8}},bC=class extends Wr{constructor(){super(Ac),this.type=c8}};var wC=class{constructor(e){this.payload=e,this.type=fO}},TC=class{constructor(e){this.templateCode=e,this.type=hO}},AC=class{constructor(e){this.templateCode=e,this.type=pO}},RC=class{constructor(e){this.dismissed=e,this.type=gO}},Sf=class{constructor(e){this.updated=e,this.type=mO}},MC=class{constructor(){this.type=vO}};var Rc=Nn(lO),Up=A(Rc,t=>t.templates),xC=A(Up,t=>tt(t)),u8=A(Up,kt),l8=A(Up,kn),d8=A(Up,$o),f8=t=>A(xC,e=>e?e.find(i=>i.id===t):void 0),h8=A(Rc,t=>t.ui.updated),p8=A(Rc,t=>t.ui.bannerDismissed),yO=A(Rc,t=>t.consents),g8=t=>A(yO,e=>e.find(i=>i.templateCode===t));var wo="current",To="anonymous",m8="guest",v8=Object.freeze({__proto__:null,OCC_USER_ID_ANONYMOUS:To,OCC_USER_ID_CURRENT:wo,OCC_USER_ID_GUEST:m8}),wce="current",mr="[Auth] Login",Kr="[Auth] Logout",Ao=class{constructor(){this.type=mr}},If=class{constructor(){this.type=Kr}},Tce=Object.freeze({__proto__:null,LOGIN:mr,LOGOUT:Kr,Login:Ao,Logout:If}),jn=(()=>{let e=class e{constructor(){this._userId=new sn(1)}setUserId(n){this._userId.next(n)}getUserId(){return this._userId}takeUserId(n=!1){return this.getUserId().pipe(oe(1),E(r=>{if(n&&r===To)throw new Error("Requested user id for logged user while user is not logged in.");return r}))}clearUserId(){this.setUserId(To)}isEmulated(){return this.getUserId().pipe(E(n=>n!==To&&n!==wo))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),y8="oAuthRedirectCodeFlow",mc=function(t){return t[t.ResourceOwnerPasswordFlow=0]="ResourceOwnerPasswordFlow",t[t.ImplicitFlow=1]="ImplicitFlow",t[t.AuthorizationCode=2]="AuthorizationCode",t}(mc||{}),E8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})(),Zr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})(),yr=(()=>{let e=class e extends Zr{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})(),$p=(()=>{let e=class e{constructor(n,r){this.authConfig=n,this.occConfig=r}get config(){return this.authConfig?.authentication??{}}getClientId(){return this.config?.client_id??""}getClientSecret(){return this.config?.client_secret??""}getBaseUrl(){return this.config?.baseUrl??(this.occConfig?.backend?.occ?.baseUrl??"")+"/authorizationserver"}getTokenEndpoint(){let n=this.config?.tokenEndpoint??"";return this.prefixEndpoint(n)}getLoginUrl(){let n=this.config?.loginUrl??"";return this.prefixEndpoint(n)}getRevokeEndpoint(){let n=this.config?.revokeEndpoint??"";return this.prefixEndpoint(n)}getLogoutUrl(){let n=this.config?.logoutUrl??"";return this.prefixEndpoint(n)}getUserinfoEndpoint(){let n=this.config?.userinfoEndpoint??"";return this.prefixEndpoint(n)}getOAuthLibConfig(){return this.config?.OAuthLibConfig??{}}prefixEndpoint(n){let r=n;return r.startsWith("/")||(r="/"+r),`${this.getBaseUrl()}${r}`}getOAuthFlow(){let n=this.config?.OAuthLibConfig?.responseType;if(n){let r=n.split(" ");return r.includes("code")?mc.AuthorizationCode:r.includes("token")?mc.ImplicitFlow:mc.ResourceOwnerPasswordFlow}return mc.ResourceOwnerPasswordFlow}};e.\u0275fac=function(r){return new(r||e)(d(E8),d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),C8=new S("SERVER_REQUEST_URL"),S8=new S("SERVER_REQUEST_ORIGIN"),bi=(()=>{let e=class e{constructor(n,r,s,o){this.platformId=r,this.serverUrl=s,this.serverOrigin=o,this.document=n}isBrowser(){return On(this.platformId)}get nativeWindow(){return this.isBrowser()?window:void 0}get sessionStorage(){return this.nativeWindow?this.nativeWindow.sessionStorage:void 0}get localStorage(){return this.nativeWindow?this.nativeWindow.localStorage:void 0}get location(){if(this.isBrowser())return this.document.location;if(!this.serverUrl)throw new Error("Cannot resolve the href as the SERVER_REQUEST_URL is undefined");if(!this.serverOrigin)throw new Error("Cannot resolve the origin as the SERVER_REQUEST_ORIGIN is undefined");return{href:this.serverUrl,origin:this.serverOrigin}}get resize$(){return this.nativeWindow?Zo(this.nativeWindow,"resize").pipe(Pi(300),Gn({target:this.nativeWindow}),rn()):I(null)}};e.\u0275fac=function(r){return new(r||e)(d(_e),d($e),d(C8,8),d(S8,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EO=(()=>{let e=class e{constructor(n,r,s,o){this.oAuthService=n,this.authConfigService=r,this.platformId=s,this.winRef=o,this.events$=this.oAuthService.events,this.initialize()}initialize(){let n=!this.winRef.isBrowser();this.oAuthService.configure(v({tokenEndpoint:this.authConfigService.getTokenEndpoint(),loginUrl:this.authConfigService.getLoginUrl(),clientId:this.authConfigService.getClientId(),dummyClientSecret:this.authConfigService.getClientSecret(),revocationEndpoint:this.authConfigService.getRevokeEndpoint(),logoutUrl:this.authConfigService.getLogoutUrl(),userinfoEndpoint:this.authConfigService.getUserinfoEndpoint(),issuer:this.authConfigService.getOAuthLibConfig()?.issuer??this.authConfigService.getBaseUrl(),redirectUri:this.authConfigService.getOAuthLibConfig()?.redirectUri??(n?"":this.winRef.nativeWindow.location.origin)},this.authConfigService.getOAuthLibConfig()))}authorizeWithPasswordFlow(n,r){return this.oAuthService.fetchTokenUsingPasswordFlow(n,r)}refreshToken(){this.oAuthService.refreshToken()}revokeAndLogout(){return new Promise(n=>{this.oAuthService.revokeTokenAndLogout(!0).catch(()=>{this.oAuthService.logOut(!0)}).finally(()=>{n()})})}logout(){this.oAuthService.logOut(!0)}getIdToken(){return this.oAuthService.getIdToken()}initLoginFlow(){return this.winRef.localStorage&&this.winRef.localStorage?.setItem(y8,"true"),this.oAuthService.initLoginFlow()}tryLogin(){return new Promise(n=>{let r,s=this.events$.pipe(x(o=>o.type==="token_received"),oe(1)).subscribe(o=>r=o);this.oAuthService.tryLogin({disableOAuth2StateCheck:!0}).then(o=>{n({result:o,tokenReceived:!!r})}).finally(()=>{s.unsubscribe()})})}};e.\u0275fac=function(r){return new(r||e)(d(Vd),d($p),d($e),d(bi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mc=(()=>{let e=class e extends as{constructor(){super(...arguments),this._token$=new Te({})}decode(n,r){return e.nonStringifiedOAuthLibKeys.includes(n)?r:JSON.stringify(r)}encode(n,r){if(e.nonStringifiedOAuthLibKeys.includes(n))return r;try{return JSON.parse(r)}catch{return r}}getToken(){return this._token$}setToken(n){this._token$.next(n)}getItem(n){let r;return this.getToken().subscribe(s=>r=s).unsubscribe(),this.decode(n,r?.[n])}removeItem(n){let r=v({},this._token$.value);delete r[n],this._token$.next(v({},r))}setItem(n,r){n&&this._token$.next(T(v({},this._token$.value),{[n]:this.encode(n,r)}))}};e.nonStringifiedOAuthLibKeys=["PKCE_verifier","access_token","refresh_token","expires_at","access_token_stored_at","id_token","id_token_expires_at","id_token_stored_at","session_state","nonce"],e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CO="[Router] Change Next PageContext",OC=class{constructor(e){this.payload=e,this.type=CO}};var NC="router",I8=Nn(NC),Bp=A(I8,t=>t.router),Ace=A(Bp,t=>t.state&&t.state.semanticRoute||""),D8=A(Bp,t=>t.state&&t.state.context||{id:""}),SO=A(Bp,t=>t.nextState&&t.nextState.context),b8=A(SO,t=>!!t);var PC=t=>t.startsWith(":"),gx=t=>t.slice(1);var J=(()=>{let e=class e{log(...n){console.log(...n)}warn(...n){console.warn(...n)}error(...n){console.error(...n)}info(...n){console.info(...n)}debug(...n){console.debug(...n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})(),Hp=(()=>{let e=class e{constructor(n){this.config=n,this.logger=C(J)}getRouteConfig(n){let r=this.config?.routing?.routes,s=r&&r[n];return(!r||s===void 0)&&this.warn(`No path was configured for the named route '${n}'!`),s}warn(...n){ge()&&this.logger.warn(...n)}getLoadStrategy(){return this.config?.routing?.loadStrategy??"always"}getRouteName(n){return this.routeNamesByPath||this.initRouteNamesByPath(),this.routeNamesByPath[n]}initRouteNamesByPath(){this.routeNamesByPath={};for(let[n,r]of Object.entries(this.config?.routing?.routes??{}))r?.paths?.forEach(s=>{ge()&&this.routeNamesByPath[s]&&this.logger.error(`The same path '${s}' is configured for two different route names: '${this.routeNamesByPath[s]}' and '${n}`),this.routeNamesByPath[s]=n})}};e.\u0275fac=function(r){return new(r||e)(d(Vp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),KS=(()=>{let e=class e{constructor(n){this.router=n}getPrimarySegments(n){let r=this.router.parseUrl(n);return this._getPrimarySegmentsFromUrlTree(r.root)}_getPrimarySegmentsFromUrlTree(n){let r=n.segments.map(o=>o.path),s=n.children[ee]?this._getPrimarySegmentsFromUrlTree(n.children[ee]):[];return r.concat(s)}matchPath(n,r){if(n=Array.isArray(n)?n:this.getPrimarySegments(n),r=Array.isArray(r)?r:this.getPrimarySegments(r),n.length!==r.length)return!1;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(!PC(o)&&o!==a)return!1}return!0}};e.\u0275fac=function(r){return new(r||e)(d(Oe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xc=(()=>{let e=class e{constructor(n,r){this.routingConfigService=n,this.urlParser=r,this.ROOT_URL=["/"]}get(n){let r=this.routingConfigService.getRouteConfig(n);return r&&Array.isArray(r.paths)?"/"+r.paths[0]:void 0}transform(n){Array.isArray(n)||(n=[n]);let r=[];for(let s of n)if(!this.isRouteCommand(s))r.push(s);else{let o=this.generateUrlPart(s);if(o===null)return this.ROOT_URL;r.push(...o)}return this.shouldOutputAbsolute(n)&&r.unshift("/"),r}isRouteCommand(n){return n&&!!n.cxRoute}shouldOutputAbsolute(n){return this.isRouteCommand(n[0])}generateUrlPart(n){if(this.standarizeRouteCommand(n),!n.cxRoute)return null;let r=this.routingConfigService.getRouteConfig(n.cxRoute);if(!r||!r.paths)return null;let s=this.findPathWithFillableParams(r,n.params);return s?this.provideParamsValues(s,n.params,r.paramsMapping):null}standarizeRouteCommand(n){n.params=n.params||{}}provideParamsValues(n,r,s){return this.urlParser.getPrimarySegments(n).map(o=>{if(PC(o)){let a=gx(o),c=this.getMappedParamName(a,s);return r?.[c]}return o})}findPathWithFillableParams(n,r){let s=n.paths?.find(o=>this.getParams(o).every(a=>{let c=this.getMappedParamName(a,n.paramsMapping);return r?.[c]!==void 0}));return s??null}getParams(n){return this.urlParser.getPrimarySegments(n).filter(PC).map(gx)}getMappedParamName(n,r){return r&&r[n]||n}};e.\u0275fac=function(r){return new(r||e)(d(Hp),d(KS))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IO=(()=>{let e=class e{constructor(n){this.router=n,this.routes$=this.router.events.pipe(x(r=>r instanceof st),Gn(void 0),E(()=>{let r=this.router.routerState.snapshot.root,s=[r];for(;r=r.firstChild;)s.push(r);return s}),ht({bufferSize:1,refCount:!0}))}};e.\u0275fac=function(r){return new(r||e)(d(Oe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),w8=(()=>{let e=class e{constructor(n,r){this.router=n,this.activatedRoutesService=r,this.params$=this.activatedRoutesService.routes$.pipe(E(s=>this.findAllParam(s)),ht({refCount:!0,bufferSize:1}))}getParams(){return this.params$}findAllParam(n){return Object.assign({},...n.map(r=>r.params))}};e.\u0275fac=function(r){return new(r||e)(d(Oe),d(IO))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wi=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.store=n,this.winRef=r,this.semanticPathService=s,this.routingParamsService=o,this.router=a,this.location=c}getParams(){return this.routingParamsService.getParams()}getRouterState(){return this.store.pipe(M(Bp))}getPageContext(){return this.store.pipe(M(D8))}getNextPageContext(){return this.store.pipe(M(SO))}changeNextPageContext(n){this.store.dispatch(new OC(n))}isNavigating(){return this.store.pipe(M(b8))}go(n,r){let s=this.semanticPathService.transform(n);return this.navigate(s,r)}getUrl(n,r){let s=this.router.serializeUrl(this.router.createUrlTree(this.semanticPathService.transform(n),r));return s.startsWith("/")||(s=`/${s}`),s}getFullUrl(n,r){return`${this.winRef.location.origin}${this.getUrl(n,r)}`}goByUrl(n,r){return this.router.navigateByUrl(n,r)}back(){if(this.winRef.nativeWindow&&this.winRef.document.referrer.includes(this.winRef.nativeWindow.location.origin)){this.location.back();return}this.go(["/"])}forward(){this.location.forward()}navigate(n,r){return this.router.navigate(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(bi),d(xc),d(w8),d(Oe),d(ar))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DO=(()=>{let e=class e{constructor(){this.redirectUrl$=new Te(void 0)}getRedirectUrl(){return this.redirectUrl$}setRedirectUrl(n){this.redirectUrl$.next(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),T8=(()=>{let e=class e{constructor(n,r){this.config=n,this.urlParsingService=r}get authFlowPaths(){return this._authFlowPaths||(this._authFlowPaths=Object.values(this.config?.routing?.routes||{}).reduce((n,r)=>r.authFlow===!0&&r.paths?.length?n.concat(r?.paths):n,[])),this._authFlowPaths}isAuthFlow(n){return this.authFlowPaths.some(r=>this.urlParsingService.matchPath(n,r))}};e.\u0275fac=function(r){return new(r||e)(d(Vp),d(KS))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZS=(()=>{let e=class e{constructor(n,r,s,o){this.routing=n,this.router=r,this.authRedirectStorageService=s,this.authFlowRoutesService=o,this.init()}init(){this.subscription=this.router.events.subscribe(n=>{n instanceof st&&this.setRedirectUrl(n.urlAfterRedirects)})}ngOnDestroy(){this.subscription?.unsubscribe()}redirect(){this.authRedirectStorageService.getRedirectUrl().pipe(oe(1)).subscribe(n=>{n===void 0?this.routing.go("/"):this.routing.goByUrl(n),this.clearRedirectUrl()})}saveCurrentNavigationUrl(){let n=this.router.getCurrentNavigation();if(!n?.finalUrl)return;let r=this.router.serializeUrl(n.finalUrl);this.setRedirectUrl(r)}setRedirectUrl(n){this.authFlowRoutesService.isAuthFlow(n)||this.authRedirectStorageService.setRedirectUrl(n)}clearRedirectUrl(){this.authRedirectStorageService.setRedirectUrl(void 0)}};e.\u0275fac=function(r){return new(r||e)(d(wi),d(Oe),d(DO),d(T8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yn(t){return typeof t<"u"}function yc(t){return yn(t)&&t!==null}function Oc(t,e){return t.context&&t.context[e]||[]}function Si(t,e){let i=Oc(t,e);return i&&i.length?i[0]:void 0}var ms="language",vs="currency",qr="baseSite",A8="theme",QS="[Site-context] Load BaseSite",bO="[Site-context] Load BaseSite Fail",JS="[Site-context] Load BaseSite Success",XS="[Site-context] Load BaseSites",wO="[Site-context] Load BaseSites Fail",eI="[Site-context] Load BaseSites Success",tI="[Site-context] Set Active BaseSite",TO="[Site-context] BaseSite Change",FC=class{constructor(){this.type=QS}},Df=class{constructor(e){this.payload=e,this.type=bO}},bf=class{constructor(e){this.payload=e,this.type=JS}},wf=class{constructor(){this.type=XS}},Tf=class{constructor(e){this.payload=e,this.type=wO}},Af=class{constructor(e){this.payload=e,this.type=eI}},Rf=class{constructor(e){this.payload=e,this.type=tI}},_C=class{constructor(){this.type=TO}},nI="[Site-context] Load Currencies",AO="[Site-context] Load Currencies Fail",rI="[Site-context] Load Currencies Success",zp="[Site-context] Set Active Currency",Nc="[Site-context] Currency Change",Mf=class{constructor(){this.type=nI}},xf=class{constructor(e){this.payload=e,this.type=AO}},Of=class{constructor(e){this.payload=e,this.type=rI}},Nf=class{constructor(e){this.payload=e,this.type=zp}},Pf=class{constructor(e){this.payload=e,this.type=Nc}},iI="[Site-context] Load Languages",RO="[Site-context] Load Languages Fail",sI="[Site-context] Load Languages Success",Gp="[Site-context] Set Active Language",Un="[Site-context] Language Change",Ff=class{constructor(){this.type=iI}},_f=class{constructor(e){this.payload=e,this.type=RO}},Lf=class{constructor(e){this.payload=e,this.type=sI}},kf=class{constructor(e){this.payload=e,this.type=Gp}},jf=class{constructor(e){this.payload=e,this.type=Un}},Rce=Object.freeze({__proto__:null,BASE_SITE_CHANGE:TO,BaseSiteChange:_C,CURRENCY_CHANGE:Nc,CurrencyChange:Pf,LANGUAGE_CHANGE:Un,LOAD_BASE_SITE:QS,LOAD_BASE_SITES:XS,LOAD_BASE_SITES_FAIL:wO,LOAD_BASE_SITES_SUCCESS:eI,LOAD_BASE_SITE_FAIL:bO,LOAD_BASE_SITE_SUCCESS:JS,LOAD_CURRENCIES:nI,LOAD_CURRENCIES_FAIL:AO,LOAD_CURRENCIES_SUCCESS:rI,LOAD_LANGUAGES:iI,LOAD_LANGUAGES_FAIL:RO,LOAD_LANGUAGES_SUCCESS:sI,LanguageChange:jf,LoadBaseSite:FC,LoadBaseSiteFail:Df,LoadBaseSiteSuccess:bf,LoadBaseSites:wf,LoadBaseSitesFail:Tf,LoadBaseSitesSuccess:Af,LoadCurrencies:Mf,LoadCurrenciesFail:xf,LoadCurrenciesSuccess:Of,LoadLanguages:Ff,LoadLanguagesFail:_f,LoadLanguagesSuccess:Lf,SET_ACTIVE_BASE_SITE:tI,SET_ACTIVE_CURRENCY:zp,SET_ACTIVE_LANGUAGE:Gp,SetActiveBaseSite:Rf,SetActiveCurrency:Nf,SetActiveLanguage:kf}),oI="siteContext",Pc=Nn(oI),R8=t=>t.entities,M8=A(Pc,t=>t.baseSite),mx=A(Pc,t=>t&&t.baseSite&&t.baseSite.activeSite),Mce=A(Pc,t=>t&&t.baseSite&&t.baseSite.details),x8=A(M8,R8),O8=A(x8,t=>t?Object.keys(t).map(e=>t[e]):null),N8=t=>t.entities,P8=t=>t.activeCurrency,MO=A(Pc,t=>t.currencies),F8=A(MO,N8),LC=A(MO,P8),_8=A(F8,t=>t?Object.keys(t).map(e=>t[e]):null),L8=t=>t.activeLanguage,k8=t=>t.entities,xO=A(Pc,t=>t.languages),j8=A(xO,k8),kC=A(xO,L8),U8=A(j8,t=>t?Object.keys(t).map(e=>t[e]):null);var ys=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getActive(){return this.store.pipe(M(mx),x(n=>!!n))}getAll(){return this.store.pipe(M(O8),L(n=>{n||this.store.dispatch(new wf)}),x(yc))}get(n){return n?this.getAll().pipe(E(r=>r.find(s=>s.uid===n))):this.getActive().pipe(O(r=>this.getAll().pipe(E(s=>s.find(o=>o.uid===r)))))}setActive(n){this.store.pipe(M(mx),oe(1)).subscribe(r=>{n&&r!==n&&this.store.dispatch(new Rf(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Oc(this.config,qr).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),$8=(()=>{let e=class e{constructor(n){this.baseSiteService=n,this.MULTISITE_SEPARATOR="|"}getBaseSiteDecorator(){return this.baseSiteService.get().pipe(oe(1),E(n=>n?.isolated?this.MULTISITE_SEPARATOR+n?.uid:""))}decorateUserId(n){return this.getBaseSiteDecorator().pipe(E(r=>n+r))}};e.\u0275fac=function(r){return new(r||e)(d(ys))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$n=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.store=n,this.userIdService=r,this.oAuthLibWrapperService=s,this.authStorageService=o,this.authRedirectService=a,this.routingService=c,this.authMultisiteIsolationService=u,this.refreshInProgress$=new Te(!1),this.logoutInProgress$=new Te(!1)}checkOAuthParamsInUrl(){return nt(this,null,function*(){try{let n=yield this.oAuthLibWrapperService.tryLogin(),r=this.authStorageService.getItem("access_token");n.result&&r&&(this.userIdService.setUserId(wo),this.store.dispatch(new Ao),n.tokenReceived&&this.authRedirectService.redirect())}catch{}})}loginWithRedirect(){return this.oAuthLibWrapperService.initLoginFlow(),!0}loginWithCredentials(n,r){return nt(this,null,function*(){let s=n;this.authMultisiteIsolationService&&(s=yield Yn(this.authMultisiteIsolationService.decorateUserId(s)));try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(s,r),this.userIdService.setUserId(wo),this.store.dispatch(new Ao),this.authRedirectService.redirect()}catch{}})}otpLoginWithCredentials(n,r){return nt(this,null,function*(){try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(n,r),this.userIdService.setUserId(wo),this.store.dispatch(new Ao),this.authRedirectService.redirect()}catch{}})}coreLogout(){return this.setLogoutProgress(!0),this.userIdService.clearUserId(),new Promise(n=>{this.oAuthLibWrapperService.revokeAndLogout().finally(()=>{this.store.dispatch(new If),this.setLogoutProgress(!1),n()})})}isUserLoggedIn(){return this.authStorageService.getToken().pipe(E(n=>!!n?.access_token),rn())}logout(){this.routingService.go({cxRoute:"logout"})}setRefreshProgress(n){this.refreshInProgress$.next(n)}setLogoutProgress(n){this.logoutInProgress$.next(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn),d(EO),d(Mc),d(ZS),d(wi),d($8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fc=(()=>{let e=class e{constructor(n,r){this.store=n,this.authService=r}loadTemplates(){this.store.dispatch(new yf)}getTemplates(n=!1){return Qo(()=>n,this.store.pipe(M(xC),rt(this.getLoadTemplatesLoading()),x(([r,s])=>!s),L(([r,s])=>{r||this.loadTemplates()}),x(([r,s])=>!!r),E(([r,s])=>r)),this.store.pipe(M(xC)))}getTemplate(n){return this.store.pipe(M(f8(n)))}getLoadTemplatesLoading(){return this.store.pipe(M(u8))}getLoadTemplatesSuccess(){return this.store.pipe(M(l8))}getLoadTemplatesError(){return this.store.pipe(M(d8))}resetLoadTemplatesState(){this.store.dispatch(new bC)}getConsents(){return this.store.pipe(M(yO))}setConsents(n){return this.store.dispatch(new wC(n))}getConsent(n){return this.authService.isUserLoggedIn().pipe(x(r=>!r),L(()=>this.getTemplates(!0)),O(()=>this.store.pipe(M(g8(n)))))}giveConsent(n){this.store.dispatch(new TC(n))}giveAllConsents(){return this.getTemplates(!0).pipe(L(n=>n.forEach(r=>{r.id&&this.giveConsent(r.id)})))}isConsentGiven(n){return(n&&n.consentState===Oo.GIVEN)??!1}withdrawConsent(n){this.store.dispatch(new AC(n))}withdrawAllConsents(){return this.getTemplates(!0).pipe(L(n=>n.forEach(r=>{r.id&&this.withdrawConsent(r.id)})))}isConsentWithdrawn(n){return n&&n.consentState===Oo.WITHDRAWN}toggleBannerDismissed(n){this.store.dispatch(new RC(n)),n&&this.toggleTemplatesUpdated(!1)}isBannerDismissed(){return this.store.pipe(M(p8))}getTemplatesUpdated(){return this.getTemplates(!0).pipe(O(()=>this.store.pipe(M(h8))))}toggleTemplatesUpdated(n){this.store.dispatch(new Sf(n))}isBannerVisible(){return Pe([this.isBannerDismissed(),this.getTemplatesUpdated()]).pipe(L(()=>this.checkConsentVersions()),E(([n,r])=>!n||r))}checkConsentVersions(){this.store.dispatch(new MC)}detectUpdatedTemplates(n,r){if(r.length!==n.length)return!0;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o.version!==a.version)return!0}return!1}serializeAndEncode(n){if(!n)return"";let r=JSON.stringify(n);return encodeURIComponent(r)}decodeAndDeserialize(n){let r=decodeURIComponent(n);return r.length>0?JSON.parse(r):[]}consentsUpdated(n,r){let s=this.serializeAndEncode(n),o=this.serializeAndEncode(r);return s!==o}};e.\u0275fac=function(r){return new(r||e)(d(me),d($n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jC="cx-use-client-token",xce="cx-use-csagent-token",Ec=class{static createHeader(e,i,n){return n?n.append(e,JSON.stringify(i)):(n=new le().set(e,JSON.stringify(i)),n)}static removeHeader(e,i){let n=i.headers.delete(e);return i.clone({headers:n})}static getInterceptorParam(e,i){let n=i.get(e);if(n)return JSON.parse(n)}},OO="client-auth",Wp="[Client auth] Client Token Data",NO="[Token] Load Client Token",B8="[Token] Load Client Token Fail",V8="[Token] Load Client Token Success",Uf=class extends ct{constructor(){super(Wp),this.type=NO}},UC=class extends ut{constructor(e){super(Wp,e),this.payload=e,this.type=B8}},$C=class extends lt{constructor(e){super(Wp),this.payload=e,this.type=V8}};var H8=Nn(OO),vx=A(H8,t=>t.clientToken);var PO=(()=>{let e=class e{constructor(n){this.store=n}getClientToken(){return this.store.pipe(M(vx),nn(ti),x(n=>this.isClientTokenLoaded(n)?!0:(n.loading||this.store.dispatch(new Uf),!1)),E(n=>n.value))}refreshClientToken(){return this.store.dispatch(new Uf),this.store.pipe(M(vx),x(n=>this.isClientTokenLoaded(n)),E(n=>n.value),x(yn))}isClientTokenLoaded(n){return!!((n.success||n.error)&&!n.loading)}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z8=(()=>{let e=class e{constructor(n){this.clientTokenService=n}handleExpiredClientToken(n,r){return this.clientTokenService.refreshClientToken().pipe(oe(1),O(s=>r.handle(this.createNewRequestWithNewToken(n,s))))}createNewRequestWithNewToken(n,r){return n=n.clone({setHeaders:{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}}),n}};e.\u0275fac=function(r){return new(r||e)(d(PO))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BC=class{static resolve(e,i,n){for(let r of Object.keys(i)){let s=new RegExp("\\${"+r+"}","g");e=e.replace(s,n?encodeURIComponent(i[r]):i[r])}return e}},VC=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},vc="default";function yx(...t){let e=[];t=t.filter(i=>!!i);for(let i of t)e.push(G8(i));return t[0]?.startsWith("/")&&(e[0]="/"+e[0]),t[t.length-1]?.endsWith("/")&&(e[e.length-1]=e[e.length-1]+"/"),e.join("/")}function G8(t){return t=t.startsWith("/")?t.slice(1):t,t=t.endsWith("/")?t.slice(0,-1):t,t}var Qe=(()=>{let e=class e{get activeBaseSite(){return this._activeBaseSite??Si(this.config,qr)}constructor(n,r){this.config=n,this.baseSiteService=r,this.logger=C(J),this.baseSiteService&&this.baseSiteService.getActive().subscribe(s=>this._activeBaseSite=s)}getRawEndpointValue(n,r){return this.getEndpointForScope(n,r)}isConfigured(n,r){return!(typeof this.getEndpointFromConfig(n,r)>"u")}getBaseUrl(n={baseUrl:!0,prefix:!0,baseSite:!0}){let r=n.baseUrl===!1?"":this.config?.backend?.occ?.baseUrl??"",s=n.prefix===!1?"":this.getPrefix(),o=n.baseSite===!1?"":this.activeBaseSite;return yx(r,s,o)}buildUrl(n,r,s){let o=this.getEndpointForScope(n,r?.scope);if(r){let{urlParams:a,queryParams:c}=r;if(a&&(o=BC.resolve(o,a,!0)),c){let u={encoder:new VC};if(o.includes("?")){let h;[o,h]=o.split("?"),u=T(v({},u),{fromString:h})}let f=this.getHttpParamsFromQueryParams(c,u).toString();f.length&&(o+="?"+f)}}return this.buildUrlFromEndpointString(o,s)}getHttpParamsFromQueryParams(n,r){let s=new ze(r);return Object.keys(n).forEach(o=>{let a=n[o];a!==void 0&&(a===null?s=s.delete(o):s=s.set(o,a))}),s}getEndpointFromConfig(n,r){let s=this.config.backend?.occ?.endpoints;if(!s)return;let o=s[n];return r?r===vc&&typeof o=="string"?o:o?.[r]:typeof o=="string"?o:o?.[vc]}getEndpointForScope(n,r){let s=this.config.backend?.occ?.endpoints;if(!s)return"";let o=s[n];if(r){if(o?.[r])return o?.[r];if(r===vc&&typeof o=="string")return o;ge()&&this.logger.warn(`${n} endpoint configuration missing for scope "${r}"`)}return(typeof o=="string"?o:o?.[vc])||n}buildUrlFromEndpointString(n,r){return yx(this.getBaseUrl(r),n)}getPrefix(){return this.config?.backend?.occ?.prefix&&!this.config.backend.occ.prefix.startsWith("/")?"/"+this.config.backend.occ.prefix:this.config?.backend?.occ?.prefix??""}};e.\u0275fac=function(r){return new(r||e)(d(yr),d(ys,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),W8=(()=>{let e=class e{constructor(n,r,s){this.clientTokenService=n,this.clientErrorHandlingService=r,this.occEndpoints=s}intercept(n,r){let s=this.isClientTokenRequest(n);return s&&(n=Ec.removeHeader(jC,n)),this.getClientToken(s).pipe(oe(1),O(o=>(o?.access_token&&n.url.includes(this.occEndpoints.getBaseUrl())&&(n=n.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),r.handle(n).pipe(P(a=>{if(a instanceof Ht&&a.status===401&&s&&this.isExpiredToken(a))return this.clientErrorHandlingService.handleExpiredClientToken(n,r);throw a})))))}getClientToken(n){return n?this.clientTokenService.getClientToken():I(void 0)}isClientTokenRequest(n){return!!Ec.getInterceptorParam(jC,n.headers)}isExpiredToken(n){return n.error?.errors?.[0]?.type==="InvalidTokenError"}};e.\u0275fac=function(r){return new(r||e)(d(PO),d(z8),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),q8=[{provide:pn,useExisting:W8,multi:!0}],Ro=function(t){return t.NO_STORAGE="NO_STORAGE",t.LOCAL_STORAGE="LOCAL_STORAGE",t.SESSION_STORAGE="SESSION_STORAGE",t}(Ro||{}),Bo=function(t){return t.TRANSFER_STATE="SSR",t}(Bo||{});function Ex(t,e){let i;switch(t){case Ro.LOCAL_STORAGE:{i=e.localStorage;break}case Ro.SESSION_STORAGE:{i=e.sessionStorage;break}case Ro.NO_STORAGE:{i=void 0;break}default:i=e.sessionStorage}return i}function Y8(t,e,i){!FO(i)&&e&&i.setItem(t,JSON.stringify(e))}function Cx(t,e){if(FO(t))return;let i=t.getItem(e);if(i)return JSON.parse(i)}function FO(t){return!t}var qp=(()=>{let e=class e{constructor(n){this.winRef=n}syncWithStorage({key:n,state$:r,context$:s=I(""),storageType:o=Ro.LOCAL_STORAGE,onRead:a=()=>{}}){let c=Ex(o,this.winRef),u=new Ee;return u.add(s.pipe(E(l=>c?Cx(c,this.generateKeyWithContext(l,n)):void 0),L(l=>a(l))).subscribe()),c&&u.add(r.pipe(rt(s)).subscribe(([l,f])=>{Y8(this.generateKeyWithContext(f,n),l,c)})),u}readStateFromStorage({key:n,context:r="",storageType:s=Ro.LOCAL_STORAGE}){let o=Ex(s,this.winRef);if(o)return Cx(o,this.generateKeyWithContext(r,n))}generateKeyWithContext(n,r){return`spartacus\u26BF${[].concat(n).join("\u26BF")}\u26BF${r}`}};e.\u0275fac=function(r){return new(r||e)(d(bi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_O=(()=>{let e=class e{constructor(n,r,s,o){this.statePersistenceService=n,this.userIdService=r,this.authStorageService=s,this.authRedirectStorageService=o,this.subscription=new Ee,this.key="auth"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:n=>this.onRead(n)}))}getAuthState(){return Pe([this.authStorageService.getToken().pipe(x(n=>!!n),E(n=>v({},n))),this.userIdService.getUserId(),this.authRedirectStorageService.getRedirectUrl()]).pipe(E(([n,r,s])=>{let o=n;return o&&(o=v({},o),delete o.refresh_token),{token:o,userId:r,redirectUrl:s}}))}onRead(n){n?.token&&this.authStorageService.setToken(n.token),n?.redirectUrl&&this.authRedirectStorageService.setRedirectUrl(n.redirectUrl),n?.userId?this.userIdService.setUserId(n.userId):this.userIdService.clearUserId()}readStateFromStorage(){return this.statePersistenceService.readStateFromStorage({key:this.key})}isUserLoggedIn(){return!!this.readStateFromStorage()?.token?.access_token}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(qp),d(jn),d(Mc),d(DO))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HC="cx-state";function K8(t,e,i,n){if(e&&i?.state?.ssrTransfer?.keys){if(On(t))return Q8(e,i.state.ssrTransfer.keys,!!n?.isUserLoggedIn());if(Qi(t))return Z8(e,i.state.ssrTransfer.keys)}return r=>r}function Z8(t,e){let i=cO(e,Bo.TRANSFER_STATE);return function(n){return function(r,s){let o=n(r,s);if(o){let a=qS(i,[],o);t.set(HC,a)}return o}}}function Q8(t,e,i){let n=cO(e,Bo.TRANSFER_STATE);return function(r){return function(s,o){if(o.type===Fd){if(s||(s=r(s,o)),!i&&t.hasKey(HC)){let a=t.get(HC,{}),c=qS(n,[],a);s=yt({},s,c)}return s}return r(s,o)}}}var Sx=new S("TransferStateMetaReducer"),J8=[{provide:Sx,useFactory:K8,deps:[$e,[new un,Ta],[new un,Lt],[new un,_O]]},{provide:ho,useExisting:Sx,multi:!0}],Ti=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...J8]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();function q(t,e){if(t instanceof mf)return t;if(t instanceof Ht){let i=new mf;return i.message=t.message,i.status=t.status,i.statusText=t.statusText,i.url=t.url,Array.isArray(t.error.errors)?i.details=t.error.errors:typeof t.error.error=="string"&&(i.details=[{type:t.error.error,message:t.error.error_description}]),i}ge()&&e.error("Error passed to normalizeHttpError is not HttpErrorResponse instance",t)}var X8=(()=>{let e=class e{constructor(n,r){this.http=n,this.authConfigService=r}loadClientAuthenticationToken(){let n=this.authConfigService.getTokenEndpoint(),r=new ze().set("client_id",encodeURIComponent(this.authConfigService.getClientId())).set("client_secret",encodeURIComponent(this.authConfigService.getClientSecret())).set("grant_type","client_credentials"),s=new le({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(n,r,{headers:s})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d($p))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),e3=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.clientAuthenticationTokenService=r,this.logger=C(J),this.loadClientToken$=W(()=>this.actions$.pipe(B(NO),Zn(()=>this.clientAuthenticationTokenService.loadClientAuthenticationToken().pipe(E(s=>new $C(s)),P(s=>I(new UC(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(X8))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),t3=[e3];function n3(){return{clientToken:at(Wp)}}var LO=new S("ClientAuthReducers"),r3={provide:LO,useFactory:n3},i3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[r3],imports:[Ze,Ti,fr.forFeature(OO,LO),Br.forFeature(t3)]});let t=e;return t})(),s3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...q8]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[Ze,i3]});let t=e;return t})(),Yp=new S("ConfigInitializer"),kO=new S("CONFIG_INITIALIZER_FORROOT_GUARD"),_n=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.initializerGuard=r,this.rootConfig=s,this.logger=C(J),this.ongoingScopes$=new Te(void 0)}get isStable(){return!this.initializerGuard||this.ongoingScopes$.value?.length===0}getStable(...n){return this.isStable?I(this.config):this.ongoingScopes$.pipe(x(r=>!!r&&this.areReady(n,r)),oe(1),E(()=>this.config))}finishScopes(n){let r=[...this.ongoingScopes$.value??[]];for(let s of n)r.splice(r.indexOf(s),1);this.ongoingScopes$.next(r)}areReady(n,r){if(!n.length)return!r.length;for(let s of n)for(let o of r)if(this.scopesOverlap(s,o))return!1;return!0}scopesOverlap(n,r){return r.length>n.length&&([n,r]=[r,n]),n.startsWith(r)&&(n[r.length]||".")==="."}initialize(n){return nt(this,null,function*(){if(this.ongoingScopes$.value)return;let r=[],s=[];for(let o of n||[])if(o){if(!o.scopes||!o.scopes.length)throw new Error("CONFIG_INITIALIZER should provide scope!");ge()&&!this.areReady(o.scopes,r)&&this.logger.warn("More than one CONFIG_INITIALIZER is initializing the same config scope."),r.push(...o.scopes),s.push(nt(this,null,function*(){let a=yield o.configFactory();yt(this.rootConfig,a),yt(this.config,a),this.finishScopes(o.scopes)}))}this.ongoingScopes$.next(r),s.length&&(yield Promise.all(s))})}};e.\u0275fac=function(r){return new(r||e)(d(Lt),d(kO,8),d(xS))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jO=new S("ConfigurationValidator");function aI(t){return{provide:jO,useValue:t,multi:!0}}function o3(t,e,i){for(let n of e){let r=n(t);r&&i.warn(r)}}function a3(t){if(typeof t?.authentication?.baseUrl>"u"&&typeof t?.backend?.occ?.baseUrl>"u"&&t?.authentication?.OAuthLibConfig?.requireHttps!==!1)return"Authentication might not work correctly without setting either authentication.baseUrl or backend.occ.baseUrl configuration option! Workaround: To support relative urls in angular-oauth2-oidc library you can try setting authentication.OAuthLibConfig.requireHttps to false."}var c3={authentication:{client_id:"mobile_android",client_secret:"secret",tokenEndpoint:"/oauth/token",revokeEndpoint:"/oauth/revoke",loginUrl:"/oauth/authorize",OAuthLibConfig:{scope:"",customTokenParameters:["token_type"],strictDiscoveryDocumentValidation:!1,skipIssuerCheck:!0,disablePKCE:!0,oidc:!1,clearHashAfterLogin:!1}}};function Ii(t,e){return Object.assign(new t,e)}var Yr=(()=>{let e=class e{};e.type="CxEvent";let t=e;return t})(),Ix=(()=>{let e=class e extends Yr{};e.type="LogoutEvent";let t=e;return t})(),u3=(()=>{let e=class e extends Yr{};e.type="LoginEvent";let t=e;return t})(),zC=class{constructor(){this.sources=[],this.subscriptionsToSources=new Map,this.output$=new z(e=>(this.consumer=e,this.bindAllSourcesToConsumer(e),()=>{this.consumer=null,this.unbindAllSourcesFromConsumer()})).pipe(Os()),this.consumer=null}add(e){this.has(e)||(this.consumer&&this.bindSourceToConsumer(e,this.consumer),this.sources.push(e))}bindAllSourcesToConsumer(e){this.sources.forEach(i=>this.bindSourceToConsumer(i,e))}unbindAllSourcesFromConsumer(){this.sources.forEach(e=>this.unbindSourceFromConsumer(e))}bindSourceToConsumer(e,i){let n=e.subscribe(r=>i.next(r));this.subscriptionsToSources.set(e,n)}unbindSourceFromConsumer(e){let i=this.subscriptionsToSources.get(e);i!==void 0&&(i.unsubscribe(),this.subscriptionsToSources.delete(e))}remove(e){this.unbindSourceFromConsumer(e);let i;(i=this.sources.findIndex(n=>n===e))!==-1&&this.sources.splice(i,1)}has(e){return this.sources.includes(e)}},Es=(()=>{let e=class e{constructor(){this.logger=C(J),this.eventsMeta=new Map}register(n,r){let s=this.getEventMeta(n);return s.mergingSubject.has(r)?ge()&&this.logger.warn("EventService: the event source",r,"has been already registered for the type",n):s.mergingSubject.add(r),()=>s.mergingSubject.remove(r)}get(n){let r=this.getEventMeta(n).mergingSubject.output$;return ge()&&(r=this.getValidatedEventStream(r,n)),r}dispatch(n,r){r?n instanceof r||(n=Ii(r,n)):r=n.constructor,this.getInputSubject(r).next(n)}getInputSubject(n){let r=this.getEventMeta(n);return r.inputSubject$||(r.inputSubject$=new re,this.register(n,r.inputSubject$)),r.inputSubject$}getEventMeta(n){return this.eventsMeta.get(n)||(ge()&&this.validateEventType(n),this.createEventMeta(n)),this.eventsMeta.get(n)}createEventMeta(n){let r={inputSubject$:null,mergingSubject:new zC};this.eventsMeta.set(n,r);let s=Object.getPrototypeOf(n);for(;s!==null&&Object.getPrototypeOf(s)!==Object.getPrototypeOf({});)this.register(s,r.mergingSubject.output$),s=Object.getPrototypeOf(s)}validateEventType(n){if(!n?.constructor)throw new Error(`EventService:  ${n} is not a valid event type. Please provide a class reference.`);this.validateCxEvent(n)}validateCxEvent(n){let r=n;for(;r!==null&&Object.getPrototypeOf(r)!==Object.getPrototypeOf({});){if(r.type===Yr.type)return;r=Object.getPrototypeOf(r)}this.logger.warn(`The ${n.name} (or one of its parent classes) does not inherit from the ${Yr.type}`)}getValidatedEventStream(n,r){return n.pipe(L(s=>{s instanceof r||this.logger.warn("EventService: The stream",n,"emitted the event",s,"that is not an instance of the declared type",r.name)}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UO=(()=>{let e=class e{constructor(n,r){this.actionsSubject=n,this.eventService=r}register(n){return this.eventService.register(n.event,this.getFromAction(n))}getFromAction(n){return this.actionsSubject.pipe(B(...[].concat(n.action))).pipe(E(r=>this.createEvent(r,n.event,n.factory)))}createEvent(n,r,s){return s?s(n):Ii(r,n.payload??{})}};e.\u0275fac=function(r){return new(r||e)(d($r),d(Es))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),l3=(()=>{let e=class e{constructor(n,r,s){this.stateEventService=n,this.eventService=r,this.authService=s,this.register()}register(){this.registerLoginEvent(),this.registerLogoutEvent()}registerLoginEvent(){this.stateEventService.register({action:mr,event:u3})}registerLogoutEvent(){this.eventService.register(Ix,this.buildLogoutEvent())}buildLogoutEvent(){return this.authService.isUserLoggedIn().pipe(ta(),x(([n,r])=>n&&!r),E(()=>Ii(Ix,{})))}};e.\u0275fac=function(r){return new(r||e)(d(UO),d(Es),d($n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),d3=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(l3))},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),ke=function(t){return t.MSG_TYPE_CONFIRMATION="[GlobalMessage] Confirmation",t.MSG_TYPE_ERROR="[GlobalMessage] Error",t.MSG_TYPE_INFO="[GlobalMessage] Information",t.MSG_TYPE_WARNING="[GlobalMessage] Warning",t.MSG_TYPE_ASSISTIVE="[GlobalMessage] Assistive",t}(ke||{}),$f="[Global-message] Add a Message",$O="[Global-message] Remove a Message",BO="[Global-message] Remove messages by type",GC=class{constructor(e){this.payload=e,this.type=$f}},Cc=class{constructor(e){this.payload=e,this.type=$O}},Bf=class{constructor(e){this.payload=e,this.type=BO}};var VO="global-message",f3=Nn(VO),HO=A(f3,t=>t.entities),zO=t=>A(HO,e=>e&&e[t]),h3=t=>A(zO(t),e=>e&&e.length);var Vo=(()=>{let e=class e{constructor(n){this.store=n}get(){return this.store.pipe(M(HO),x(yn))}add(n,r,s){this.store.dispatch(new GC({text:typeof n=="string"?{raw:n}:n,type:r,timeout:s}))}remove(n,r){this.store.dispatch(r!==void 0?new Cc({type:n,index:r}):new Bf(n))}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),p3=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.authService=n,this.authStorageService=r,this.oAuthLibWrapperService=s,this.routingService=o,this.occEndpoints=a,this.globalMessageService=c,this.authRedirectService=u,this.refreshTokenTrigger$=new re,this.token$=this.authStorageService.getToken().pipe(E(l=>l?.access_token?l:void 0)),this.stopProgress$=this.token$.pipe(ta(),L(([l,f])=>{l?.access_token!==f?.access_token&&(this.authService.setLogoutProgress(!1),this.authService.setRefreshProgress(!1))})),this.refreshToken$=this.refreshTokenTrigger$.pipe(rt(this.authService.refreshInProgress$,this.authService.logoutInProgress$),x(([,l,f])=>!l&&!f),L(([l])=>{l?.refresh_token?(this.oAuthLibWrapperService.refreshToken(),this.authService.setRefreshProgress(!0)):this.handleExpiredRefreshToken()})),this.tokenToRetryRequest$=Ms(()=>this.refreshToken$.subscribe(),()=>this.getStableToken()).pipe(ht({refCount:!0,bufferSize:1})),this.subscriptions=new Ee,this.subscriptions.add(this.stopProgress$.subscribe())}shouldCatchError(n){return this.isOccUrl(n.url)}shouldAddAuthorizationHeader(n){let r=!!this.getAuthorizationHeader(n),s=this.isOccUrl(n.url);return!r&&s}alterRequest(n,r){let s=!!this.getAuthorizationHeader(n),o=this.isBaseSitesRequest(n),a=this.isOccUrl(n.url);return!s&&a&&!o?n.clone({setHeaders:v({},this.createAuthorizationHeader(r))}):n}isOccUrl(n){return n.includes(this.occEndpoints.getBaseUrl())}isBaseSitesRequest(n){return n.url.includes(this.occEndpoints.getRawEndpointValue("baseSites"))}getAuthorizationHeader(n){return n.headers.get("Authorization")}createAuthorizationHeader(n){if(n?.access_token)return{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`};let r;return this.authStorageService.getToken().subscribe(s=>r=s).unsubscribe(),r?.access_token?{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}:{}}handleExpiredAccessToken(n,r,s){return this.getValidToken(s).pipe(O(o=>o?r.handle(this.createNewRequestWithNewToken(n,o)):pe))}handleExpiredRefreshToken(){this.authRedirectService.saveCurrentNavigationUrl(),this.authService.coreLogout().finally(()=>{this.routingService.go({cxRoute:"login"}),this.globalMessageService.add({key:"httpHandlers.sessionExpired"},ke.MSG_TYPE_ERROR)})}getStableToken(){return Pe([this.token$,this.authService.refreshInProgress$,this.authService.logoutInProgress$]).pipe(nn(ti),x(([n,r,s])=>!r&&!s),O(()=>this.token$))}getValidToken(n){return qe(()=>{let r=!1;return this.tokenToRetryRequest$.pipe(L(s=>{s?.access_token===n?.access_token&&!r&&this.refreshTokenTrigger$.next(s),r=!0}),Ou(s=>s?.access_token===n?.access_token),oe(1))})}createNewRequestWithNewToken(n,r){return n=n.clone({setHeaders:{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}}),n}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d($n),d(Mc),d(EO),d(wi),d(Qe),d(Vo),d(ZS))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),g3=(()=>{let e=class e{constructor(n,r){this.authHttpHeaderService=n,this.authConfigService=r}intercept(n,r){let s=this.authHttpHeaderService.shouldCatchError(n);return(this.authHttpHeaderService.shouldAddAuthorizationHeader(n)?this.authHttpHeaderService.getStableToken().pipe(oe(1)):I(void 0)).pipe(E(u=>({token:u,request:this.authHttpHeaderService.alterRequest(n,u)}))).pipe(O(({request:u,token:l})=>r.handle(u).pipe(P(f=>{switch(f.status){case 401:if(this.isExpiredToken(f)&&s)return this.authHttpHeaderService.handleExpiredAccessToken(u,r,l);if(this.errorIsInvalidToken(f))return this.authHttpHeaderService.handleExpiredRefreshToken(),pe;break;case 400:this.errorIsInvalidGrant(f)&&u.body.get("grant_type")==="refresh_token"&&this.authHttpHeaderService.handleExpiredRefreshToken();break}throw f}))))}errorIsInvalidToken(n){return(n.url?.includes(this.authConfigService.getTokenEndpoint())&&n.error.error==="invalid_token")??!1}errorIsInvalidGrant(n){return(n.url?.includes(this.authConfigService.getTokenEndpoint())&&n.error.error==="invalid_grant")??!1}isExpiredToken(n){return n.error?.errors?.[0]?.type==="InvalidTokenError"}};e.\u0275fac=function(r){return new(r||e)(d(p3),d($p))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),m3=(()=>{let e=class e{constructor(n,r){this.authStorageService=n,this.authConfigService=r}intercept(n,r){let s=this.isTokenRevocationRequest(n);return this.authStorageService.getToken().pipe(oe(1),O(o=>(s&&(n=n.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),r.handle(n))))}isTokenRevocationRequest(n){return n.url===this.authConfigService.getRevokeEndpoint()}};e.\u0275fac=function(r){return new(r||e)(d(Mc),d($p))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),v3=[{provide:pn,useExisting:g3,multi:!0},{provide:pn,useExisting:m3,multi:!0}],cI=new S("MULTI_LOCATION_INITIALIZED");function y3(t,e,i){return()=>On(i)?Yn(e.getStable().pipe(O(()=>t.checkOAuthParamsInUrl()))):Promise.resolve()}function E3(t){return()=>t.initSync()}var C3=()=>{let t=C($n),e=C(_n),i=C($e),n=C(_O);return E3(n)(),y3(t,e,i)},S3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Ln(c3),aI(a3),...v3,{provide:as,useExisting:Mc},{provide:cI,useFactory:C3,multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[Ze,EM.forRoot(),d3]});let t=e;return t})(),Oce=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[Ze,S3.forRoot(),s3.forRoot()]});let t=e;return t})(),I3=(()=>{let e=class e{constructor(n,r,s,o){this.authService=n,this.authRedirectService=r,this.router=s,this.semanticPathService=o}canActivate(){return this.authService.isUserLoggedIn().pipe(E(n=>n||(this.authRedirectService.saveCurrentNavigationUrl(),this.router.parseUrl(this.semanticPathService.get("login")??""))))}};e.\u0275fac=function(r){return new(r||e)(d($n),d(ZS),d(Oe),d(xc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nce=(()=>{let e=class e{constructor(n,r,s){this.authService=n,this.semanticPathService=r,this.router=s}canActivate(){return this.authService.isUserLoggedIn().pipe(E(n=>n?this.router.parseUrl(this.semanticPathService.get("home")??""):!n))}};e.\u0275fac=function(r){return new(r||e)(d($n),d(xc),d(Oe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GO=(()=>{let e=class e extends yr{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})(),D3=(()=>{let e=class e{constructor(n,r,s,o){this.anonymousConsentsService=n,this.authService=r,this.occEndpoints=s,this.config=o}intercept(n,r){return Pe([this.anonymousConsentsService.getConsents(),this.authService.isUserLoggedIn()]).pipe(oe(1),O(([s,o])=>{if(!this.isOccUrl(n.url))return r.handle(n);let a=this.handleRequest(s,n);return r.handle(a).pipe(L(c=>{c instanceof Ji&&(c.url??"").startsWith(this.occEndpoints.buildUrl("anonymousConsentTemplates"))&&this.handleResponse(o,c.headers.get(pC),s)}))}))}handleResponse(n,r,s){if(!n&&r){let o=[];o=this.anonymousConsentsService.decodeAndDeserialize(r),o=this.giveRequiredConsents(o),this.anonymousConsentsService.consentsUpdated(o,s)&&this.anonymousConsentsService.setConsents(o)}}handleRequest(n,r){if(!n)return r;let s=this.anonymousConsentsService.serializeAndEncode(n);return r.clone({setHeaders:{[pC]:s}})}isOccUrl(n){return n.includes(this.occEndpoints.getBaseUrl())}giveRequiredConsents(n){let r=[...n];if(this.config.anonymousConsents&&this.config.anonymousConsents.requiredConsents)for(let s of r)s.templateCode&&this.config.anonymousConsents.requiredConsents.includes(s.templateCode)&&(s.consentState=Oo.GIVEN);return r}};e.\u0275fac=function(r){return new(r||e)(d(Fc),d($n),d(Qe),d(GO))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b3=[{provide:pn,useExisting:D3,multi:!0}],uI="[User] Load Billing Countries",WO="[User] Load Billing Countries Fail",lI="[User] Load Billing Countries Success",Vf=class{constructor(){this.type=uI}},Hf=class{constructor(e){this.payload=e,this.type=WO}},zf=class{constructor(e){this.payload=e,this.type=lI}},ae="process";function w3(){return Nn(ae)}function Kp(t){return A(w3(),e=>Xt(e,t))}function Ci(t){return A(Kp(t),e=>kt(e))}function zr(t){return A(Kp(t),e=>kn(e))}function Ei(t){return A(Kp(t),e=>$o(e))}var Pce=Object.freeze({__proto__:null,getProcessErrorFactory:Ei,getProcessLoadingFactory:Ci,getProcessStateFactory:Kp,getProcessSuccessFactory:zr}),qO="user",T3="registerUser",ls="giveConsent",ds="withdrawConsent",_c="updateNotificationPreferences",No="addProductInterests",Po="removeProductInterests",Lc="[User] User Consents",Er="[User] User Payment Methods",en="[User] User Addresses",Zp="[User] User Cost Centers",kc="[User] Regions",jc="[User] Customer Coupons",fs="subscribeCustomerCoupon",hs="unsubscribeCustomerCoupon",Mo="claimCustomerCoupon",Fo="disclaimCustomerCoupon",Uc="[User] Notification Preferences",$c="[User] Product Interests",dI="[User] Load Customer Coupons",YO="[User] Load Customer Coupons Fail",fI="[User] Load Customer Coupons Success",KO="[User] Reset Load Customer Coupons",hI="[User] Subscribe Customer Notification Coupon",ZO="[User] Subscribe Customer Coupon Notification Fail",pI="[User] Subscribe Customer Coupon Notification Success",QO="[User] Reset Subscribe Customer Coupon Process",gI="[User] Unsubscribe Customer Notification Coupon",JO="[User] Unsubscribe Customer Coupon Notification Fail",mI="[User] Unsubscribe Customer Coupon Notification Success",XO="[User] Reset Unsubscribe Customer Coupon Process",vI="[User] Claim Customer",eN="[User] Claim Customer Fail",tN="[User] Claim Customer Success",yI="[User] Disclaim Customer",nN="[User] Disclaim Customer Fail",rN="[User] Disclaim Customer Success",iN="[User] Reset Disclaim Customer",Gf=class extends ct{constructor(e){super(jc),this.payload=e,this.type=dI}},Wf=class extends ut{constructor(e){super(jc,e),this.payload=e,this.type=YO}},qf=class extends lt{constructor(e){super(jc),this.payload=e,this.type=fI}},WC=class extends Wr{constructor(){super(jc),this.type=KO}},Yf=class extends _t{constructor(e){super(ae,fs),this.payload=e,this.type=hI}},Kf=class extends Tt{constructor(e){super(ae,fs,e),this.payload=e,this.type=ZO}},Zf=class extends dt{constructor(e){super(ae,fs,e),this.payload=e,this.type=pI}},qC=class extends Fn{constructor(){super(ae,fs),this.type=QO}},Qf=class extends _t{constructor(e){super(ae,hs),this.payload=e,this.type=gI}},Jf=class extends Tt{constructor(e){super(ae,hs,e),this.payload=e,this.type=JO}},Xf=class extends dt{constructor(e){super(ae,hs,e),this.payload=e,this.type=mI}},YC=class extends Fn{constructor(){super(ae,hs),this.type=XO}},eh=class extends _t{constructor(e){super(ae,Mo),this.payload=e,this.type=vI}},th=class extends _t{constructor(e){super(ae,Fo),this.payload=e,this.type=yI}},nh=class extends Fn{constructor(){super(ae,Fo),this.type=iN}},rh=class extends Tt{constructor(e){super(ae,Fo,e),this.payload=e,this.type=nN}},ih=class extends dt{constructor(e){super(ae,Fo,e),this.payload=e,this.type=rN}},sh=class extends Tt{constructor(e){super(ae,Mo,e),this.payload=e,this.type=eN}},oh=class extends dt{constructor(e){super(ae,Mo,e),this.payload=e,this.type=tN}},EI="[User] Load Delivery Countries",sN="[User] Load Delivery Countries Fail",CI="[User] Load Delivery Countries Success",ah=class{constructor(){this.type=EI}},ch=class{constructor(e){this.payload=e,this.type=sN}},uh=class{constructor(e){this.payload=e,this.type=CI}},SI="[User] Load Notification Preferences",II="[User] Load Notification Preferences Fail",DI="[User] Load Notification Preferences Success",bI="[User] Update Notification Preferences",oN="[User] Update Notification Preferences Fail",wI="[User] Update Notification Preferences Success",aN="[User] Reset Notification Preferences",cN="[User] Clear Notification Preferences",lh=class extends ct{constructor(e){super(Uc),this.payload=e,this.type=SI}},dh=class extends ut{constructor(e){super(Uc,e),this.payload=e,this.type=II}},fh=class extends lt{constructor(e){super(Uc),this.payload=e,this.type=DI}},hh=class extends _t{constructor(e){super(ae,_c),this.payload=e,this.type=bI}},ph=class extends Tt{constructor(e){super(ae,_c,e),this.payload=e,this.type=oN}},gh=class extends dt{constructor(e){super(ae,_c),this.payload=e,this.type=wI}},mh=class extends Fn{constructor(){super(ae,_c),this.type=aN}},vh=class extends Wr{constructor(){super(Uc),this.type=cN}},TI="[User] Load User Payment Methods",AI="[User] Load User Payment Methods Fail",RI="[User] Load User Payment Methods Success",MI="[User] Set Default User Payment Method",uN="[User] Set Default User Payment Method Fail",lN="[User] Set Default User Payment Method Success",xI="[User] Delete User Payment Method",dN="[User] Delete User Payment Method Fail",fN="[User] Delete User  Payment Method Success",_o=class extends ct{constructor(e){super(Er),this.payload=e,this.type=TI}},yh=class extends ut{constructor(e){super(Er,e),this.payload=e,this.type=AI}},Eh=class extends lt{constructor(e){super(Er),this.payload=e,this.type=RI}},Ch=class extends ct{constructor(e){super(Er),this.payload=e,this.type=MI}},Sh=class extends ut{constructor(e){super(Er,e),this.payload=e,this.type=uN}},Ih=class extends lt{constructor(e){super(Er),this.payload=e,this.type=lN}},Dh=class extends ct{constructor(e){super(Er),this.payload=e,this.type=xI}},bh=class extends ut{constructor(e){super(Er,e),this.payload=e,this.type=dN}},wh=class extends lt{constructor(e){super(Er),this.payload=e,this.type=fN}},OI="Load Product Interests",NI="Load Product Interests Fail",PI="Load Product Interests Success",FI="Remove Product Interest",hN="Remove Product Interest Success",pN="Remove Product Interest Fail",_I="Add Product Interest",gN="Add Product Interest Fail",mN="Add Product Interest Success",vN="Add Product Interest Reset",yN="Remove Product Interest Reset",EN="Clear Product Interests",Lo=class extends ct{constructor(e){super($c),this.payload=e,this.type=OI}},Th=class extends ut{constructor(e){super($c,e),this.payload=e,this.type=NI}},Ah=class extends lt{constructor(e){super($c),this.payload=e,this.type=PI}},Rh=class extends _t{constructor(e){super(ae,Po),this.payload=e,this.type=FI}},Mh=class extends dt{constructor(e){super(ae,Po),this.payload=e,this.type=hN}},xh=class extends Tt{constructor(e){super(ae,Po,e),this.payload=e,this.type=pN}},Oh=class extends _t{constructor(e){super(ae,No),this.payload=e,this.type=_I}},Nh=class extends dt{constructor(e){super(ae,No),this.payload=e,this.type=mN}},Ph=class extends Tt{constructor(e){super(ae,No,e),this.payload=e,this.type=gN}},Fh=class extends Fn{constructor(){super(ae,No),this.type=vN}},_h=class extends Fn{constructor(){super(ae,Po),this.type=yN}},Lh=class extends Wr{constructor(){super($c),this.type=EN}},LI="[User] Load Regions",kI="[User] Load Regions Success",CN="[User] Load Regions Fail",jI="[User] Clear Regions",kh=class extends ct{constructor(e){super(kc),this.payload=e,this.type=LI}},jh=class extends ut{constructor(e){super(kc,e),this.payload=e,this.type=CN}},Uh=class extends lt{constructor(e){super(kc),this.payload=e,this.type=kI}},$h=class{constructor(){this.type=jI}},UI="[User] Load User Addresses",$I="[User] Load User Addresses Fail",BI="[User] Load User Addresses Success",Qp="[User] Add User Address",SN="[User] Add User Address Fail",VI="[User] Add User Address Success",Jp="[User] Update User Address",IN="[User] Update User Address Fail",HI="[User] Update User Address Success",Xp="[User] Delete User Address",DN="[User] Delete User Address Fail",zI="[User] Delete User Address Success",Bh=class extends ct{constructor(e){super(en),this.payload=e,this.type=UI}},Vh=class extends ut{constructor(e){super(en,e),this.payload=e,this.type=$I}},Hh=class extends lt{constructor(e){super(en),this.payload=e,this.type=BI}},zh=class extends ct{constructor(e){super(en),this.payload=e,this.type=Qp}},Gh=class extends ut{constructor(e){super(en,e),this.payload=e,this.type=SN}},Wh=class extends lt{constructor(e){super(en),this.payload=e,this.type=VI}},Sc=class extends ct{constructor(e){super(en),this.payload=e,this.type=Jp}},qh=class extends ut{constructor(e){super(en,e),this.payload=e,this.type=IN}},Yh=class extends lt{constructor(e){super(en),this.payload=e,this.type=HI}},Kh=class extends ct{constructor(e){super(en),this.payload=e,this.type=Xp}},Zh=class extends ut{constructor(e){super(en,e),this.payload=e,this.type=DN}},Qh=class extends lt{constructor(e){super(en),this.payload=e,this.type=zI}},GI="[User] Load User Consents",WI="[User] Load User Consents Success",bN="[User] Load User Consents Fail",wN="[User] Reset Load User Consents",qI="[User] Give User Consent",TN="[User] Give User Consent Fail",YI="[User] Give User Consent Success",AN="[User] Reset Give User Consent Process",Jh="[User] Transfer Anonymous Consent",KI="[User] Withdraw User Consent",RN="[User] Withdraw User Consent Fail",MN="[User] Withdraw User Consent Success",xN="[User] Reset Withdraw User Consent Process",Xh=class extends ct{constructor(e){super(Lc),this.payload=e,this.type=GI}},ep=class extends ut{constructor(e){super(Lc,e),this.payload=e,this.type=bN}},tp=class extends lt{constructor(e){super(Lc),this.payload=e,this.type=WI}},Ic=class extends Wr{constructor(){super(Lc),this.type=wN}},Dc=class extends _t{constructor(e){super(ae,ls),this.payload=e,this.type=qI}},np=class extends Tt{constructor(e){super(ae,ls,e),this.type=TN}},rp=class extends dt{constructor(e){super(ae,ls),this.consentTemplate=e,this.type=YI}},ip=class extends Fn{constructor(){super(ae,ls),this.type=AN}},sp=class{constructor(e){this.payload=e,this.type=Jh}},op=class extends _t{constructor(e){super(ae,ds),this.payload=e,this.type=KI}},ap=class extends Tt{constructor(e){super(ae,ds,e),this.type=RN}},cp=class extends dt{constructor(){super(ae,ds),this.type=MN}},up=class extends Fn{constructor(){super(ae,ds),this.type=xN}},ZI="[User] Load Active CostCenters",QI="[User] Load Active CostCenters Fail",JI="[User] Load Active CostCenters Success",KC=class extends ct{constructor(e){super(Zp),this.payload=e,this.type=ZI}},lp=class extends ut{constructor(e){super(Zp,e),this.payload=e,this.type=QI}},dp=class extends lt{constructor(e){super(Zp),this.payload=e,this.type=JI}},Bc="[User] Clear User Misc Data",fp=class{constructor(){this.type=Bc}},XI="[User] Register User Success",ZC=class extends dt{constructor(){super(ae,T3),this.type=XI}},Fce=Object.freeze({__proto__:null,ADD_PRODUCT_INTEREST:_I,ADD_PRODUCT_INTEREST_FAIL:gN,ADD_PRODUCT_INTEREST_RESET:vN,ADD_PRODUCT_INTEREST_SUCCESS:mN,ADD_USER_ADDRESS:Qp,ADD_USER_ADDRESS_FAIL:SN,ADD_USER_ADDRESS_SUCCESS:VI,AddProductInterest:Oh,AddProductInterestFail:Ph,AddProductInterestSuccess:Nh,AddUserAddress:zh,AddUserAddressFail:Gh,AddUserAddressSuccess:Wh,CLAIM_CUSTOMER_COUPON:vI,CLAIM_CUSTOMER_COUPON_FAIL:eN,CLAIM_CUSTOMER_COUPON_SUCCESS:tN,CLEAR_NOTIFICATION_PREFERENCES:cN,CLEAR_PRODUCT_INTERESTS:EN,CLEAR_REGIONS:jI,CLEAR_USER_MISCS_DATA:Bc,ClaimCustomerCoupon:eh,ClaimCustomerCouponFail:sh,ClaimCustomerCouponSuccess:oh,ClearNotificationPreferences:vh,ClearProductInterests:Lh,ClearRegions:$h,ClearUserMiscsData:fp,DELETE_USER_ADDRESS:Xp,DELETE_USER_ADDRESS_FAIL:DN,DELETE_USER_ADDRESS_SUCCESS:zI,DELETE_USER_PAYMENT_METHOD:xI,DELETE_USER_PAYMENT_METHOD_FAIL:dN,DELETE_USER_PAYMENT_METHOD_SUCCESS:fN,DISCLAIM_CUSTOMER_COUPON:yI,DISCLAIM_CUSTOMER_COUPON_FAIL:nN,DISCLAIM_CUSTOMER_COUPON_SUCCESS:rN,DeleteUserAddress:Kh,DeleteUserAddressFail:Zh,DeleteUserAddressSuccess:Qh,DeleteUserPaymentMethod:Dh,DeleteUserPaymentMethodFail:bh,DeleteUserPaymentMethodSuccess:wh,DisclaimCustomerCoupon:th,DisclaimCustomerCouponFail:rh,DisclaimCustomerCouponSuccess:ih,GIVE_USER_CONSENT:qI,GIVE_USER_CONSENT_FAIL:TN,GIVE_USER_CONSENT_SUCCESS:YI,GiveUserConsent:Dc,GiveUserConsentFail:np,GiveUserConsentSuccess:rp,LOAD_ACTIVE_COST_CENTERS:ZI,LOAD_ACTIVE_COST_CENTERS_FAIL:QI,LOAD_ACTIVE_COST_CENTERS_SUCCESS:JI,LOAD_BILLING_COUNTRIES:uI,LOAD_BILLING_COUNTRIES_FAIL:WO,LOAD_BILLING_COUNTRIES_SUCCESS:lI,LOAD_CUSTOMER_COUPONS:dI,LOAD_CUSTOMER_COUPONS_FAIL:YO,LOAD_CUSTOMER_COUPONS_SUCCESS:fI,LOAD_DELIVERY_COUNTRIES:EI,LOAD_DELIVERY_COUNTRIES_FAIL:sN,LOAD_DELIVERY_COUNTRIES_SUCCESS:CI,LOAD_NOTIFICATION_PREFERENCES:SI,LOAD_NOTIFICATION_PREFERENCES_FAIL:II,LOAD_NOTIFICATION_PREFERENCES_SUCCESS:DI,LOAD_PRODUCT_INTERESTS:OI,LOAD_PRODUCT_INTERESTS_FAIL:NI,LOAD_PRODUCT_INTERESTS_SUCCESS:PI,LOAD_REGIONS:LI,LOAD_REGIONS_FAIL:CN,LOAD_REGIONS_SUCCESS:kI,LOAD_USER_ADDRESSES:UI,LOAD_USER_ADDRESSES_FAIL:$I,LOAD_USER_ADDRESSES_SUCCESS:BI,LOAD_USER_CONSENTS:GI,LOAD_USER_CONSENTS_FAIL:bN,LOAD_USER_CONSENTS_SUCCESS:WI,LOAD_USER_PAYMENT_METHODS:TI,LOAD_USER_PAYMENT_METHODS_FAIL:AI,LOAD_USER_PAYMENT_METHODS_SUCCESS:RI,LoadActiveCostCenters:KC,LoadActiveCostCentersFail:lp,LoadActiveCostCentersSuccess:dp,LoadBillingCountries:Vf,LoadBillingCountriesFail:Hf,LoadBillingCountriesSuccess:zf,LoadCustomerCoupons:Gf,LoadCustomerCouponsFail:Wf,LoadCustomerCouponsSuccess:qf,LoadDeliveryCountries:ah,LoadDeliveryCountriesFail:ch,LoadDeliveryCountriesSuccess:uh,LoadNotificationPreferences:lh,LoadNotificationPreferencesFail:dh,LoadNotificationPreferencesSuccess:fh,LoadProductInterests:Lo,LoadProductInterestsFail:Th,LoadProductInterestsSuccess:Ah,LoadRegions:kh,LoadRegionsFail:jh,LoadRegionsSuccess:Uh,LoadUserAddresses:Bh,LoadUserAddressesFail:Vh,LoadUserAddressesSuccess:Hh,LoadUserConsents:Xh,LoadUserConsentsFail:ep,LoadUserConsentsSuccess:tp,LoadUserPaymentMethods:_o,LoadUserPaymentMethodsFail:yh,LoadUserPaymentMethodsSuccess:Eh,REGISTER_USER_SUCCESS:XI,REMOVE_PRODUCT_INTEREST:FI,REMOVE_PRODUCT_INTEREST_FAIL:pN,REMOVE_PRODUCT_INTEREST_RESET:yN,REMOVE_PRODUCT_INTEREST_SUCCESS:hN,RESET_DISCLAIM_CUSTOMER_COUPON:iN,RESET_GIVE_USER_CONSENT_PROCESS:AN,RESET_LOAD_CUSTOMER_COUPONS:KO,RESET_LOAD_USER_CONSENTS:wN,RESET_NOTIFICATION_PREFERENCES:aN,RESET_SUBSCRIBE_CUSTOMER_COUPON_PROCESS:QO,RESET_UNSUBSCRIBE_CUSTOMER_COUPON_PROCESS:XO,RESET_WITHDRAW_USER_CONSENT_PROCESS:xN,RegisterUserSuccess:ZC,RemoveProductInterest:Rh,RemoveProductInterestFail:xh,RemoveProductInterestSuccess:Mh,ResetAddInterestState:Fh,ResetDisclaimCustomerCoupon:nh,ResetGiveUserConsentProcess:ip,ResetLoadCustomerCoupons:WC,ResetLoadUserConsents:Ic,ResetNotificationPreferences:mh,ResetRemoveInterestState:_h,ResetSubscribeCustomerCouponProcess:qC,ResetUnsubscribeCustomerCouponProcess:YC,ResetWithdrawUserConsentProcess:up,SET_DEFAULT_USER_PAYMENT_METHOD:MI,SET_DEFAULT_USER_PAYMENT_METHOD_FAIL:uN,SET_DEFAULT_USER_PAYMENT_METHOD_SUCCESS:lN,SUBSCRIBE_CUSTOMER_COUPON:hI,SUBSCRIBE_CUSTOMER_COUPON_FAIL:ZO,SUBSCRIBE_CUSTOMER_COUPON_SUCCESS:pI,SetDefaultUserPaymentMethod:Ch,SetDefaultUserPaymentMethodFail:Sh,SetDefaultUserPaymentMethodSuccess:Ih,SubscribeCustomerCoupon:Yf,SubscribeCustomerCouponFail:Kf,SubscribeCustomerCouponSuccess:Zf,TRANSFER_ANONYMOUS_CONSENT:Jh,TransferAnonymousConsent:sp,UNSUBSCRIBE_CUSTOMER_COUPON:gI,UNSUBSCRIBE_CUSTOMER_COUPON_FAIL:JO,UNSUBSCRIBE_CUSTOMER_COUPON_SUCCESS:mI,UPDATE_NOTIFICATION_PREFERENCES:bI,UPDATE_NOTIFICATION_PREFERENCES_FAIL:oN,UPDATE_NOTIFICATION_PREFERENCES_SUCCESS:wI,UPDATE_USER_ADDRESS:Jp,UPDATE_USER_ADDRESS_FAIL:IN,UPDATE_USER_ADDRESS_SUCCESS:HI,UnsubscribeCustomerCoupon:Qf,UnsubscribeCustomerCouponFail:Jf,UnsubscribeCustomerCouponSuccess:Xf,UpdateNotificationPreferences:hh,UpdateNotificationPreferencesFail:ph,UpdateNotificationPreferencesSuccess:gh,UpdateUserAddress:Sc,UpdateUserAddressFail:qh,UpdateUserAddressSuccess:Yh,WITHDRAW_USER_CONSENT:KI,WITHDRAW_USER_CONSENT_FAIL:RN,WITHDRAW_USER_CONSENT_SUCCESS:MN,WithdrawUserConsent:op,WithdrawUserConsentFail:ap,WithdrawUserConsentSuccess:cp}),hp=class{},A3=(()=>{let e=class e{constructor(n){this.adapter=n}loadAnonymousConsentTemplates(){return this.adapter.loadAnonymousConsentTemplates()}loadAnonymousConsents(){return this.adapter.loadAnonymousConsents()}};e.\u0275fac=function(r){return new(r||e)(d(hp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pp=class{},gp=class{},QC=new S("CmsPageNormalizer"),R3="JspIncludeComponent",M3="CMSFlexComponent";var x3=function(t){return t.DEFER="DEFERRED-LOADING",t.INSTANT="INSTANT-LOADING",t}(x3||{}),eD=(()=>{let e=class e extends yr{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})(),Hr=function(t){return t.INDEX="INDEX",t.NOINDEX="NOINDEX",t.FOLLOW="FOLLOW",t.NOFOLLOW="NOFOLLOW",t}(Hr||{}),bo;(function(t){let e;(function(g){g.INDEX_FOLLOW="INDEX_FOLLOW",g.NOINDEX_FOLLOW="NOINDEX_FOLLOW",g.INDEX_NOFOLLOW="INDEX_NOFOLLOW",g.NOINDEX_NOFOLLOW="NOINDEX_NOFOLLOW"})(e=t.PageRobots||(t.PageRobots={}));let i;(function(g){g.Success="SUCCESS",g.Info="INFO",g.Warning="WARNING",g.Error="ERROR"})(i=t.OrderEntryStatus||(t.OrderEntryStatus={}));let n;(function(g){g.BUY="BUY",g.FROM="FROM"})(n=t.PriceType||(t.PriceType={}));let r;(function(g){g.PRIMARY="PRIMARY",g.GALLERY="GALLERY"})(r=t.ImageType||(t.ImageType={}));let s;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(s=t.Fields||(t.Fields={}));let o;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(o=t.Fields1||(t.Fields1={}));let a;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(a=t.Fields2||(t.Fields2={}));let c;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(c=t.Fields3||(t.Fields3={}));let u;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(u=t.Fields4||(t.Fields4={}));let l;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(l=t.Fields5||(t.Fields5={}));let f;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(f=t.Fields6||(t.Fields6={}));let h;(function(g){g.CONTENT_PAGE="ContentPage",g.PRODUCT_PAGE="ProductPage",g.CATEGORY_PAGE="CategoryPage",g.CATALOG_PAGE="CatalogPage"})(h=t.PageType||(t.PageType={}));let p;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(p=t.Fields7||(t.Fields7={}));let y;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(y=t.Fields8||(t.Fields8={}));let b;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(b=t.Fields9||(t.Fields9={}));let w;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(w=t.Fields10||(t.Fields10={}));let R;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(R=t.Fields11||(t.Fields11={}));let V;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(V=t.Fields12||(t.Fields12={}));let k;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(k=t.Fields13||(t.Fields13={}));let H;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(H=t.Fields14||(t.Fields14={}));let te;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(te=t.Fields15||(t.Fields15={}));let ue;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ue=t.Fields16||(t.Fields16={}));let fe;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(fe=t.SortEnum||(t.SortEnum={}));let Ne;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Ne=t.Fields17||(t.Fields17={}));let Ai;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Ai=t.Fields18||(t.Fields18={}));let Bn;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Bn=t.Fields19||(t.Fields19={}));let D;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(D=t.Fields20||(t.Fields20={}));let N;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(N=t.Fields21||(t.Fields21={}));let ne;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ne=t.Fields22||(t.Fields22={}));let ye;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ye=t.Fields23||(t.Fields23={}));let we;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(we=t.Fields24||(t.Fields24={}));let de;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(de=t.Fields25||(t.Fields25={}));let Sr;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Sr=t.Fields26||(t.Fields26={}));let ft;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ft=t.Fields27||(t.Fields27={}));let He;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(He=t.Fields28||(t.Fields28={}));let tn;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(tn=t.Fields29||(t.Fields29={}));let Kc;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Kc=t.Fields30||(t.Fields30={}));let KP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(KP=t.Fields31||(t.Fields31={}));let ZP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ZP=t.Fields32||(t.Fields32={}));let QP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(QP=t.Fields33||(t.Fields33={}));let JP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(JP=t.Fields34||(t.Fields34={}));let XP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(XP=t.Fields35||(t.Fields35={}));let eF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(eF=t.Fields36||(t.Fields36={}));let tF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(tF=t.Fields37||(t.Fields37={}));let nF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(nF=t.Fields38||(t.Fields38={}));let rF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(rF=t.Fields39||(t.Fields39={}));let iF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(iF=t.Fields40||(t.Fields40={}));let sF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(sF=t.Fields41||(t.Fields41={}));let oF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(oF=t.Fields42||(t.Fields42={}));let aF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(aF=t.Fields43||(t.Fields43={}));let cF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(cF=t.Fields44||(t.Fields44={}));let uF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(uF=t.Fields45||(t.Fields45={}));let lF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(lF=t.Fields46||(t.Fields46={}));let dF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(dF=t.Fields47||(t.Fields47={}));let fF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(fF=t.Fields48||(t.Fields48={}));let hF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(hF=t.Fields49||(t.Fields49={}));let pF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(pF=t.Fields50||(t.Fields50={}));let gF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(gF=t.Fields51||(t.Fields51={}));let mF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(mF=t.Fields52||(t.Fields52={}));let vF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(vF=t.Fields53||(t.Fields53={}));let yF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(yF=t.Fields54||(t.Fields54={}));let EF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(EF=t.Fields55||(t.Fields55={}));let CF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(CF=t.Fields56||(t.Fields56={}));let SF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(SF=t.Fields57||(t.Fields57={}));let IF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(IF=t.Fields58||(t.Fields58={}));let DF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(DF=t.Fields59||(t.Fields59={}));let bF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(bF=t.Fields60||(t.Fields60={}));let wF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(wF=t.Fields61||(t.Fields61={}));let TF;(function(g){g.All="all",g.Product="product",g.Order="order"})(TF=t.Type||(t.Type={}));let AF;(function(g){g.ANONYMOUS_CONSENT_GIVEN="GIVEN",g.ANONYMOUS_CONSENT_WITHDRAWN="WITHDRAWN"})(AF=t.CONSENT_STATUS||(t.CONSENT_STATUS={}));let RF;(function(g){g.BACK_IN_STOCK="BACK_IN_STOCK"})(RF=t.NotificationType||(t.NotificationType={}));let MF;(function(g){g.DAY="DAY",g.WEEK="WEEK",g.MONTH="MONTH",g.QUARTER="QUARTER",g.YEAR="YEAR"})(MF=t.Period||(t.Period={}));let xF;(function(g){g.MONDAY="MONDAY",g.TUESDAY="TUESDAY",g.WEDNESDAY="WEDNESDAY",g.THURSDAY="THURSDAY",g.FRIDAY="FRIDAY",g.SATURDAY="SATURDAY",g.SUNDAY="SUNDAY"})(xF=t.DaysOfWeek||(t.DaysOfWeek={}));let OF;(function(g){g.APPROVE="APPROVE",g.REJECT="REJECT"})(OF=t.OrderApprovalDecisionValue||(t.OrderApprovalDecisionValue={}))})(bo||(bo={}));var O3=(()=>{let e=class e{convert(n,r={}){return this.normalizePageData(n,r),this.normalizePageSlotData(n,r),this.normalizePageComponentData(n,r),this.normalizeComponentData(n,r),r}normalizePageData(n,r){if(!n)return;let s={};n.name&&(s.name=n.name),n.typeCode&&(s.type=n.typeCode),n.label&&(s.label=n.label),n.template&&(s.template=n.template),n.uid&&(s.pageId=n.uid),n.title&&(s.title=n.title),n.description&&(s.description=n.description),n.properties&&(s.properties=n.properties),this.normalizeRobots(n,s),r.page=s}normalizePageSlotData(n,r){if(n?.contentSlots){n.contentSlots.contentSlot&&!Array.isArray(n.contentSlots.contentSlot)&&(n.contentSlots.contentSlot=[n.contentSlots.contentSlot]),r.page=r.page??{},r.page.slots={};for(let s of n.contentSlots.contentSlot??[])s.position&&(r.page.slots[s.position]={},s.properties&&(r.page.slots[s.position].properties=s.properties))}}normalizePageComponentData(n,r){if(n?.contentSlots?.contentSlot){for(let s of n.contentSlots.contentSlot)if(Array.isArray(s.components?.component))for(let o of s.components?.component??[]){let a={uid:o.uid,typeCode:o.typeCode,flexType:this.getFlexTypeFromComponent(o),properties:this.getComponentProperties(o.properties)};if(s.position){let c=r.page?.slots?.[s.position];c&&(c.components||(c.components=[]),c.components.push(a))}}}}getComponentProperties(n){return n||void 0}getFlexTypeFromComponent(n){return n.typeCode===M3?n.flexType:n.typeCode===R3?n.uid:n.typeCode}normalizeComponentData(n,r){if(n?.contentSlots?.contentSlot)for(let s of n.contentSlots.contentSlot)for(let o of s.components?.component??[])o.modifiedtime&&(o.modifiedTime=o.modifiedtime,delete o.modifiedtime),o.properties&&(o.properties=void 0),r.components||(r.components=[]),r.components.push(o)}normalizeRobots(n,r){let s=[];if(n.robotTag)switch(n.robotTag){case bo.PageRobots.INDEX_FOLLOW:s.push(Hr.INDEX),s.push(Hr.FOLLOW);break;case bo.PageRobots.NOINDEX_FOLLOW:s.push(Hr.NOINDEX),s.push(Hr.FOLLOW);break;case bo.PageRobots.INDEX_NOFOLLOW:s.push(Hr.INDEX),s.push(Hr.NOFOLLOW);break;case bo.PageRobots.NOINDEX_NOFOLLOW:s.push(Hr.NOINDEX),s.push(Hr.NOFOLLOW);break}r.robots=s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lf=new S("CmsComponentNormalizer"),N3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})();function ON(t){return typeof t=="object"&&!!t.features}function Dx(t,e){if(t==="*")return!0;let i=t.split("."),n=e.split(".");for(let r=0;r<n.length;r++){let s=Number(n[r]),o=Number(i[r])||0;if(s!==o)return o>s}return!0}function NN(t,e){return ON(t)&&t.features.level?e.startsWith("!")?!Dx(t.features.level,e.substring(1)):Dx(t.features.level,e):!1}function PN(t,e){if(ON(t)){let i=e[0]==="!"?t.features[e.substring(1)]:t.features[e],n=typeof i=="string"?NN(t,i):i;return e.startsWith("!")?!n:!!n}return!1}var eg=(()=>{let e=class e{constructor(n){this.config=n}isLevel(n){return NN(this.config,n)}isEnabled(n){return PN(this.config,n)}};e.\u0275fac=function(r){return new(r||e)(d(N3))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _ce=(()=>{let e=class e{constructor(n,r,s){this.templateRef=n,this.viewContainer=r,this.featureConfig=s,this.hasView=!1}set cxFeature(n){this.featureConfig.isEnabled(n)&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isEnabled(n)&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}};e.\u0275fac=function(r){return new(r||e)(X(Rn),X(Bt),X(eg))},e.\u0275dir=Ot({type:e,selectors:[["","cxFeature",""]],inputs:{cxFeature:"cxFeature"}});let t=e;return t})(),Lce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>Object.assign({},C(FN),C(_N)),providedIn:"root"});let t=e;return t})(),FN=new S("DefaultFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...C(kN,{optional:!0})??[])}),_N=new S("RootFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...C(LN,{optional:!0})??[])}),LN=new S("FeatureTogglesChunk",{providedIn:"root",factory:()=>[]}),kN=new S("DefaultFeatureTogglesChunk",{providedIn:"root",factory:()=>[]});function kce(t={}){return{provide:LN,useValue:t,multi:!0}}function P3(t={}){return{provide:kN,useValue:t,multi:!0}}var F3={formErrorsDescriptiveMessages:!0,showSearchingCustomerByOrderInASM:!1,showStyleChangesInASM:!1,shouldHideAddToCartForUnpurchasableProducts:!1,useExtractedBillingAddressComponent:!1,showBillingAddressInDigitalPayments:!1,showDownloadProposalButton:!1,showPromotionsInPDP:!1,recentSearches:!1,pdfInvoicesSortByInvoiceDate:!1,storeFrontLibCardParagraphTruncated:!1,productConfiguratorAttributeTypesV2:!1,a11yRequiredAsterisks:!1,a11yQuantityOrderTabbing:!1,a11yNavigationUiKeyboardControls:!1,a11yOrderConfirmationHeadingOrder:!1,a11yStarRating:!1,a11yViewChangeAssistiveMessage:!1,a11yReorderDialog:!1,a11yPopoverFocus:!1,a11yScheduleReplenishment:!1,a11yScrollToTop:!1,a11ySavedCartsZoom:!1,a11ySortingOptionsTruncation:!1,a11yExpandedFocusIndicator:!1,a11yCheckoutDeliveryFocus:!1,a11yMobileVisibleFocus:!1,a11yOrganizationsBanner:!1,a11yOrganizationListHeadingOrder:!1,a11yReplenishmentOrderFieldset:!1,a11yListOversizedFocus:!1,a11yStoreFinderOverflow:!1,a11yCartSummaryHeadingOrder:!1,a11ySearchBoxMobileFocus:!1,a11yFacetKeyboardNavigation:!1,a11yUnitsListKeyboardControls:!1,a11yCartItemsLinksStyles:!1,a11yHideSelectBtnForSelectedAddrOrPayment:!1,a11yFocusableCarouselControls:!1,cmsGuardsServiceUseGuardsComposer:!1,cartQuickOrderRemoveListeningToFailEvent:!1,a11yKeyboardAccessibleZoom:!1,a11yOrganizationLinkableCells:!1,a11yVisibleFocusOverflows:!1,a11yTruncatedTextForResponsiveView:!1,a11ySemanticPaginationLabel:!1,a11yPreventCartItemsFormRedundantRecreation:!1,a11yPreventSRFocusOnHiddenElements:!1,a11yMyAccountLinkOutline:!1,a11yCloseProductImageBtnFocus:!1,a11yNotificationPreferenceFieldset:!1,a11yImproveContrast:!1,a11yEmptyWishlistHeading:!1,a11yScreenReaderBloatFix:!1,a11yUseButtonsForBtnLinks:!1,a11yNotificationsOnConsentChange:!1,a11yDisabledCouponAndQuickOrderActionButtonsInsteadOfRequiredFields:!1,a11yFacetsDialogFocusHandling:!1,a11yStoreFinderAlerts:!1,a11yFormErrorMuteIcon:!1,a11yCxMessageFocus:!1,a11yLinkBtnsToTertiaryBtns:!1,a11yDeliveryModeRadiogroup:!1,a11yNgSelectMobileReadout:!1,occCartNameAndDescriptionInHttpRequestBody:!1,cmsBottomHeaderSlotUsingFlexStyles:!1};function _3(t,e){return()=>t.initialize(e)}var L3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:kO,useValue:!0},{provide:bt,multi:!0,useFactory:_3,deps:[_n,[new un,Yp]]},{provide:cI,useFactory:()=>{let n=C(_n);return()=>Yn(n.getStable())},multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();function k3(t,e){let i=C(J);return()=>{ge()&&t.getStable().subscribe(n=>o3(n,e||[],i))}}var j3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:bt,multi:!0,useFactory:k3,deps:[_n,[new un,jO]]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),df={},JC=class{constructor(e,i){this.mainInjector=e,this.complementaryInjectors=i}get(e,i,n){if(n&&n.self){if(i!==void 0)return i;throw new Error("CombinedInjector should be used as a parent injector / doesn't support self dependencies")}for(let r of this.complementaryInjectors){let s=r.get(e,df,{self:!0});if(s!==df)return s}for(let r of this.complementaryInjectors){let s=r.get(e,df);if(s!==df)return s}return this.mainInjector.get(e,i)}},sC=(()=>{let e=class e extends Yr{};e.type="ModuleInitializedEvent";let t=e;return t})(),jN=new S("MODULE_INITIALIZER"),tD=(()=>{let e=class e{constructor(n,r,s){this.compiler=n,this.injector=r,this.events=s,this.logger=C(J),this.modules$=bu(this.events.get(sC).pipe(E(o=>o.moduleRef)),{connector:()=>new sn,resetOnDisconnect:!1}),this.dependencyModules=new Map,this.eventSubscription=this.modules$.connect()}resolveModuleInstance(n,r,s=[]){let o;return s.length?s.length===1?o=s[0].injector:o=new JC(this.injector,s.map(a=>a.injector)):o=this.injector,this.resolveModuleFactory(n).pipe(E(([a])=>a.create(o)),je(a=>this.runModuleInitializersForModule(a)),L(a=>this.events.dispatch(Ii(sC,{feature:r,moduleRef:a}))))}resolveDependencyModuleInstance(n){return this.resolveModuleFactory(n).pipe(E(([r,s])=>{if(!this.dependencyModules.has(s)){let o=r.create(this.injector);this.dependencyModules.set(s,o)}return this.dependencyModules.get(s)}),je(r=>this.runModuleInitializersForModule(r)),L(r=>this.events.dispatch(Ii(sC,{moduleRef:r}))))}runModuleInitializersForModule(n){let r=n.injector.get(jN,[],{self:!0}),s=this.runModuleInitializerFunctions(r);return s.length?he(Promise.all(s)).pipe(L({error:o=>{this.logger.error("MODULE_INITIALIZER promise was rejected while lazy loading a module.",o)}}),O(()=>I(n))):I(n)}runModuleInitializerFunctions(n){let r=[];try{if(n)for(let s=0;s<n.length;s++){let o=n[s]();this.isObjectPromise(o)&&r.push(o)}return r}catch(s){throw this.logger.error("MODULE_INITIALIZER init function throwed an error. ",s),s}}isObjectPromise(n){return!!n&&typeof n.then=="function"}resolveModuleFactory(n){return he(n()).pipe(O(r=>r instanceof Wi?I([r,r]):Pe([he(this.compiler.compileModuleAsync(r)),I(r)])),nn(ti))}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.dependencyModules.forEach(n=>n.destroy())}};e.\u0275fac=function(r){return new(r||e)(d(to),d(Ye),d(Es))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bx={},Vc=(()=>{let e=class e{constructor(n,r){this.rootInjector=n,this.lazyModules=r,this.injectors$=this.lazyModules.modules$.pipe(E(s=>s.injector),Gn(this.rootInjector))}get(n,r){return this.injectors$.pipe(E((s,o)=>s.get(n,r??bx,o?{self:!0}:void 0)),x(s=>s!==bx))}getMulti(n){return this.get(n,[]).pipe(x(r=>{if(!Array.isArray(r))throw new Error(`Multi-providers mixed with single providers for ${n.toString()}!`);return r.length>0}),Fi((r,s)=>[...r,...s],[]))}};e.\u0275fac=function(r){return new(r||e)(d(Ye),d(tD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),U3=(()=>{let e=class e{constructor(n,r,s,o){this.rootConfig=n,this.defaultConfig=r,this.unifiedInjector=s,this.ambientDefaultConfig={},this.ambientConfig={},this.config=o,this.unifiedConfig$=new Te(o),this.subscription=this.feedUnifiedConfig().subscribe()}feedUnifiedConfig(){let n=this.unifiedInjector.get(wc,[]),r=this.unifiedInjector.get(jo,[]);return Ni(n,r).pipe(Pg(1),L(([s,o])=>this.processConfig(s,o)))}processConfig(n,r){r?.length&&yt(this.ambientDefaultConfig,...r),n.length&&yt(this.ambientConfig,...n),(n.length||r.length)&&this.emitUnifiedConfig()}emitUnifiedConfig(){let n=yt({},this.defaultConfig,this.ambientDefaultConfig,this.ambientConfig,this.rootConfig);this.unifiedConfig$.next(n),PN(this.config,"disableConfigUpdates")||yt(this.config,n)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.unifiedConfig$.complete()}};e.\u0275fac=function(r){return new(r||e)(d(xS),d($x),d(Vc),d(Lt))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UN=(()=>{let e=class e{constructor(n){}static withConfig(n){return{ngModule:e,providers:[px(n)]}}static withConfigFactory(n,r){return{ngModule:e,providers:[gf(n,r)]}}static forRoot(n={}){return{ngModule:e,providers:[px(n)]}}};e.\u0275fac=function(r){return new(r||e)(d(U3))},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();function $3(t,e){let n=new RegExp("(?:^|;\\s*)"+e+"=([^;]*)","g").exec(t);return n&&decodeURIComponent(n[1])||""}var B3=new S("TEST_CONFIG_COOKIE_NAME"),jce=new S("TEST_CONFIG",{providedIn:"root",factory:()=>{let t=C(B3),e=C($e),i=C(_e);if(On(e)&&t){let n=$3(i.cookie,t);return V3(n)}return{}}});function V3(t){try{return JSON.parse(decodeURIComponent(t))}catch{return{}}}var H3=[gf(()=>{let t=C(_N);return{features:v({},t)}}),Uo(()=>{let t=C(FN);return{features:v({},t)}})],$N=(()=>{let e=class e{constructor(){this.rendererFactory=C(Gi),this.featureConfig=C(eg),this.logger=C(J),this.CSS_FEATURE_FLAG_PREFIX="cxFeat_",this.renderer=this.rendererFactory.createRenderer(null,null),this.usagesCounter=new Map}init(n){this.rootElement=n.location.nativeElement;for(let[r,s]of this.usagesCounter.entries())s>0&&this.addClass(r)}registerUsage(n){let r=this.usagesCounter.get(n)??0;this.isEnabled(n)&&r===0&&this.addClass(n),this.usagesCounter.set(n,r+1)}unregisterUsage(n){let r=this.usagesCounter.get(n)??0;r===0&&ge()&&this.logger.warn(`Feature flag CSS: "${n}" is already not used, so it cannot be unregistered.`),this.isEnabled(n)&&r===1&&this.removeClass(n),this.usagesCounter.set(n,Math.max(r-1,0))}isEnabled(n){return this.featureConfig.isEnabled(n)}addClass(n){let r=this.getCssClass(n);!this.rootElement||!r||this.renderer.addClass(this.rootElement,r)}removeClass(n){let r=this.getCssClass(n);!this.rootElement||!r||this.renderer.removeClass(this.rootElement,r)}getCssClass(n){return this.featureConfig.isEnabled(n)?`${this.CSS_FEATURE_FLAG_PREFIX}${n}`:void 0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z3=(()=>{let e=class e{static forRoot(n="3.0"){return{ngModule:e,providers:[P3(F3),...H3,Ln({features:{level:n||"*"}}),{provide:eo,multi:!0,useFactory:()=>{let r=C($N);return s=>r.init(s)}}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();function G3(t){Ca(G3);let e=C($N),i=C(fi);e.registerUsage(t),i.onDestroy(()=>e.unregisterUsage(t))}function mp(t){let e;return t.subscribe(i=>e=i).unsubscribe(),e}var Je=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.subscriptions=new Ee,this.converters=new Map;let r=this.unifiedInjector.injectors$.pipe(L(()=>this.converters.clear()));this.subscriptions.add(r.subscribe())}getConverters(n){if(!this.converters.has(n)){let r=mp(this.unifiedInjector.getMulti(n));r&&this.converters.set(n,r)}return this.converters.get(n)}hasConverters(n){let r=this.getConverters(n);return Array.isArray(r)&&r.length>0}pipeable(n){return this.hasConverters(n)?E(r=>this.convertSource(r,n)):r=>r}pipeableMany(n){return this.hasConverters(n)?E(r=>this.convertMany(r,n)):r=>r}convert(n,r){return this.hasConverters(r)?this.convertSource(n,r):n}convertMany(n,r){return this.hasConverters(r)&&Array.isArray(n)?n.map(s=>this.convertSource(s,r)):n}convertSource(n,r){return this.getConverters(r)?.reduce((s,o)=>o.convert(n,s),void 0)}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Vc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),W3=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.userIdService=C(jn),this.featureConfigService=C(eg),this.headers=new le().set("Content-Type","application/json")}load(n,r){return this.featureConfigService.isEnabled(Do)?this.userIdService.getUserId().pipe(O(s=>this.http.get(this.getComponentEndPoint(n,r,s),{headers:this.headers})),this.converter.pipeable(lf)):this.http.get(this.getComponentEndPoint(n,r),{headers:this.headers}).pipe(this.converter.pipeable(lf))}findComponentsByIds(n,r,s="DEFAULT",o=0,a=n.length,c){let u=v(v({},this.getContextParams(r)),this.getPaginationParams(o,a,c));return u.componentIds=n.toString(),this.featureConfigService.isEnabled(Do)?this.userIdService.getUserId().pipe(O(l=>this.http.get(this.getComponentsEndpoint(u,s,l),{headers:this.headers})),E(l=>l.component??[]),this.converter.pipeableMany(lf)):this.http.get(this.getComponentsEndpoint(u,s),{headers:this.headers}).pipe(E(l=>l.component??[]),this.converter.pipeableMany(lf))}getComponentEndPoint(n,r,s){if(this.featureConfigService.isEnabled(Do)){let o=this.getContextParams(r),a=s?{urlParams:{id:n,userId:s},queryParams:o}:{urlParams:{id:n},queryParams:o};return this.occEndpoints.buildUrl("component",a)}return this.occEndpoints.buildUrl("component",{urlParams:{id:n},queryParams:this.getContextParams(r)})}getComponentsEndpoint(n,r,s){if(this.featureConfigService.isEnabled(Do)){let o=v({fields:r},n),a=s?{urlParams:{userId:s},queryParams:o}:{queryParams:o};return this.occEndpoints.buildUrl("components",a)}return this.occEndpoints.buildUrl("components",{queryParams:v({fields:r},n)})}getPaginationParams(n,r,s){let o={};return n!==void 0&&(o.currentPage=n.toString()),r!==void 0&&(o.pageSize=r.toString()),s!==void 0&&(o.sort=s),o}getContextParams(n){let r={};switch(n.type){case be.PRODUCT_PAGE:{r={productCode:n.id};break}case be.CATEGORY_PAGE:{r={categoryCode:n.id};break}case be.CATALOG_PAGE:{r={catalogCode:n.id};break}}return r}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BN="__HOMEPAGE__",VN="smartedit-preview";var q3=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.userIdService=C(jn),this.featureConfigService=C(eg),this.headers=new le().set("Content-Type","application/json")}load(n){let r=this.getPagesRequestParams(n);if(this.featureConfigService.isEnabled(Do))return this.userIdService.getUserId().pipe(O(o=>{let a=n.type?this.occEndpoints.buildUrl("pages",{urlParams:{userId:o},queryParams:r}):this.occEndpoints.buildUrl("page",{urlParams:{id:n.id,userId:o}});return this.http.get(a,{headers:this.headers})}),this.converter.pipeable(QC));let s=n.type?this.occEndpoints.buildUrl("pages",{queryParams:r}):this.occEndpoints.buildUrl("page",{urlParams:{id:n.id}});return this.http.get(s,{headers:this.headers}).pipe(this.converter.pipeable(QC))}getPagesRequestParams(n){if(n.id===BN||n.id===VN)return{};let r={};return n.type&&(r.pageType=n.type),n.type===be.CONTENT_PAGE?r.pageLabelOrId=n.id:r.code=n.id,r}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[{provide:gp,useExisting:q3},{provide:QC,useExisting:O3,multi:!0},{provide:pp,useExisting:W3}],imports:[Ze]});let t=e;return t})();var K3=(()=>{let e=class e{convert(n,r){return r===void 0&&(r=v({},n)),r.active=this.normalizeBoolean(n.active),r}normalizeBoolean(n){return n===void 0?!1:typeof n=="string"?n==="true":n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z3=(()=>{let e=class e{convert(n,r){return r===void 0&&(r=v({},n)),r.activeFlag=n.active,delete r.active,r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HN=new S("CostCenterNormalizer"),zN=new S("CostCentersListNormalizer"),Q3=new S("CostCenterSerializer"),J3=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),r.values=n.costCenters.map(s=>v({},this.converter.convert(s,HN))),r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),X3={backend:{occ:{endpoints:{getActiveCostCenters:"/costcenters?fields=DEFAULT,unit(BASIC,addresses(DEFAULT))"}}}},Uce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[{provide:zN,useExisting:J3,multi:!0},{provide:HN,useExisting:K3,multi:!0},{provide:Q3,useExisting:Z3,multi:!0}],imports:[Ze,UN.withConfig(X3)]});let t=e;return t})(),eW=(()=>{let e=class e{constructor(n){this.config=n}convert(n,r){return r===void 0&&(r=v({},n)),n.images&&(r.images=this.normalize(n.images)),r}normalize(n){let r={};if(n)for(let s of n){let o=this.hasGalleryIndex(s);if(s.imageType){r.hasOwnProperty(s.imageType)||(r[s.imageType]=o?[]:{});let a=this.getImageContainer(o,r,s),c=v({},s);c.url=this.normalizeImageUrl(c.url??""),s.format&&(a[s.format]=c)}}return r}getImageContainer(n,r,s){return n?this.getImageGroups(r,s)[s.galleryIndex]:r[s.imageType]}getImageGroups(n,r){let s=n[r.imageType];return s[r.galleryIndex]||(s[r.galleryIndex]={}),s}normalizeImageUrl(n){return new RegExp(/^(http|data:image|\/\/)/i).test(n)?n:(this.config.backend?.media?.baseUrl||this.config.backend?.occ?.baseUrl||"")+n}hasGalleryIndex(n){return(n.galleryIndex??!1)!==!1}};e.\u0275fac=function(r){return new(r||e)(d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ps=new S("ProductNormalizer"),tW=(()=>{let e=class e{constructor(n){this.converterService=n,this.DEFAULT_TOP_VALUES=6}convert(n,r={}){return r=v(v({},r),n),this.normalizeFacets(r),n.products&&(r.products=n.products.map(s=>this.converterService.convert(s,ps))),r}normalizeFacets(n){this.normalizeFacetValues(n),this.normalizeUselessFacets(n)}normalizeUselessFacets(n){n.facets&&(n.facets=n.facets.filter(r=>!n.pagination||!n.pagination.totalResults||(!r.hasOwnProperty("visible")||r.visible)&&r.values&&r.values.find(s=>s.selected||(s.count??0)<(n.pagination?.totalResults??0))))}normalizeFacetValues(n){n.facets&&(n.facets=n.facets.map(r=>{let a=r,{topValues:s}=a,o=dg(a,["topValues"]);return o.topValueCount=s&&s.length>0?s.length:this.DEFAULT_TOP_VALUES,o}))}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r=[]){return r===void 0&&(r=v({},n)),n&&n.references?(r=n.references.map(s=>T(v({},s),{target:this.converter.convert(s.target,ps)})),r):[]}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rW=(()=>{let e=class e{constructor(n){this.config=n,this.reservedSlugCharacters=" !*'();:@&=+$,/?%#[]",this.slugChar="-",this.slugRegex=new RegExp(`[${this.reservedSlugCharacters.split("").join("\\")}]`,"g"),this.sanitizeMultipleSlugChars=new RegExp(`${this.slugChar}+`,"g")}convert(n,r){return r=r??v({},n),n.name&&(r.name=this.normalize(n.name),r.slug=this.normalizeSlug(n.name),r.nameHtml=n.name),r}normalize(n){return n.replace(/<[^>]*>/g,"")}normalizeSlug(n){return this.normalize(n).trim().toLowerCase().replace(this.slugRegex,this.slugChar).replace(this.sanitizeMultipleSlugChars,this.slugChar)}};e.\u0275fac=function(r){return new(r||e)(d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GN=new S("ProductReferencesListNormalizer"),iW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}load(n,r,s){return this.http.get(this.getEndpoint(n,r,s)).pipe(this.converter.pipeable(GN))}getEndpoint(n,r,s){return this.occEndpoints.buildUrl("productReferences",{urlParams:{productCode:n},queryParams:{referenceType:r,pageSize:s}})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),sW=new S("ProductReviewNormalizer"),oW=new S("ProductReviewSerializer"),aW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}load(n,r){return this.http.get(this.getEndpoint(n,r)).pipe(E(s=>s.reviews),E(s=>s??[]),this.converter.pipeableMany(sW))}post(n,r){r=this.converter.convert(r,oW);let s=new le({"Content-Type":"application/x-www-form-urlencoded"}),o=new URLSearchParams;return o.append("headline",r.headline),o.append("comment",r.comment),o.append("rating",r.rating.toString()),o.append("alias",r.alias),this.http.post(this.getEndpoint(n),o.toString(),{headers:s})}getEndpoint(n,r){return this.occEndpoints.buildUrl("productReviews",{urlParams:{productCode:n},queryParams:{maxCount:r}})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),WN=new S("ProductSearchPageNormalizer"),cW=new S("ProductSuggestionNormalizer"),qN=new La(()=>({}));function uW(t){let e=t.map(n=>typeof n=="string"?tg(n):n),i=YN(yt({},...e));return KN(i)}function YN(t={}){let e=Object.keys(t);return e.includes("FULL")?(delete t.DEFAULT,delete t.BASIC):e.includes("DEFAULT")&&delete t.BASIC,Object.keys(t).forEach(i=>{t[i]=YN(t[i])}),t}function tg(t,e=0){let i={},n=e;for(;n<t.length;){if(t[n]===",")n>e&&(i[t.substring(e,n)]={}),e=n+1;else if(t[n]==="("){let r=tg(t,n+1);if(!Array.isArray(r))return i;i[t.substring(e,n)]=r[0],e=r[1],n=e-1}else if(t[n]===")")return n>e&&(i[t.substring(e,n)]={}),[i,n+1];n++}return e<t.length&&(i[t.substring(e,n)]={}),i}function KN(t){return Object.keys(t).map(e=>{let i=KN(t[e]);return i?`${e}(${i})`:e}).join(",")}function lW(t,e){let i=typeof e=="string"?tg(e):e;return ZN(t,i)}function ZN(t,e){if(!pf(t))return t;let i=Object.keys(e);if(i.length===0||i.find(r=>r==="BASIC"||r==="DEFAULT"||r==="FULL"))return t;let n={};return i.forEach(r=>{t.hasOwnProperty(r)&&(n[r]=ZN(t[r],e[r]))}),n}var $ce=new S("List of OCC constants that pass for user IDs.",{providedIn:"root",factory:()=>v8}),dW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.router=C(Oe,{optional:!0}),this.DEFAULT_SEARCH_CONFIG={pageSize:20}}search(n,r=this.DEFAULT_SEARCH_CONFIG){let s=new ro().set(qN,{sendUserIdAsHeader:!0});return this.http.get(this.getSearchEndpoint(n,r),{context:s}).pipe(this.converter.pipeable(WN),L(o=>o.keywordRedirectUrl&&this.router?.navigate([o.keywordRedirectUrl])))}loadSuggestions(n,r=3){return this.http.get(this.getSuggestionEndpoint(n,r.toString())).pipe(E(s=>s.suggestions??[]),this.converter.pipeableMany(cW))}getSearchEndpoint(n,r){return this.occEndpoints.buildUrl("productSearch",{queryParams:v({query:n},r)})}getSuggestionEndpoint(n,r){return this.occEndpoints.buildUrl("productSuggestions",{queryParams:{term:n,max:r}})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),fW=(()=>{let e=class e{constructor(n){this.http=n,this.FIELDS_PARAM="fields"}getOptimalUrlGroups(n){let r={};for(let o of n){let[a,c]=this.splitFields(o.url??"");r[a]||(r[a]={}),o.fields=c?tg(c):{},o.scopedData.scope!==void 0&&(r[a][o.scopedData.scope]=o)}let s={};for(let[o,a]of Object.entries(r)){let c=this.getUrlWithFields(o,Object.values(a).map(u=>u.fields));s[c]=a}return s}splitFields(n){let[r,s]=n.split("?"),o={};s&&s.split("&").forEach(u=>{let l=u.split("=");o[l[0]]=l[1]});let c=Object.keys(o).sort().reduce((u,l)=>(l!==this.FIELDS_PARAM&&u.push(o[l]?`${l}=${o[l]}`:l),u),[]).join("&");return[c?`${r}?${c}`:r,o[this.FIELDS_PARAM]]}getUrlWithFields(n,r){let s=uW(r);return s&&(n+=n.includes("?")?"&":"?",n+=`${this.FIELDS_PARAM}=${s}`),n}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hW=(()=>{let e=class e{constructor(n,r){this.http=n,this.occFields=r}scopedDataLoad(n,r){let s=[];r||(r=a=>this.http.get(a));let o=this.occFields.getOptimalUrlGroups(n);return Object.entries(o).forEach(([a,c])=>{let u=Object.values(c);if(u.length===1)s.push(T(v({},u[0].scopedData),{data$:r?.(a)}));else{let l=r?.(a).pipe(ht(1));u.forEach(f=>{s.push(T(v({},f.scopedData),{data$:l?.pipe(E(h=>lW(h,f.fields)))}))})}}),s}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(fW))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pW=(()=>{let e=class e{constructor(n,r,s,o){this.http=n,this.occEndpoints=r,this.converter=s,this.requestsOptimizer=o}load(n,r){return this.http.get(this.getEndpoint(n,r)).pipe(this.converter.pipeable(ps))}loadMany(n){let r=n.map(s=>({scopedData:s,url:this.getEndpoint(s.code,s.scope)}));return this.requestsOptimizer.scopedDataLoad(r).map(s=>T(v({},s),{data$:s.data$?.pipe(this.converter.pipeable(ps))}))}getEndpoint(n,r){return this.occEndpoints.buildUrl("product",{urlParams:{productCode:n},scope:r})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je),d(hW))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),vp=class{},yp=class{},Ep=class{},Cp=class{},gW={backend:{occ:{endpoints:{product:{default:"products/${productCode}?fields=DEFAULT,averageRating,images(FULL),classifications,manufacturer,numberOfReviews,categories(FULL),baseOptions,baseProduct,variantOptions,variantType",list:"products/${productCode}?fields=code,purchasable,name,summary,price(formattedValue),images(DEFAULT,galleryIndex),baseProduct",details:"products/${productCode}?fields=averageRating,stock(DEFAULT),description,availableForPickup,code,url,price(DEFAULT),numberOfReviews,manufacturer,categories(FULL),priceRange,multidimensional,tags,images(FULL)",promotions:"products/${productCode}?fields=potentialPromotions(description)",attributes:"products/${productCode}?fields=classifications",price:"products/${productCode}?fields=price(formattedValue)",stock:"products/${productCode}?fields=stock(DEFAULT)",list_item:"products/${productCode}?fields=code,name,price(formattedValue),images(DEFAULT),baseProduct"},productReviews:"products/${productCode}/reviews",productReferences:"products/${productCode}/references?fields=DEFAULT,references(target(images(FULL)))",productSearch:"products/search?fields=products(code,name,summary,configurable,configuratorType,multidimensional,price(FULL),images(DEFAULT),stock(FULL),averageRating,variantOptions),facets,breadcrumbs,pagination(DEFAULT),sorts(DEFAULT),freeTextSearch,currentQuery,keywordRedirectUrl",productSuggestions:"products/suggestions"}},loadingScopes:{product:{details:{include:["list","variants"]}}}}},Bce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[Ln(gW),{provide:vp,useClass:pW},{provide:ps,useExisting:eW,multi:!0},{provide:ps,useExisting:rW,multi:!0},{provide:yp,useClass:iW},{provide:GN,useExisting:nW,multi:!0},{provide:Cp,useClass:dW},{provide:WN,useExisting:tW,multi:!0},{provide:Ep,useClass:aW}],imports:[Ze]});let t=e;return t})(),mW=(()=>{let e=class e{constructor(){}convert(n,r){return r===void 0&&(r=v({},n)),r.baseStore=n.stores?.[0],delete r.stores,r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vW=new S("LanguageNormalizer"),yW=new S("CurrencyNormalizer"),EW=new S("CountryNormalizer"),CW=new S("RegionNormalizer"),QN=new S("BaseSiteNormalizer"),SW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpointsService=r,this.converterService=s}loadLanguages(){return this.http.get(this.occEndpointsService.buildUrl("languages")).pipe(E(n=>n.languages??[]),this.converterService.pipeableMany(vW))}loadCurrencies(){return this.http.get(this.occEndpointsService.buildUrl("currencies")).pipe(E(n=>n.currencies??[]),this.converterService.pipeableMany(yW))}loadCountries(n){return this.http.get(this.occEndpointsService.buildUrl("countries",{queryParams:n?{type:n}:void 0})).pipe(E(r=>r.countries??[]),this.converterService.pipeableMany(EW))}loadRegions(n){return this.http.get(this.occEndpointsService.buildUrl("regions",{urlParams:{isoCode:n}})).pipe(E(r=>r.regions??[]),this.converterService.pipeableMany(CW))}loadBaseSite(n){return n||(n=this.occEndpointsService.getBaseUrl().split("/").pop()),this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(E(r=>r.baseSites.find(s=>s.uid===n)))}loadBaseSites(){return this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(E(n=>n.baseSites),this.converterService.pipeableMany(QN))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Sp=class{},IW={backend:{occ:{endpoints:{languages:"languages",currencies:"currencies",countries:"countries",regions:"countries/${isoCode}/regions?fields=regions(name,isocode,isocodeShort)",baseSites:"basesites?fields=FULL"}}}},Cs=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getAll(){return this.store.pipe(M(U8),L(n=>{n||this.store.dispatch(new Ff)}),x(yc))}getActive(){return this.store.pipe(M(kC),x(yc))}setActive(n){this.store.pipe(M(kC),oe(1)).subscribe(r=>{r!==n&&this.isValid(n)&&this.store.dispatch(new kf(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Oc(this.config,ms).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Hc=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getAll(){return this.store.pipe(M(_8),L(n=>{n||this.store.dispatch(new Mf)}),x(yc))}getActive(){return this.store.pipe(M(LC),x(yc))}setActive(n){this.store.pipe(M(LC),oe(1)).subscribe(r=>{r!==n&&this.isValid(n)&&this.store.dispatch(new Nf(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Oc(this.config,vs).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),DW=(()=>{let e=class e{constructor(n,r,s,o){this.languageService=n,this.currencyService=r,this.occEndpoints=s,this.config=o,this.activeLang=Si(this.config,ms),this.activeCurr=Si(this.config,vs),this.languageService.getActive().subscribe(a=>this.activeLang=a),this.currencyService.getActive().subscribe(a=>{this.activeCurr=a})}intercept(n,r){return n.url.includes(this.occEndpoints.getBaseUrl())&&(n=n.clone({setParams:{lang:this.activeLang??"",curr:this.activeCurr??""}})),r.handle(n)}};e.\u0275fac=function(r){return new(r||e)(d(Cs),d(Hc),d(Qe),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bW=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[Ln(IW),{provide:Sp,useClass:SW},{provide:pn,useExisting:DW,multi:!0},{provide:QN,useExisting:mW,multi:!0}],imports:[Ze]});let t=e;return t})(),wW=(()=>{let e=class e{constructor(n){this.anonymousConsentsService=n}convert(n){return this.anonymousConsentsService.decodeAndDeserialize(n)}};e.\u0275fac=function(r){return new(r||e)(d(Fc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),n&&n.results&&(r.results=n.results.map(s=>T(v({},s),{product:this.converter.convert(s.product,ps)}))),r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JN=new S("AnonymousConsentNormalizer"),XC=new S("ConsentTemplateNormalizer"),AW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(J)}loadAnonymousConsentTemplates(){let n=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.get(n).pipe(P(r=>{throw q(r,this.logger)}),E(r=>r.consentTemplates??[]),this.converter.pipeableMany(XC))}loadAnonymousConsents(){let n=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.head(n,{observe:"response"}).pipe(P(r=>{throw q(r,this.logger)}),E(r=>r.headers.get(pC)??""),this.converter.pipeable(JN))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),RW=new S("CustomerCouponSearchResultNormalizer"),MW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}getCustomerCoupons(n,r,s,o){if(n===To)return I({});let a=this.occEndpoints.buildUrl("customerCoupons",{urlParams:{userId:n}}),c=new ze().set("sort",o||"startDate:asc");r&&(c=c.set("pageSize",r.toString())),s&&(c=c.set("currentPage",s.toString()));let u=this.newHttpHeader();return this.http.get(a,{headers:u,params:c}).pipe(this.converter.pipeable(RW))}turnOffNotification(n,r){let s=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.delete(s,{headers:o})}turnOnNotification(n,r){let s=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.post(s,{headers:o})}claimCustomerCoupon(n,r){let s=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.post(s,{headers:o})}disclaimCustomerCoupon(n,r){let s=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.delete(s,{headers:o})}newHttpHeader(){return new le({"Content-Type":"application/json"})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),XN=new S("AddressNormalizer"),xW=new S("AddressesNormalizer"),oC=new S("AddressSerializer"),OW=new S("AddressValidationNormalizer"),gc={"Content-Type":"application/json"},NW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(J)}loadAll(n){let r=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:n}}),s=new le(v({},gc));return this.http.get(r,{headers:s}).pipe(P(o=>{throw q(o,this.logger)}),E(o=>o.addresses??[]),this.converter.pipeableMany(XN))}add(n,r){let s=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:n}}),o=new le(v({},gc));return r=this.converter.convert(r,oC),this.http.post(s,r,{headers:o}).pipe(P(a=>{throw q(a,this.logger)}))}update(n,r,s){let o=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:n,addressId:r}}),a=new le(v({},gc));return s=this.converter.convert(s,oC),this.http.patch(o,s,{headers:a}).pipe(P(c=>{throw q(c,this.logger)}))}verify(n,r){let s=this.occEndpoints.buildUrl("addressVerification",{urlParams:{userId:n}}),o=new le(v({},gc));return n===To&&(o=Ec.createHeader(jC,!0,o)),r=this.converter.convert(r,oC),this.http.post(s,r,{headers:o}).pipe(P(a=>{throw q(a,this.logger)}),this.converter.pipeable(OW))}delete(n,r){let s=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:n,addressId:r}}),o=new le(v({},gc));return this.http.delete(s,{headers:o}).pipe(P(a=>{throw q(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),PW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(J)}loadConsents(n){let r=this.occEndpoints.buildUrl("consentTemplates",{urlParams:{userId:n}}),s=new le({"Cache-Control":"no-cache"});return this.http.get(r,{headers:s}).pipe(P(o=>{throw q(o,this.logger)}),E(o=>o.consentTemplates??[]),this.converter.pipeableMany(XC))}giveConsent(n,r,s){let o=this.occEndpoints.buildUrl("consents",{urlParams:{userId:n}}),a=new ze().set("consentTemplateId",r).set("consentTemplateVersion",s.toString()),c=new le({"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"});return this.http.post(o,a,{headers:c}).pipe(P(u=>{throw q(u,this.logger)}),this.converter.pipeable(XC))}withdrawConsent(n,r){let s=new le({"Cache-Control":"no-cache"}),o=this.occEndpoints.buildUrl("consentDetail",{urlParams:{userId:n,consentId:r}});return this.http.delete(o,{headers:s})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),eP=new S("ProductInterestsNormalizer"),wx=new le({"Content-Type":"application/json"}),FW=(()=>{let e=class e{constructor(n,r,s,o){this.http=n,this.occEndpoints=r,this.config=s,this.converter=o,this.logger=C(J)}getInterests(n,r,s,o,a,c){let u=new ze().set("sort",o||"name:asc");return r&&(u=u.set("pageSize",r.toString())),s&&(u=u.set("currentPage",s.toString())),a&&(u=u.set("productCode",a)),c&&(u=u.set("notificationType",c.toString())),this.http.get(this.occEndpoints.buildUrl("getProductInterests",{urlParams:{userId:n}}),{headers:wx,params:u}).pipe(this.converter.pipeable(eP),P(l=>{throw q(l,this.logger)}))}removeInterest(n,r){let s=[];return r.productInterestEntry?.forEach(o=>{let a=new ze().set("productCode",r.product?.code??"").set("notificationType",o.interestType);s.push(this.http.delete(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:n}}),{params:a}).pipe(P(c=>{throw q(c,this.logger)})))}),wu(s)}addInterest(n,r,s){let o=new ze().set("productCode",r).set("notificationType",s.toString());return this.http.post(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:n}}),{},{headers:wx,params:o}).pipe(P(a=>{throw q(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(yr),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),_W=new S("NotificationPreferenceSerializer"),LW=new S("NotificationPreferenceNormalizer"),Ip=class{},kW=(()=>{let e=class e{constructor(n){this.adapter=n}loadAll(n){return this.adapter.loadAll(n)}update(n,r){return this.adapter.update(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Ip))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tx=new le({"Content-Type":"application/json"}),jW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.converter=r,this.occEndpoints=s,this.logger=C(J)}loadAll(n){return this.http.get(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:n}}),{headers:Tx}).pipe(E(r=>r.preferences??[]),this.converter.pipeableMany(LW),P(r=>{throw q(r,this.logger)}))}update(n,r){return r=this.converter.convert(r,_W),this.http.patch(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:n}}),{preferences:r},{headers:Tx}).pipe(P(s=>{throw q(s,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Je),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),UW=new S("PaymentDetailsNormalizer"),aC={"Content-Type":"application/json"},$W=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(J)}loadAll(n){let r=this.occEndpoints.buildUrl("paymentDetailsAll",{urlParams:{userId:n}})+"?saved=true",s=new le(v({},aC));return this.http.get(r,{headers:s}).pipe(P(o=>{throw q(o,this.logger)}),E(o=>o.payments??[]),this.converter.pipeableMany(UW))}delete(n,r){let s=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:n,paymentDetailId:r}}),o=new le(v({},aC));return this.http.delete(s,{headers:o}).pipe(P(a=>{throw q(a,this.logger)}))}setDefault(n,r){let s=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:n,paymentDetailId:r}}),o=new le(v({},aC));return this.http.patch(s,{billingAddress:{titleCode:"mr"},defaultPayment:!0},{headers:o}).pipe(P(a=>{throw q(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Dp=class{},bp=class{},wp=class{},Tp=class{},Ap=class{},Rp=class{},BW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),r.values=n.addresses?.map(s=>v({},this.converter.convert(s,XN)))??[],r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VW={backend:{occ:{endpoints:{paymentDetailsAll:"users/${userId}/paymentdetails",paymentDetail:"users/${userId}/paymentdetails/${paymentDetailId}",anonymousConsentTemplates:"users/anonymous/consenttemplates",consentTemplates:"users/${userId}/consenttemplates",consents:"users/${userId}/consents",consentDetail:"users/${userId}/consents/${consentId}",addresses:"users/${userId}/addresses",addressDetail:"users/${userId}/addresses/${addressId}",addressVerification:"users/${userId}/addresses/verification",customerCoupons:"users/${userId}/customercoupons",claimCoupon:"users/${userId}/customercoupons/${couponCode}/claim",couponNotification:"users/${userId}/customercoupons/${couponCode}/notification",notificationPreference:"users/${userId}/notificationpreferences",productInterests:"users/${userId}/productinterests",getProductInterests:"users/${userId}/productinterests?fields=sorts,pagination,results(productInterestEntry,product(code))"}}}},HW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}loadActiveList(n){let r=new ro().set(qN,{sendUserIdAsHeader:!0});return this.http.get(this.getCostCentersEndpoint(n),{context:r}).pipe(this.converter.pipeable(zN))}getCostCentersEndpoint(n,r){return this.occEndpoints.buildUrl("getActiveCostCenters",{urlParams:{userId:n},queryParams:r})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Vce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[Ln(VW),{provide:Dp,useClass:NW},{provide:bp,useClass:PW},{provide:hp,useClass:AW},{provide:Rp,useClass:$W},{provide:Tp,useClass:MW},{provide:Ip,useClass:jW},{provide:Ap,useClass:FW},{provide:wp,useClass:HW},{provide:eP,useExisting:TW,multi:!0},{provide:JN,useExisting:wW,multi:!0},{provide:xW,useExisting:BW,multi:!0}],imports:[Ze]});let t=e;return t})(),zW={backend:{occ:{prefix:"/occ/v2/"},media:{}}};function GW(t){if(t.backend===void 0||t.backend.occ===void 0||t.backend.occ.baseUrl===void 0)return"Please configure backend.occ.baseUrl before using storefront library!"}var WW=(()=>{let e=class e{constructor(n){this.config=n}intercept(n,r){return this.requiresWithCredentials(n)&&(n=n.clone({withCredentials:!0})),r.handle(n)}requiresWithCredentials(n){return this.occConfig?.useWithCredentials!==void 0&&n.url.indexOf(this.occConfig?.prefix??"")>-1}get occConfig(){return this.config.backend?.occ}};e.\u0275fac=function(r){return new(r||e)(d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qW=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:pn,useExisting:WW,multi:!0},Ln(zW),aI(GW)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[Y3,bW]});let t=e;return t})(),YW="occ-backend-base-url",KW="OCC_BACKEND_BASE_URL_VALUE",ZW="media-backend-base-url",QW="MEDIA_BACKEND_BASE_URL_VALUE";function JW(t){let e=tP(YW,t);return e&&e!==KW?{backend:{occ:{baseUrl:e}}}:{}}function XW(t){let e=tP(ZW,t);return e&&e!==QW?{backend:{media:{baseUrl:e}}}:{}}function tP(t,e){let i=e.getTag(`name="${t}"`);return i&&i.content}function e4(){return[gf(JW,[$y]),gf(XW,[$y])]}var t4=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...e4()]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),n4=(()=>{let e=class e{constructor(n){this.config=n}expand(n,r){let s=this.config?.backend?.loadingScopes?.[n];if(s){let o=[...r],a=o.length;for(;a>0;){a--;let c=s[o[a]]?.include;if(c)for(let u of c)o.includes(u)||(o.splice(a,0,u),a++)}return o}return r}getMaxAge(n,r){return(this.config.backend?.loadingScopes?.[n]?.[r]?.maxAge??0)*1e3}getReloadTriggers(n,r){return this.config.backend?.loadingScopes?.[n]?.[r]?.reloadOn??[]}};e.\u0275fac=function(r){return new(r||e)(d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cr=Nn(qO),r4=A(Cr,t=>t.billingCountries),i4=A(r4,t=>t.entities),s4=A(i4,t=>Object.keys(t).map(e=>t[e])),ng=A(Cr,t=>t.customerCoupons),o4=A(ng,t=>kn(t)),a4=A(ng,t=>kt(t)),Hce=A(ng,t=>tt(t)),c4=A(Cr,t=>t.countries),nP=A(c4,t=>t.entities),u4=A(nP,t=>Object.keys(t).map(e=>t[e])),l4=t=>A(nP,e=>Object.keys(e).length!==0?e[t]:null),nD=A(Cr,t=>t.notificationPreferences),d4=A(nD,t=>tt(t)),f4=A(nD,t=>tt(t).filter(e=>e.enabled)),h4=A(nD,t=>kt(t)),rD=A(Cr,t=>t.payments),p4=A(rD,t=>tt(t)),g4=A(rD,t=>kt(t)),m4=A(rD,t=>kn(t)&&!kt(t)),iD=A(Cr,t=>t.productInterests),v4=A(iD,t=>tt(t)),y4=A(iD,t=>kt(t)),zc=A(Cr,t=>t.regions),zce=A(zc,t=>tt(t).entities),E4=A(zc,t=>({loaded:kn(t),loading:kt(t),regions:tt(t).entities,country:tt(t).country})),Gce=A(zc,t=>tt(t).country),Wce=A(zc,t=>kt(t)),qce=A(zc,t=>kn(t)),sD=A(Cr,t=>t.addresses),C4=A(sD,t=>tt(t)),S4=A(sD,t=>kt(t)),I4=A(sD,t=>kn(t)&&!kt(t)),rg=A(Cr,t=>t.consents),eS=A(rg,t=>tt(t)),D4=t=>A(eS,e=>e.find(i=>i.id===t)),b4=A(rg,kt),w4=A(rg,kn),T4=A(rg,$o),A4=A(Cr,t=>t.costCenters),Yce=A(A4,t=>tt(t));var R4=(()=>{let e=class e{constructor(n,r,s){this.store=n,this.authService=r,this.userIdService=s}loadConsents(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Xh(n))})}getConsents(n=!1){return Qo(()=>n,this.store.pipe(M(eS),rt(this.getConsentsResultLoading(),this.getConsentsResultSuccess()),x(([r,s,o])=>!s),L(([r,s,o])=>{(!r||r.length===0)&&(o||this.loadConsents())}),x(([r,s])=>!!r),E(([r,s])=>r)),this.store.pipe(M(eS)))}getConsentsResultLoading(){return this.store.pipe(M(b4))}getConsentsResultSuccess(){return this.store.pipe(M(w4))}getConsentsResultError(){return this.store.pipe(M(T4))}resetConsentsProcessState(){this.store.dispatch(new Ic)}getConsent(n){return Pe([this.authService.isUserLoggedIn(),this.userIdService.getUserId()]).pipe(x(([r,s])=>r&&s===wo),O(()=>this.getConsents(!0)),oe(1),O(()=>this.store.pipe(M(D4(n)))),x(yn),E(r=>r.currentConsent))}isConsentGiven(n){return!!n&&!!n.consentGivenDate&&!n.consentWithdrawnDate}isConsentWithdrawn(n){return n?!!n?.consentWithdrawnDate:!0}giveConsent(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Dc({userId:s,consentTemplateId:n,consentTemplateVersion:r}))})}getGiveConsentResultLoading(){return this.store.pipe(M(Ci(ls)))}getGiveConsentResultSuccess(){return this.store.pipe(M(zr(ls)))}getGiveConsentResultError(){return this.store.pipe(M(Ei(ls)))}resetGiveConsentProcessState(){return this.store.dispatch(new ip)}withdrawConsent(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new op({userId:s,consentCode:n,consentId:r}))})}getWithdrawConsentResultLoading(){return this.store.pipe(M(Ci(ds)))}getWithdrawConsentResultSuccess(){return this.store.pipe(M(zr(ds)))}getWithdrawConsentResultError(){return this.store.pipe(M(Ei(ds)))}resetWithdrawConsentProcessState(){return this.store.dispatch(new up)}filterConsentTemplates(n,r=[]){if(r.length===0)return n;let s=[];for(let o of n)o.id&&!r.includes(o.id)&&s.push(o);return s}};e.\u0275fac=function(r){return new(r||e)(d(me),d($n),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),M4=(()=>{let e=class e{isRequiredConsent(n){return!!(n&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents?.includes(n))}constructor(n,r,s,o,a,c,u){this.actions$=n,this.anonymousConsentTemplatesConnector=r,this.authService=s,this.anonymousConsentsConfig=o,this.anonymousConsentService=a,this.userConsentService=c,this.userIdService=u,this.logger=C(J),this.checkConsentVersions$=W(()=>this.actions$.pipe(B(vO),rt(this.anonymousConsentService.getConsents()),je(([l,f])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsents().pipe(E(h=>{if(!h)return ge()&&this.logger.warn("No consents were loaded. Please check the Spartacus documentation as this could be a back-end configuration issue."),!1;let p=f.map(b=>b.templateVersion),y=h.map(b=>b.templateVersion);return this.detectUpdatedVersion(p,y)}),O(h=>h?I(new yf):pe),P(h=>I(new Cf(q(h,this.logger)))))))),this.loadAnonymousConsentTemplates$=W(()=>this.actions$.pipe(B(dO),rt(this.anonymousConsentService.getTemplates()),je(([l,f])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsentTemplates().pipe(G(h=>{let p=!1;return f&&f.length!==0&&(p=this.anonymousConsentService.detectUpdatedTemplates(f,h)),[new Ef(h),new Sf(p)]}),P(h=>I(new Cf(q(h,this.logger)))))))),this.transferAnonymousConsentsToUser$=W(()=>this.actions$.pipe(B(mr),x(()=>!!this.anonymousConsentsConfig.anonymousConsents),rt(this.actions$.pipe(B(XI))),x(([,l])=>!!l),O(()=>this.anonymousConsentService.getConsents().pipe(rt(this.userIdService.getUserId(),this.anonymousConsentService.getTemplates(),this.authService.isUserLoggedIn()),x(([,,,l])=>l),je(([l,f,h,p])=>{let y=[];for(let b of l)if(this.anonymousConsentService.isConsentGiven(b)&&!this.isRequiredConsent(b.templateCode)){for(let w of h)if(w.id===b.templateCode){y.push(new sp({userId:f,consentTemplateId:w.id,consentTemplateVersion:w.version}));break}}return y.length>0?y:pe}))))),this.giveRequiredConsentsToUser$=W(()=>this.actions$.pipe(B(mr),x(l=>!!(this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&l)),je(()=>this.userConsentService.getConsentsResultSuccess().pipe(oe(1),rt(this.userIdService.getUserId(),this.userConsentService.getConsents(),this.authService.isUserLoggedIn()),x(([,,,l])=>l),L(([l,f,h,p])=>{l||this.userConsentService.loadConsents()}),E(([l,f,h,p])=>({userId:f,templates:h})),je(({userId:l,templates:f})=>{let h=[];for(let p of f)this.userConsentService.isConsentWithdrawn(p.currentConsent)&&this.isRequiredConsent(p.id)&&h.push(new Dc({userId:l,consentTemplateId:p.id,consentTemplateVersion:p.version}));return h.length>0?h:pe})))))}detectUpdatedVersion(n,r){if(n.length!==r.length)return!0;for(let s=0;s<r.length;s++)if(n[s]!==r[s])return!0;return!1}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(A3),d($n),d(GO),d(Fc),d(R4),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),x4=[M4],O4=(()=>{let e=class e{constructor(){this.logger=C(J),this.EXTRACT_JAVA_REGEXP_MODIFIERS=/^(\(\?([a-z]+)\))?(.*)/}toJsRegExp(n){let r=n.match(this.EXTRACT_JAVA_REGEXP_MODIFIERS);if(!r)return null;let[,,s,o]=r;try{return new RegExp(o,s)}catch(a){return ge()&&this.logger.warn(`WARNING: Could not convert Java regexp into Javascript. Original regexp: ${n} 
Message: ${a}`),null}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),N4=(()=>{let e=class e{constructor(n,r,s){this.baseSiteService=n,this.javaRegExpConverter=r,this.winRef=s,this.scopes=["context"],this.configFactory=()=>Yn(this.resolveConfig())}get currentUrl(){return this.winRef.location.href}resolveConfig(){return this.baseSiteService.getAll().pipe(E(n=>n?.find(r=>this.isCurrentBaseSite(r))),x(n=>{if(!n)throw new Error(`Error: Cannot get base site config! Current url (${this.currentUrl}) doesn't match any of url patterns of any base sites.`);return!!n}),E(n=>this.getConfig(n)),oe(1))}getConfig(n){return{context:{urlParameters:this.getUrlParams(n.urlEncodingAttributes),[qr]:[n.uid],[ms]:this.getIsoCodes(n.baseStore?.languages,n.defaultLanguage||n.baseStore?.defaultLanguage),[vs]:this.getIsoCodes(n.baseStore?.currencies,n.baseStore?.defaultCurrency),[A8]:[n.theme]}}}isCurrentBaseSite(n){return(n.urlPatterns||[]).findIndex(s=>{let o=this.javaRegExpConverter.toJsRegExp(s);if(o)return o.test(this.currentUrl)})!==-1}getUrlParams(n){let r="storefront";return(n||[]).map(s=>s===r?qr:s)}getIsoCodes(n,r){if(n&&r)return this.moveToFirst(n,o=>o.isocode===r.isocode).map(o=>o.isocode)}moveToFirst(n,r){n=[...n];let s=n.findIndex(r);if(s!==-1){let[o]=n.splice(s,1);n.unshift(o)}return n}};e.\u0275fac=function(r){return new(r||e)(d(ys),d(O4),d(bi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ho=(()=>{let e=class e{constructor(n){this.adapter=n}getLanguages(){return this.adapter.loadLanguages()}getCurrencies(){return this.adapter.loadCurrencies()}getCountries(n){return this.adapter.loadCountries(n)}getRegions(n){return this.adapter.loadRegions(n)}getBaseSite(n){return this.adapter.loadBaseSite(n)}getBaseSites(){return this.adapter.loadBaseSites()}};e.\u0275fac=function(r){return new(r||e)(d(Sp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ax=(()=>{let e=class e extends Yr{};e.type="LanguageSetEvent";let t=e;return t})(),Rx=(()=>{let e=class e extends Yr{};e.type="CurrencySetEvent";let t=e;return t})(),P4=(()=>{let e=class e{constructor(n,r){this.actionsSubject=n,this.eventService=r,this.register()}register(){this.registerSetLanguage(),this.registerSetCurrency()}registerSetLanguage(){let n=this.actionsSubject.pipe(B(Gp),E(r=>Ii(Ax,{activeLanguage:r.payload})));this.eventService.register(Ax,n)}registerSetCurrency(){let n=this.actionsSubject.pipe(B(zp),E(r=>Ii(Rx,{activeCurrency:r.payload})));this.eventService.register(Rx,n)}};e.\u0275fac=function(r){return new(r||e)(d($r),d(Es))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),F4=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(P4))},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),Mp=class{};function _4(){return{[ms]:Cs,[vs]:Hc,[qr]:ys}}var L4={provide:Mp,useFactory:_4},k4=(()=>{let e=class e{constructor(n,r){this.baseSiteService=n,this.configInit=r}initialize(){this.subscription=this.configInit.getStable("context").pipe(O(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Si(n,qr);!this.baseSiteService.isInitialized()&&r&&this.baseSiteService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(ys),d(_n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),j4=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.currencyService=r,this.config=s,this.initialized$=new sn(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:vs,state$:this.currencyService.getActive(),onRead:n=>this.onRead(n)}),this.initialized$}onRead(n){!this.currencyService.isInitialized()&&n&&this.currencyService.setActive(n),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}};e.\u0275fac=function(r){return new(r||e)(d(qp),d(Hc),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),U4=(()=>{let e=class e{constructor(n,r,s){this.currencyService=n,this.currencyStatePersistenceService=r,this.configInit=s}initialize(){this.subscription=this.configInit.getStable("context").pipe(O(()=>this.currencyStatePersistenceService.initSync()),O(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Si(n,vs);!this.currencyService.isInitialized()&&r&&this.currencyService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Hc),d(j4),d(_n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$4=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.languageService=r,this.config=s,this.initialized$=new sn(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:ms,state$:this.languageService.getActive(),onRead:n=>this.onRead(n)}),this.initialized$}onRead(n){!this.languageService.isInitialized()&&n&&this.languageService.setActive(n),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}};e.\u0275fac=function(r){return new(r||e)(d(qp),d(Cs),d(Zr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),B4=(()=>{let e=class e{constructor(n,r,s){this.languageService=n,this.languageStatePersistenceService=r,this.configInit=s}initialize(){this.subscription=this.configInit.getStable("context").pipe(O(()=>this.languageStatePersistenceService.initSync()),O(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Si(n,ms);!this.languageService.isInitialized()&&r&&this.languageService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Cs),d($4),d(_n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oD=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.injector=r,this.serviceMap=s,this.logger=C(J)}getContextParameters(){return this.config.context?Object.keys(this.config.context).filter(n=>n!=="urlParameters"):[]}getUrlEncodingParameters(){return this.config.context&&this.config.context.urlParameters||[]}getParamValues(n){return Oc(this.config,n)}getParamDefaultValue(n){return Si(this.config,n)}getSiteContextService(n){if(this.serviceMap[n])try{return this.injector.get(this.serviceMap[n])}catch{ge()&&this.logger.warn(`Couldn't find site context service for '${n}'.`);return}}getValue(n){let r,s=this.getSiteContextService(n);return s&&s.getActive().subscribe(o=>r=o).unsubscribe(),r!==void 0?r:this.getParamDefaultValue(n)}setValue(n,r){let s=this.getSiteContextService(n);s&&s.setActive(r)}getValues(n){return n.length===0?I([]):Pe(n.map(r=>{let s=this.getSiteContextService(r);return s?s.getActive().pipe(rn()):I("")})).pipe(x(r=>r.every(s=>!!s)))}};e.\u0275fac=function(r){return new(r||e)(d(Zr),d(Ye),d(Mp))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),tS=(()=>{let e=class e extends ts{get urlEncodingParameters(){return this.siteContextParams.getUrlEncodingParameters()}get hasContextInRoutes(){return this.urlEncodingParameters.length>0}constructor(n){super(),this.siteContextParams=n,this.URL_SPLIT=/(^[^#?]*)(.*)/}parse(n){if(this.hasContextInRoutes){let r=this.urlExtractContextParameters(n),s=super.parse(r.url);return this.urlTreeIncludeContextParameters(s,r.params),s}else return super.parse(n)}urlExtractContextParameters(n){let[,r,s]=n.match(this.URL_SPLIT)??[,"",""],o=r?.split("/")??[];o[0]===""&&o.shift();let a={},c=0,u=0;for(;c<this.urlEncodingParameters.length&&u<o.length;){let l=this.urlEncodingParameters[c];this.siteContextParams.getParamValues(l).includes(o[u])&&(a[l]=o[u],u++),c++}return n=o.slice(u).join("/")+s,{url:n,params:a}}urlTreeIncludeContextParameters(n,r){n.siteContext=r}serialize(n){let r=this.urlTreeExtractContextParameters(n),s=super.serialize(n);return this.urlIncludeContextParameters(s,r)}urlTreeExtractContextParameters(n){return n.siteContext?n.siteContext:{}}urlIncludeContextParameters(n,r){return this.urlEncodingParameters.map(o=>r[o]?r[o]:this.siteContextParams.getValue(o)).join("/")+n}};e.\u0275fac=function(r){return new(r||e)(d(oD))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function V4(t){if(Si(t,qr)===void 0)return"Please configure context.parameters.baseSite before using storefront library!"}function H4(){return{context:{[ms]:["en","de","ja","zh","ru","fr","tr","it","es","uk","pl","nl","hi","ar","pt","bn","pa"],[vs]:["USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","SEK","NZD","MXN","SGD","HKD","NOK","KRW","TRY","RUB","INR","BRL","ZAR"]}}}function z4(t){return()=>{t.initialize()}}function G4(t){return()=>{t.initialize()}}function W4(t){return()=>{t.initialize()}}var q4=[{provide:bt,useFactory:G4,deps:[B4],multi:!0},{provide:bt,useFactory:z4,deps:[U4],multi:!0},{provide:bt,useFactory:W4,deps:[k4],multi:!0}],Y4=(()=>{let e=class e{constructor(n,r,s){this.siteContextParams=n,this.serializer=r,this.injector=s,this.subscription=new Ee,this.contextValues={},this.isNavigating=!1}init(){this.router=this.injector.get(Oe),this.location=this.injector.get(ar);let n=this.siteContextParams.getUrlEncodingParameters();n.length&&(this.setContextParamsFromRoute(this.location.path(!0)),this.subscribeChanges(n),this.subscribeRouting())}subscribeChanges(n){n.forEach(r=>{let s=this.siteContextParams.getSiteContextService(r);s&&this.subscription.add(s.getActive().subscribe(o=>{if(!this.isNavigating&&this.contextValues[r]&&this.contextValues[r]!==o){let a=this.router.parseUrl(this.router.url),c=this.router.serializeUrl(a);this.location.replaceState(c)}this.contextValues[r]=o}))})}subscribeRouting(){this.subscription.add(this.router.events.pipe(x(n=>n instanceof mn||n instanceof st||n instanceof lr||n instanceof vn)).subscribe(n=>{this.isNavigating=n instanceof mn,this.isNavigating&&this.setContextParamsFromRoute(n.url)}))}setContextParamsFromRoute(n){let{params:r}=this.serializer.urlExtractContextParameters(n);Object.keys(r).forEach(s=>this.siteContextParams.setValue(s,r[s]))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(oD),d(tS),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function K4(t,e){return()=>Yn(t.getStable("context").pipe(L(()=>{e.init()})))}var Z4=[ys,Cs,Hc,{provide:bt,useFactory:K4,deps:[_n,Y4],multi:!0}],Q4=[oD,tS,{provide:rs,useExisting:tS}],J4=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(J),this.loadBaseSite$=W(()=>this.actions$.pipe(B(QS),Zn(()=>this.siteConnector.getBaseSite().pipe(E(s=>{if(s)return new bf(s);throw new Error("BaseSite is not found")}),P(s=>I(new Df(q(s,this.logger)))))))),this.loadBaseSites$=W(()=>this.actions$.pipe(B(XS),Zn(()=>this.siteConnector.getBaseSites().pipe(E(s=>new Af(s)),P(s=>I(new Tf(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Ho))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),X4=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.siteConnector=r,this.state=s,this.logger=C(J),this.loadCurrencies$=W(()=>this.actions$.pipe(B(nI),Zn(()=>this.siteConnector.getCurrencies().pipe(E(o=>new Of(o)),P(o=>I(new xf(q(o,this.logger)))))))),this.activateCurrency$=W(()=>this.state.select(LC).pipe(Au(2,1),x(([o])=>!!o),E(([o,a])=>new Pf({previous:o,current:a}))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Ho),d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),eq=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.siteConnector=r,this.state=s,this.logger=C(J),this.loadLanguages$=W(()=>this.actions$.pipe(B(iI),Zn(()=>this.siteConnector.getLanguages().pipe(E(o=>new Lf(o)),P(o=>I(new _f(q(o,this.logger)))))))),this.activateLanguage$=W(()=>this.state.select(kC).pipe(Au(2,1),x(([o])=>!!o),E(([o,a])=>new jf({previous:o,current:a}))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Ho),d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),tq=[eq,X4,J4],nq={entities:null,details:{},activeSite:""};function rq(t=nq,e){switch(e.type){case JS:return T(v({},t),{details:e.payload});case tI:{let i={};return t.entities&&(i=t.entities[e.payload]),T(v({},t),{details:i,activeSite:e.payload})}case eI:{let n=e.payload.reduce((s,o)=>T(v({},s),{[o.uid??""]:o}),v({},t.entities)),r=n[t.activeSite];return T(v({},t),{details:r,entities:n})}}return t}var iq={entities:null,activeCurrency:null};function sq(t=iq,e){switch(e.type){case rI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case zp:{let i=e.payload;return T(v({},t),{activeCurrency:i})}}return t}var oq={entities:null,activeLanguage:null};function aq(t=oq,e){switch(e.type){case sI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Gp:{let i=e.payload;return T(v({},t),{activeLanguage:i})}}return t}function cq(){return{languages:aq,currencies:sq,baseSite:rq}}var rP=new S("SiteContextReducers"),uq={provide:rP,useFactory:cq};function lq(){return{state:{ssrTransfer:{keys:{[oI]:Bo.TRANSFER_STATE}}}}}var dq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[Uo(lq),uq],imports:[Ze,fr.forFeature(oI,rP),Br.forFeature(tq)]});let t=e;return t})();function fq(t,e){return e.context?.[qr]?null:t}var hq=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Uo(H4),L4,...Z4,...Q4,aI(V4),{provide:Yp,useFactory:fq,deps:[N4,Zr],multi:!0},...q4]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[Ti,dq,F4]});let t=e;return t})(),pq=!1;function gq(t=pq,e){switch(e.type){case gO:return e.dismissed}return t}var mq=!1;function vq(t=mq,e){switch(e.type){case mO:return e.updated}return t}var yq=[];function Mx(t,e,i){return t?t.map(n=>(n.templateCode===e&&(n=T(v({},n),{consentState:i})),n)):[]}function Eq(t=yq,e){switch(e.type){case hO:return Mx(t,e.templateCode,Oo.GIVEN);case pO:return Mx(t,e.templateCode,Oo.WITHDRAWN);case fO:return e.payload}return t}function Cq(){return{templates:at(Ac),consents:Eq,ui:ss({bannerDismissed:gq,updated:vq})}}var iP=new S("AnonymousConsentsReducers"),Sq={provide:iP,useFactory:Cq};function Iq(t){return function(e,i){return e!==void 0&&(i.type===Kr||i.type===Un)&&(e=T(v({},e),{templates:{}})),t(e,i)}}var Dq=[Iq],bq=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.store=r,this.anonymousConsentsService=s,this.subscription=new Ee,this.key="anonymous-consents"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:n=>this.onRead(n)}))}getAuthState(){return this.store.select(Rc)}onRead(n){let r=n?.templates,s=n?.consents,o=n?.ui;r?.success&&this.store.dispatch(new Ef(r.value??[])),s&&this.anonymousConsentsService.setConsents(s),o&&(this.anonymousConsentsService.toggleBannerDismissed(o?.bannerDismissed),this.anonymousConsentsService.toggleTemplatesUpdated(o?.updated))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(qp),d(me),d(Fc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wq(t){return()=>t.initSync()}var Tq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[Sq,{provide:bt,useFactory:wq,deps:[bq],multi:!0}],imports:[Ze,Ti,fr.forFeature(lO,iP,{metaReducers:Dq}),Br.forFeature(x4)]});let t=e;return t})(),Kce=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...b3,Fc,Ln(kG)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[Tq]});let t=e;return t})(),sP={backend:{occ:{endpoints:{component:"cms/components/${id}",components:"cms/components",pages:"cms/pages",page:"cms/pages/${id}"}}},cmsComponents:{},componentsLoading:{pageSize:50}},Aq=T(v({},sP),{backend:{occ:{endpoints:{component:"users/${userId}/cms/components/${id}",components:"users/${userId}/cms/components",pages:"users/${userId}/cms/pages",page:"users/${userId}/cms/pages/${id}"}}}}),aD="cms",ig="[Cms] Navigation Entity",Gc="[Cms] Component Entity",cD="[Cms] Load Component",uD="[Cms] Load Component Fail",lD="[Cms] Load Component Success",dD="[Cms] Get Component from Page",xp=class extends _t{constructor(e){super(Gc,e.uid),this.payload=e,this.type=cD}},Op=class extends Tt{constructor(e){super(Gc,e.uid,e.error),this.payload=e,this.type=uD}},nS=class extends dt{constructor(e){super(Gc,e.uid||e.component.uid||""),this.payload=e,this.type=lD}},rS=class extends dt{constructor(e){super(Gc,[].concat(e).map(i=>i.component.uid)),this.payload=e,this.type=dD}},oP="[Cms] Load NavigationEntry items",Rq="[Cms] Load NavigationEntry items Fail",aP="[Cms] Load NavigationEntry items Success",iS=class extends _t{constructor(e){super(ig,e.nodeId),this.payload=e,this.type=oP}},Np=class extends Tt{constructor(e,i){super(ig,e,i),this.payload=i,this.type=Rq}},sS=class extends dt{constructor(e){super(ig,e.nodeId),this.payload=e,this.type=aP}},cP="[Cms] Load Page Data",uP="[Cms] Load Page Data Fail",fD="[Cms] Load Page Data Success",lP="[Cms] Set Page Success Index",dP="[Cms] Set Page Fail Index",xo=class extends _t{constructor(e){super(e.type??"",e.id),this.payload=e,this.type=cP}},oS=class extends Tt{constructor(e,i){super(e.type??"",e.id,i),this.type=uP}},aS=class extends dt{constructor(e,i){super(e.type??"",e.id,i),this.type=fD}},cS=class extends dt{constructor(e,i){super(e.type??"",e.id,i),this.type=lP}},uS=class extends Tt{constructor(e,i){super(e.type??"",e.id),this.payload=i,this.type=dP}};var hD=Nn(aD),Mq=A(hD,t=>t.components),fP=t=>A(Mq,e=>aO(e,t)),hP=(t,e)=>A(fP(t),i=>i&&i.pageContext&&i.pageContext[e]||gr),xq=(t,e)=>A(hP(t,e),i=>tt(i)),Oq=t=>A(fP(t),e=>e?e.component:void 0),Nq=(t,e)=>A(Oq(t),xq(t,e),(i,n)=>{switch(n){case!0:return i;case!1:return null;case void 0:return}}),Pq=A(hD,t=>t.navigation),Fq=t=>A(Pq,e=>Xt(e,t)),_q=t=>A(Fq(t),e=>tt(e)),Lq=t=>t.pageData.entities,kq=(t,e)=>{switch(e){case be.CONTENT_PAGE:return t.content;case be.PRODUCT_PAGE:return t.product;case be.CATEGORY_PAGE:return t.category;case be.CATALOG_PAGE:return t.catalog;default:return{entities:{}}}},jq=t=>{let e=new Set;if(t&&t.slots)for(let i of Object.keys(t.slots))for(let n of t.slots[i].components||[])e.add(n.flexType??"");return Array.from(e)},pP=A(hD,t=>t.page),Uq=A(pP,t=>t.index),$q=t=>A(Uq,e=>kq(e,t.type)),gP=t=>A($q(t),e=>Xt(e,t.id)),mP=t=>A(gP(t),e=>tt(e)),Bq=A(pP,Lq),Pp=t=>A(Bq,mP(t),(e,i)=>e[i]),Vq=t=>A(Pp(t),e=>jq(e)),Hq=(t,e)=>A(Pp(t),i=>{if(i)return i.slots?.[e]||{components:[]}});var zq="current";function Gr(t,e){return t?e&&t.type===be.CONTENT_PAGE?`${t.type}`:`${t.type}-${t.id}`:zq}var sg=(()=>{let e=class e{constructor(n,r){this.store=n,this.routingService=r,this.components={}}getCurrentPage(){return this.routingService.getPageContext().pipe(O(n=>this.store.select(Pp(n))))}getComponentData(n,r){let s=Gr(r,!0);this.components[n]||(this.components[n]={});let o=this.components[n];return o[s]||(o[s]=this.createComponentData(n,r)),o[s]}createComponentData(n,r){if(!r)return this.routingService.getPageContext().pipe(x(c=>!!c),O(c=>this.getComponentData(n,c)));let s=Gr(r,!0),o=Pe([this.routingService.getNextPageContext(),this.store.pipe(M(hP(n,s)))]).pipe(nn(ti),L(([c,u])=>{let l=u.loading||u.success||u.error,f=c?Gr(c,!0)===s:!1;!l&&!f&&this.store.dispatch(new xp({uid:n,pageContext:r}))})),a=this.store.pipe(M(Nq(n,s)),x(yn));return Ms(()=>o.subscribe(),()=>a).pipe(ht({bufferSize:1,refCount:!0}))}getContentSlot(n){return this.routingService.getPageContext().pipe(O(r=>this.store.pipe(M(Hq(r,n)),x(yn))))}getNavigationEntryItems(n){return this.store.pipe(M(_q(n)))}loadNavigationItems(n,r){this.store.dispatch(new iS({nodeId:n,items:r}))}refreshLatestPage(){this.routingService.getPageContext().pipe(oe(1)).subscribe(n=>this.store.dispatch(new xo(n)))}refreshPageById(n){let r={id:n};this.store.dispatch(new xo(r))}refreshComponent(n,r){this.store.dispatch(new xp({uid:n,pageContext:r}))}getPageState(n){return this.store.pipe(M(Pp(n)))}getPageComponentTypes(n){return this.store.pipe(M(Vq(n)))}hasPage(n,r=!1){return this.store.pipe(M(gP(n)),L(s=>{let o=s.loading||s.success||s.error,a=r&&!s.loading;(!o||a)&&(this.store.dispatch(new xo(n)),r=!1)}),x(s=>s.hasOwnProperty("value")?!!(s.success||s.error&&!s.loading):!1),E(s=>!!s.success),P(()=>I(!1)))}getPage(n,r=!1){return this.hasPage(n,r).pipe(O(s=>s?this.getPageState(n):I(null)))}getPageIndex(n){return this.store.pipe(M(mP(n)))}setPageFailIndex(n,r){this.store.dispatch(new uS(n,r))}};e.\u0275fac=function(r){return new(r||e)(d(me),d(wi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gq={pageMeta:{resolvers:[{property:"title",method:"resolveTitle"},{property:"heading",method:"resolveHeading"},{property:"breadcrumbs",method:"resolveBreadcrumbs"},{property:"description",method:"resolveDescription",disabledInCsr:!0},{property:"image",method:"resolveImage",disabledInCsr:!0},{property:"robots",method:"resolveRobots",disabledInCsr:!0},{property:"canonicalUrl",method:"resolveCanonicalUrl",disabledInCsr:!0}],canonicalUrl:{forceHttps:!0,forceWww:!1,removeQueryParams:!0,forceTrailingSlash:!0}}},Jt=class{getScore(e){let i=0;return this.pageType&&(i+=e.type===this.pageType?1:-1),this.pageTemplate&&(i+=e.template===this.pageTemplate?1:-1),this.pageUid&&(i+=e.pageId===this.pageUid?10:-10),i}hasMatch(e){return this.getScore(e)>0}getPriority(e){return this.getScore(e)}},vr=class{},Wq=(()=>{let e=class e{constructor(n){this.translation=n}resolveBreadcrumbs({url:n,pageMetaConfig:r}){let s=r?.breadcrumb;return s?typeof s!="string"&&s.raw?I([{link:n,label:s.raw}]):this.translateBreadcrumbLabel(s).pipe(E(o=>[{label:o,link:n}])):I([])}translateBreadcrumbLabel(n){let r=typeof n=="string"?n:n.i18n;return this.getParams().pipe(O(s=>this.translation.translate(r??"",s??{})))}getParams(){return I({})}};e.\u0275fac=function(r){return new(r||e)(d(vr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qq=(()=>{let e=class e{constructor(n,r){this.activatedRoutesService=n,this.injector=r,this.routes$=this.activatedRoutesService.routes$.pipe(E(s=>s=s.slice(1,s.length))),this.routesWithExtras$=this.routes$.pipe(E(s=>s.reduce((o,a)=>{let c=o.length?o[o.length-1]:{route:null,resolver:this.injector.get(Wq),url:""},u=this.getResolver(a)??c.resolver,l=this.getUrlPart(a),f=c.url+(l?`/${l}`:"");return o.concat({route:a,resolver:u,url:f})},[])),ht({bufferSize:1,refCount:!0}))}resolveBreadcrumbs(n){return this.routesWithExtras$.pipe(E(r=>n?.includeCurrentRoute?r:this.trimCurrentRoute(r)),O(r=>r.length?Pe(r.map(s=>this.resolveRouteBreadcrumb(s))):I([])),E(r=>r.flat()))}getResolver(n){let r=this.getPageMetaConfig(n);return typeof r!="string"&&r?.resolver?this.injector.get(r.resolver,null):null}resolveRouteBreadcrumb({route:n,resolver:r,url:s}){let o=r;return typeof o.resolveBreadcrumbs=="function"?o.resolveBreadcrumbs({route:n,url:s,pageMetaConfig:this.getPageMetaConfig(n)}):I([])}trimCurrentRoute(n){let r=n.length-1;for(;n[r]?.route?.url.length===0&&r>=0;)r--;return n.slice(0,r)}getUrlPart(n){return n.url.map(r=>r.path).join("/")}getPageMetaConfig(n){return n?.routeConfig?.data?.cxPageMeta}};e.\u0275fac=function(r){return new(r||e)(d(IO),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})(),yP=(()=>{let e=class e{constructor(n,r){this.pageMetaConfig=n,this.winRef=r}getCanonicalUrl(n,r){let s=v(v({},this.pageMetaConfig?.pageMeta?.canonicalUrl),n);return this.buildCanonicalUrl(r??this.winRef.location.href??"",s)}buildCanonicalUrl(n,r){return r.forceHttps&&(n=n.replace(/^http(?!s):/i,"https:")),r.forceWww&&(n=n.replace(/^(https?:\/\/)(?!www\.)(.*)/i,"$1www.$2")),r.removeQueryParams&&(n=this.removeQueryParams(n,r)),r.forceTrailingSlash&&(n=n.replace(/^([^\?]+[^\/\?]$)$/i,"$1/")),n}removeQueryParams(n,r){let s=n.indexOf("?");if(s>-1){let o=n.substring(0,s),a=new URLSearchParams(n.substring(s));n=o,Array.isArray(r.removeQueryParams)&&(r.removeQueryParams.forEach(c=>{a.delete(c)}),a.toString().length>0&&(n=`${o}?${a.toString()}`))}return n}};e.\u0275fac=function(r){return new(r||e)(d(vP),d(bi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),og=(()=>{let e=class e{constructor(n,r,s,o,a){this.cmsService=n,this.translation=r,this.routingPageMetaResolver=s,this.router=o,this.pageLinkService=a,this.page$=qe(()=>this.cmsService.getCurrentPage()).pipe(x(c=>!!c)),this.title$=this.page$.pipe(E(c=>c.title)),this.description$=this.page$.pipe(E(c=>c.description)),this.robots$=this.page$.pipe(E(c=>c.robots||[])),this.homeBreadcrumb$=this.translation.translate("common.home").pipe(E(c=>[{label:c,link:"/"}])),this.breadcrumb$=Pe([this.homeBreadcrumb$,qe(()=>this.routingPageMetaResolver?.resolveBreadcrumbs())]).pipe(E(c=>c.flat()),ht({bufferSize:1,refCount:!0}))}resolveTitle(){return this.title$}resolveDescription(){return this.description$}resolveBreadcrumbs(){return this.breadcrumb$}resolveRobots(){return this.robots$}resolveCanonicalUrl(n){return this.router.events.pipe(x(r=>r instanceof st),Gn(null),E(()=>this.pageLinkService.getCanonicalUrl(n)))}};e.\u0275fac=function(r){return new(r||e)(d(sg),d(vr),d(qq),d(Oe),d(yP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yq=(()=>{let e=class e extends Jt{constructor(n){super(),this.basePageMetaResolver=n,this.pageType=be.CONTENT_PAGE}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveBreadcrumbs(){return this.basePageMetaResolver.resolveBreadcrumbs()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(og))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kq=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Ln(Gq)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[{provide:Jt,useExisting:Yq,multi:!0}]});let t=e;return t})();function EP(t=0,e){return i=>{let n=[];return i.pipe(L(r=>n.push(r)),Pi(t,e),E(()=>n),L(()=>n=[]))}}function pD(t){return e=>t.pipe(Gn(void 0),O(()=>e))}var Zq=(()=>{let e=class e extends eD{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})(),CP=(()=>{let e=class e{constructor(n){this.cmsDataConfig=n}mergePageStructure(n,r){return this.mergePage(n,r).pipe(O(s=>this.mergeSlots(s)))}shouldIgnoreBackend(n){return this.getPageFromConfig(n).pipe(E(r=>!!r&&!!r.ignoreBackend))}getComponentFromConfig(n){return I(this.getComponentById(n))}getComponentsFromConfig(n){return I(n.map(r=>this.getComponentById(r)))}getPageFromConfig(n){return I(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.pages?this.cmsDataConfig.cmsStructure.pages.find(r=>r.pageId===n):void 0)}mergePage(n,r){return this.getPageFromConfig(n).pipe(O(s=>s?(r.page||(r.page=v({},s),r.page.slots={}),r.page.slots||(r.page.slots={}),this.mergeSlots(r,s.slots)):I(r)))}mergeSlots(n,r){if(!r&&this.cmsDataConfig.cmsStructure?.slots&&(r=this.cmsDataConfig.cmsStructure.slots),!r)return I(n);for(let s of Object.keys(r))if(n.page?.slots&&!Object.keys(n.page.slots).includes(s)){n.page.slots[s]={};for(let o of this.getComponentsByPosition(r,s))n.page.slots[s].components=n.page.slots[s].components??[],n.page.slots[s].components?.push({uid:o.uid,flexType:o.flexType,typeCode:o.typeCode}),n.components=n.components??[],n.components.push(o)}return I(n)}getComponentsByPosition(n,r){let s=[];if(n[r]&&n[r].componentIds){for(let o of n[r].componentIds??[])if(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components){let a=this.cmsDataConfig.cmsStructure.components[o];a&&s.push(v({uid:o},a))}}return s}getComponentById(n){return this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components?this.cmsDataConfig.cmsStructure.components[n]:void 0}};e.\u0275fac=function(r){return new(r||e)(d(Zq))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SP=(()=>{let e=class e{constructor(n,r,s){this.cmsStructureConfigService=n,this.cmsComponentAdapter=r,this.config=s}get(n,r){return this.cmsStructureConfigService.getComponentFromConfig(n).pipe(O(s=>s?I(s):this.cmsComponentAdapter.load(n,r)))}getList(n,r){return this.cmsStructureConfigService.getComponentsFromConfig(n).pipe(O(s=>{let o=s.reduce((a,c,u)=>(c===void 0&&a.push(n[u]),a),[]);if(o.length>0){let a=this.config.componentsLoading?.pageSize||o.length,c=Math.ceil(o.length/a),u=[],l=0;for(;l<c;)u.push(this.cmsComponentAdapter.findComponentsByIds(o.slice(l*a,(l+1)*a),r)),l++;return Ni(...u).pipe(E(f=>[...s.filter(Boolean)].concat(...f)))}else return I(s)}))}};e.\u0275fac=function(r){return new(r||e)(d(CP),d(pp),d(eD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qq=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.cmsComponentConnector=r,this.logger=C(J),this.contextChange$=this.actions$.pipe(B(Un,Kr,mr)),this.loadComponent$=W(()=>({scheduler:s,debounce:o=0}={})=>this.actions$.pipe(B(cD),ii(a=>Gr(a.payload.pageContext)),G(a=>a.pipe(EP(o,s),G(c=>this.loadComponentsEffect(c.map(u=>u.payload.uid),c[0].payload.pageContext??{id:""})))),pD(this.contextChange$)))}loadComponentsEffect(n,r){return this.cmsComponentConnector.getList(n,r).pipe(O(s=>{let o=[],a=new Set(n);for(let c of s)o.push(new nS({component:c,uid:c.uid,pageContext:r})),a.delete(c.uid??"");return a.forEach(c=>{o.push(new Op({uid:c,pageContext:r}))}),he(o)}),P(s=>he(n.map(o=>new Op({uid:o,error:q(s,this.logger),pageContext:r})))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(SP))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Jq="[^/]",Xq="[^/]*",e6="(?:.+\\/)?",IP=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:Xq}],t6=[...IP,{replace:/\?/g,with:Jq}],n6=[...IP,{replace:/\?/g,with:"\\?"}];function r6(t,e=!1){let i=e?n6:t6,n=t.split("/").reverse(),r="";for(;n.length>0;){let s=n.pop();if(s==="**")n.length>0?r+=e6:r+=".*";else{let o=i.reduce((a,c)=>a?.replace(c.replace,c.with),s);r+=o,n.length>0&&(r+="\\/")}}return r}function i6(t){return t.map(e=>{let i=!e.startsWith("!");return e=i?e:e.substring(1),{positive:i,regex:`^${r6(e)}$`}})}var s6=(()=>{let e=class e{getValidator(n){let r=i6(n).map(({positive:a,regex:c})=>({positive:a,regex:new RegExp(c)})),s=r.filter(a=>a.positive),o=r.filter(a=>!a.positive);return a=>s.some(c=>c.regex.test(a))&&!o.some(c=>c.regex.test(a))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gD=(()=>{let e=class e{constructor(n){this.globService=n}getFalsy(){return function(){return null}}getFromPaths(n){let r=n.map(o=>this.getFromPath(o)),s=this.getCombined(r);return ge()&&(s._paths=n),s}getCombined(n){let r=function(o,a,c){for(let u=0;u<n.length;u++){let l=n[u](o,a,c);if(l)return l}return null};return ge()&&(r._matchers=n),r}getFromPath(n=""){let r=function(u,l,f){if(n==="")return s(u,l,f);let h=n.split("/");if(o(h.length>u.length,a(f.pathMatch==="full",o(l.hasChildren(),h.length<u.length))))return null;let p={};for(let y=0;y<h.length;y++){let b=h[y],w=u[y];if(b.startsWith(":"))p[b.substring(1)]=w;else if(b!==w.path)return null}return{consumed:u.slice(0,h.length),posParams:p}};return ge()&&(r._path=n),r;function s(c,u,l){return a(l.pathMatch==="full",o(u.hasChildren(),c.length>0))?null:{consumed:[],posParams:{}}}function o(c,u){return c||u}function a(c,u){return c&&u}}getOpposite(n){let r=function(o,a,c){return n(o,a,c)?null:{consumed:o,posParams:{}}};return ge()&&(r._originalMatcher=n),r}getFromGlob(n){let r=this.globService.getValidator(n),s=function(a){let c=`/${a.map(u=>u.path).join("/")}`;return r(c)?{consumed:a,posParams:{}}:null};return ge()&&(s._globPatterns=n),s}};e.\u0275fac=function(r){return new(r||e)(d(s6))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),o6=(()=>{let e=class e{constructor(n,r,s){this.injector=n,this.routingConfigService=r,this.urlMatcherService=s,this.logger=C(J),this.initCalled=!1}init(){this.initCalled||(this.initCalled=!0,this.configure())}configure(){let n=this.injector.get(Oe);n.resetConfig(this.configureRoutes(n.config))}configureRoutes(n){return n.map(r=>{let s=this.configureRoute(r);return r.children&&r.children.length&&(s.children=this.configureRoutes(r.children)),s})}configureRoute(n){let r=this.getRouteName(n);if(r){let s=this.routingConfigService.getRouteConfig(r);return this.validateRouteConfig(s,r,n),s?.disabled?(delete n.path,T(v({},n),{matcher:this.urlMatcherService.getFalsy()})):s?.matchers?(delete n.path,T(v({},n),{matcher:this.resolveUrlMatchers(n,s?.matchers)})):s?.paths?.length===1?(delete n.matcher,T(v({},n),{path:s?.paths[0]})):(delete n.path,T(v({},n),{matcher:this.urlMatcherService.getFromPaths(s?.paths||[])}))}return n}resolveUrlMatchers(n,r){let s=r?.map(o=>typeof o=="function"?o:this.resolveUrlMatcherFactory(n,o))??[];return this.urlMatcherService.getCombined(s)}resolveUrlMatcherFactory(n,r){return this.injector.get(r)(n)}getRouteName(n){return n.data&&n.data.cxRoute}validateRouteConfig(n,r,s){if(ge()){if(n===null||n?.paths===null||n?.matchers)return;if(!n?.paths){this.warn(`Could not configure the named route '${r}'`,s,"due to undefined config or undefined 'paths' property for this route");return}}}warn(...n){ge()&&this.logger.warn(...n)}};e.\u0275fac=function(r){return new(r||e)(d(Ye),d(Hp),d(gD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zce=(()=>{let e=class e{constructor(n){this.urlService=n}transform(n){return this.urlService.transform(n)}};e.\u0275fac=function(r){return new(r||e)(X(xc,16))},e.\u0275pipe=ln({name:"cxUrl",type:e,pure:!0});let t=e;return t})(),Qce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[Ze]});let t=e;return t})(),a6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})(),c6=(()=>{let e=class e{constructor(n,r){this.winRef=n,this.platformId=r}canActivate(n,r){return On(this.platformId)&&this.redirect(n,r),!1}redirect(n,r){let s=this.winRef.nativeWindow;s&&s.location&&(s.location.href=r.url)}};e.\u0275fac=function(r){return new(r||e)(d(bi),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function u6(t){return()=>{t.addRoutes()}}var l6=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.urlMatcherService=r,this.injector=s}get internalUrlPatterns(){return this.config&&this.config.routing&&this.config.routing.internal||[]}addRoutes(){let n=this.injector.get(Oe),r=this.getRoutes();r.length&&n.resetConfig([...r,...n.config])}getRoutes(){if(!this.internalUrlPatterns.length)return[];let n=[];return n.push({pathMatch:"full",matcher:this.getUrlMatcher(),canActivate:[c6],component:{}}),n}getUrlMatcher(){let n=this.urlMatcherService.getFromGlob(this.internalUrlPatterns);return this.urlMatcherService.getOpposite(n)}};e.\u0275fac=function(r){return new(r||e)(d(a6),d(gD),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jce=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:bt,multi:!0,useFactory:u6,deps:[l6]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),d6=(()=>{let e=class e{get routingConfig(){return this.config&&this.config.routing}get shouldProtect(){return!!this.routingConfig?.protected}constructor(n,r){this.config=n,this.urlParsingService=r,this.nonProtectedPaths=[],this.shouldProtect&&(this.nonProtectedPaths=this.getNonProtectedPaths().map(s=>this.getSegments(s)))}isUrlProtected(n){return this.shouldProtect&&!this.matchAnyPath(n,this.nonProtectedPaths)}matchAnyPath(n,r){return r.some(s=>this.matchPath(n,s))}matchPath(n,r){return this.urlParsingService.matchPath(n,r)}getNonProtectedPaths(){return Object.values(this.routingConfig?.routes??{}).reduce((n,r)=>r.protected===!1&&r.paths&&r.paths.length?n.concat(r?.paths??[]):n,[])}getSegments(n){return(n||"").split("/")}};e.\u0275fac=function(r){return new(r||e)(d(Vp),d(KS))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xce=(()=>{let e=class e{constructor(n,r){this.service=n,this.authGuard=r}canActivate(n){let r=n.url.map(s=>s.path);return r=r.length?r:[""],this.service.isUrlProtected(r)?this.authGuard.canActivate():I(!0)}};e.\u0275fac=function(r){return new(r||e)(d(d6),d(I3))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),f6=(()=>{let e=class e{constructor(n,r){this.baseSiteService=n,this.configInit=r,this.scopes=["routing"],this.configFactory=()=>Yn(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context").pipe(O(n=>{let r=n?.context?.[qr]?.[0];return this.baseSiteService.get(r).pipe(L(s=>{if(!s)throw new Error(`Error: Cannot get base site config for ${r}.`)}),E(s=>this.getRoutingConfig(s)),oe(1))}))}getRoutingConfig(n){return{routing:{protected:n?.requiresAuthentication}}}};e.\u0275fac=function(r){return new(r||e)(d(ys),d(_n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),h6=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.router=r,this.clearCmsRoutes$=W(()=>this.actions$.pipe(B(Un,Kr,mr),L(()=>{let s=this.router.config.filter(o=>!(o.data&&o.data.cxCmsRouteContext));s.length!==this.router.config.length&&this.router.resetConfig(s)})),{dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Oe))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),p6=[h6],g6={navigationId:0,state:{url:"",queryParams:{},params:{},context:{id:""},cmsRequired:!1,semanticRoute:void 0},nextState:void 0};function m6(){return{router:v6}}function v6(t=g6,e){switch(e.type){case qd:return T(v({},t),{nextState:e.payload.routerState,navigationId:e.payload.event.id});case Kd:case Yd:return T(v({},t),{nextState:void 0});case CO:return t.nextState?T(v({},t),{nextState:T(v({},t.nextState),{context:e.payload})}):t;case Zd:return{state:T(v({},e.payload.routerState),{context:t.nextState?.context??e.payload.routerState.context}),navigationId:e.payload.event.id,nextState:void 0};default:return t}}var DP=new S("RouterReducers"),y6={provide:DP,useFactory:m6},E6=(()=>{let e=class e{serialize(n){let r=n.root,s=!1,o,a,c="";for(;r.firstChild;)r=r.firstChild,c+="/"+r.url.map(l=>l.path).join("/"),r.data?.cxRoute&&(a=r.data?.cxRoute),r.data?.cxCmsRouteContext&&(o=r.data?.cxCmsRouteContext),!s&&(o||r.routeConfig?.canActivate?.find(l=>l&&l.guardName==="CmsPageGuard"))&&(s=!0);a=a||this.lookupSemanticRoute(c);let{params:u}=r;return o=this.getPageContext(o,r),{url:n.url,queryParams:n.root.queryParams,params:u,context:o,cmsRequired:s,semanticRoute:a}}getPageContext(n,r){let s=n;if(r.url.length>0&&r.url[0].path==="cx-preview"&&r.queryParams.cmsTicketId!==void 0)s={id:VN,type:be.CONTENT_PAGE};else{let{params:o}=r;o.productCode?s={id:o.productCode,type:be.PRODUCT_PAGE}:o.categoryCode?s={id:o.categoryCode,type:be.CATEGORY_PAGE}:o.brandCode?s={id:o.brandCode,type:be.CATEGORY_PAGE}:r.data.pageLabel!==void 0&&(s={id:r.data.pageLabel,type:be.CONTENT_PAGE})}return s||(r.url.length>0?s={id:"/"+r.url.map(a=>a.path).join("/"),type:be.CONTENT_PAGE}:s={id:BN,type:be.CONTENT_PAGE}),s}lookupSemanticRoute(n){return this.routingConfig.getRouteName(n.substr(1))}constructor(n){this.routingConfig=n}};e.\u0275fac=function(r){return new(r||e)(d(Hp))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function C6(t){return()=>t.init()}function S6(t,e){return e.routing?.protected===void 0?t:null}function I6(){let e=(C(cI,{optional:!0})??[]).map(i=>i());return Promise.all(e)}var eue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[y6,{provide:mo,useClass:E6},{provide:bt,useFactory:C6,deps:[o6],multi:!0},{provide:Yp,useFactory:S6,deps:[f6,Vp],multi:!0},{provide:od,useFactory:I6}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[fr.forFeature(NC,DP),Br.forFeature(p6),jM.forRoot({routerState:1,stateKey:NC})]});let t=e;return t})();function D6(t,e){return n=>{let r=n.data&&n.data.cxRoute,s=t.getRouteConfig(r),o=s&&s.paths||[];return e.getFromPaths(o)}}var tue=new S("DEFAULT_URL_MATCHER",{providedIn:"root",factory:()=>D6(C(Hp),C(gD))}),b6=(()=>{let e=class e{getIdListByItemType(n){let r=[],s=[],o=[];return n.forEach(a=>{a.superType==="AbstractCMSComponent"?s.push(a.id):a.superType==="AbstractPage"?r.push(a.id):a.superType==="AbstractMedia"&&o.push(a.id)}),{pageIds:r,componentIds:s,mediaIds:o}}constructor(n,r,s){this.actions$=n,this.cmsComponentConnector=r,this.routingService=s,this.logger=C(J),this.loadNavigationItems$=W(()=>this.actions$.pipe(B(oP),E(o=>o.payload),E(o=>({ids:this.getIdListByItemType(o.items),nodeId:o.nodeId})),G(o=>o.ids.componentIds.length>0?this.routingService.getRouterState().pipe(x(yn),E(a=>a.state.context),oe(1),G(a=>this.cmsComponentConnector.getList(o.ids.componentIds,a).pipe(E(c=>new sS({nodeId:o.nodeId,components:c})),P(c=>I(new Np(o.nodeId,q(c,this.logger))))))):I(new Np(o.nodeId,"navigation nodes are empty")))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(SP),d(wi))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),w6=(()=>{let e=class e{constructor(n,r){this.cmsPageAdapter=n,this.cmsStructureConfigService=r}get(n){return this.cmsStructureConfigService.shouldIgnoreBackend(n.id).pipe(O(r=>r?I({}):this.cmsPageAdapter.load(n).pipe(P(s=>{if(s instanceof Ht&&s.status===400)return I({});throw s}))),O(r=>this.mergeDefaultPageStructure(n,r)))}mergeDefaultPageStructure(n,r){return this.cmsStructureConfigService.mergePageStructure(n.id,r)}};e.\u0275fac=function(r){return new(r||e)(d(gp),d(CP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),T6=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.cmsPageConnector=r,this.routingService=s,this.logger=C(J),this.refreshPage$=W(()=>this.actions$.pipe(B(Un,Kr,mr),O(()=>this.routingService.getRouterState().pipe(x(o=>o&&o.state&&o.state.cmsRequired&&!o.nextState),oe(1),E(o=>o.state.context),G(o=>I(new xo(o))))))),this.loadPageData$=W(()=>this.actions$.pipe(B(cP),E(o=>o.payload),ii(o=>Gr(o)),G(o=>o.pipe(O(a=>this.cmsPageConnector.get(a).pipe(G(c=>{let u=[new rS((c.components??[]).map(f=>({component:f,pageContext:a}))),new aS(a,c.page??{})],l=c.page?.label;return l&&l!==a.id&&u.unshift(new cS({id:l,type:a.type},c.page??{})),u}),P(c=>I(new oS(a,q(c,this.logger))))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(w6),d(wi))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),A6=[T6,Qq,b6],R6={component:void 0,pageContext:{}};function ff(t,e){switch(e.type){case uD:return!1;case dD:case lD:return!0}return t}function M6(t=R6,e){switch(e.type){case cD:{let i=at(e.meta.entityType,ff),n=Gr(e.payload.pageContext,!0);return T(v({},t),{pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case uD:{let i=at(e.meta.entityType,ff),n=Gr(e.payload.pageContext,!0);return T(v({},t),{pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case lD:{let i=at(e.meta.entityType,ff),n=Gr(e.payload.pageContext,!0);return T(v({},t),{component:e.payload.component,pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case dD:{let i=at(e.meta.entityType,ff);if(!Array.isArray(e.payload)){let n=Gr(e.payload.pageContext,!0);return T(v({},t),{component:e.payload.component,pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}}}return t}var x6=void 0;function O6(t=x6,e){switch(e.type){case aP:if(e.payload.components.length){let n=e.payload.components.reduce((r,s)=>T(v({},r),{[`${s.uid}_AbstractCMSComponent`]:s}),{});return v(v({},t),n)}}return t}var N6={entities:{}};function P6(t=N6,e){switch(e.type){case fD:{let i=e.payload;return T(v({},t),{entities:T(v({},t.entities),{[i.pageId??""]:i})})}}return t}var xx=void 0;function hf(t){return(e=xx,i)=>{if(i.meta&&i.meta.entityType===t)switch(i.type){case fD:return i.payload.pageId;case uP:return xx;case dP:return i.payload;case lP:return i.payload.pageId}return e}}function F6(){return{page:ss({pageData:P6,index:ss({content:us(be.CONTENT_PAGE,hf(be.CONTENT_PAGE)),product:us(be.PRODUCT_PAGE,hf(be.PRODUCT_PAGE)),category:us(be.CATEGORY_PAGE,hf(be.CATEGORY_PAGE)),catalog:us(be.CATALOG_PAGE,hf(be.CATALOG_PAGE))})}),components:Tc(Gc,M6),navigation:us(ig,O6)}}var bP=new S("CmsReducers"),_6={provide:bP,useFactory:F6};function L6(t){return function(e,i){return(i.type===Un||i.type===Kr||i.type===mr)&&(e=void 0),t(e,i)}}var k6=[L6];function j6(){return{state:{ssrTransfer:{keys:{[aD]:Bo.TRANSFER_STATE}}}}}var U6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[Uo(j6),_6],imports:[Ze,Ti,fr.forFeature(aD,bP,{metaReducers:k6}),Br.forFeature(A6)]});let t=e;return t})();function $6(t){let e=!1;return t.find(i=>{let n=i.features?.[Do];n&&(e=n)}),e?Aq:sP}var B6=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[sg,Uo($6,[wc])]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[U6,Kq.forRoot()]});let t=e;return t})(),V6=(()=>{let e=class e{constructor(){this.logger=C(J)}handleError(n){this.logger.error(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),H6=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:It,useClass:V6}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),Qr=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.CONFLICT=409]="CONFLICT",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t}(Qr||{}),vt=(()=>{let e=class e{constructor(n,r){this.globalMessageService=n,this.platformId=r}hasMatch(n){return n.status===this.responseStatus}getErrorTranslationKey(n){let r="httpHandlers.badRequest";return n?`${r}.${n.toLowerCase().replace(/ /g,"_")}`:`${r}PleaseLoginAgain`}isSsr(){return this.platformId?!On(this.platformId):!1}};e.\u0275fac=function(r){return new(r||e)(d(Vo),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.BAD_GATEWAY}handleError(){this.globalMessageService.add({key:"httpHandlers.badGateway"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G6="/authorizationserver/oauth/token",W6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.BAD_REQUEST}handleError(n,r){this.handleBadPassword(n,r),this.handleBadLoginResponse(n,r),this.handleValidationError(n,r),this.handleGuestDuplicateEmail(n,r),this.handleUnknownIdentifierError(n,r)}handleBadPassword(n,r){r.url?.includes(G6)&&r.error?.error==="invalid_grant"&&n.body?.get("grant_type")==="password"&&(this.globalMessageService.add({key:this.getErrorTranslationKey(r.error?.error_description),params:{errorMessage:r.error.error_description||r.message||""}},ke.MSG_TYPE_ERROR),this.globalMessageService.remove(ke.MSG_TYPE_CONFIRMATION))}handleBadLoginResponse(n,r){this.getErrors(r).filter(s=>s.type==="PasswordMismatchError").forEach(()=>{let o=new URL(n.url).pathname.endsWith("/password")?"httpHandlers.badRequestOldPasswordIncorrect":"httpHandlers.validationErrors.invalid.password";this.globalMessageService.add({key:o},ke.MSG_TYPE_ERROR)})}handleValidationError(n,r){this.getErrors(r).filter(s=>s.type==="ValidationError").forEach(s=>{this.globalMessageService.add({key:`httpHandlers.validationErrors.${s.reason}.${s.subject}`},ke.MSG_TYPE_ERROR)})}handleGuestDuplicateEmail(n,r){this.getErrors(r).filter(s=>s.type==="DuplicateUidError").forEach(s=>{this.globalMessageService.add({key:"httpHandlers.badRequestGuestDuplicateEmail",params:{errorMessage:s.message||""}},ke.MSG_TYPE_ERROR)})}handleUnknownIdentifierError(n,r){this.getErrors(r).filter(s=>s.type==="UnknownIdentifierError").forEach(s=>{this.globalMessageService.add(s.message?s.message:{key:"httpHandlers.unknownIdentifier"},ke.MSG_TYPE_ERROR)})}getErrors(n){return(n.error?.errors||[]).filter(r=>r.type!=="JaloObjectNoLongerValidError")}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),q6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.CONFLICT}handleError(){this.globalMessageService.add({key:"httpHandlers.conflict"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y6=(()=>{let e=class e extends vt{handleError(n){n.url.endsWith(this.occEndpoints.buildUrl("user",{urlParams:{userId:"current"}}))&&this.authService.logout(),this.globalMessageService.add({key:"httpHandlers.forbidden"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}constructor(n,r,s){super(n),this.globalMessageService=n,this.authService=r,this.occEndpoints=s,this.responseStatus=Qr.FORBIDDEN}};e.\u0275fac=function(r){return new(r||e)(d(Vo),d($n),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.GATEWAY_TIMEOUT}handleError(){this.globalMessageService.add({key:"httpHandlers.gatewayTimeout"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.INTERNAL_SERVER_ERROR}handleError(){this.globalMessageService.add({key:"httpHandlers.internalServerError"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Q6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.NOT_FOUND}handleError(){}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Qr.UNKNOWN,this.logger=C(J)}hasMatch(n){return!0}handleError(n,r){(ge()||this.isSsr())&&this.logger.warn(`An unknown http error occurred
`,r.message)}getPriority(){return-50}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mD(t,e=[],i=[]){let n=(t??[]).filter(s=>!s.hasMatch||s.hasMatch(...e));if(n.length<2)return n[0];let r=-1/0;return n.reduce((s,o)=>{let a=o.getPriority?o.getPriority(...i):0;return r>a?s:(r=a,o)},void 0)}var X6=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.handlers$=this.unifiedInjector.getMulti(vt).pipe(ht(1))}intercept(n,r){return r.handle(n).pipe(L({error:s=>{s instanceof Ht&&this.handleErrorResponse(n,s)}}))}handleErrorResponse(n,r){let s=this.getResponseHandler(r);s&&s.handleError(n,r)}getResponseHandler(n){return mD(mp(this.handlers$)??[],[n])}};e.\u0275fac=function(r){return new(r||e)(d(Vc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),e5=[{provide:vt,useExisting:J6,multi:!0},{provide:vt,useExisting:z6,multi:!0},{provide:vt,useExisting:W6,multi:!0},{provide:vt,useExisting:q6,multi:!0},{provide:vt,useExisting:Y6,multi:!0},{provide:vt,useExisting:K6,multi:!0},{provide:vt,useExisting:Z6,multi:!0},{provide:vt,useExisting:Q6,multi:!0}],t5=[{provide:pn,useExisting:X6,multi:!0}],n5={entities:{}};function r5(t=n5,e){switch(e.type){case $f:{let i=e.payload;if(t.entities[i.type]===void 0)return T(v({},t),{entities:T(v({},t.entities),{[i.type]:[i.text]})});{let n=t.entities[i.type];return T(v({},t),{entities:T(v({},t.entities),{[i.type]:[...n,i.text]})})}}case $O:{let i=e.payload.type,n=e.payload.index;if(Object.keys(t.entities).length===0||!t.entities[i])return t;let r=[...t.entities[i]];return r.splice(n,1),T(v({},t),{entities:T(v({},t.entities),{[i]:r})})}case BO:{let i=T(v({},t.entities),{[e.payload]:[]});return T(v({},t),{entities:i})}}return t}function i5(){return r5}var wP=new S("GlobalMessageReducers"),s5={provide:wP,useFactory:i5},o5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[s5],imports:[Ti,fr.forFeature(VO,wP)]});let t=e;return t})(),bc=class{static shallowEqualObjects(e,i){if(e===i)return!0;if(!e||!i)return!1;let n=Object.keys(e),r=Object.keys(i),s=n.length,o=r.length;if(s!==o)return!1;for(let a=0;a<s;a++){let c=n[a];if(e[c]!==i[c])return!1}return!0}static deepEqualObjects(e,i){return e===i?!0:!(e instanceof Object)||!(i instanceof Object)||e.constructor!==i.constructor?!1:this.compareObjectProperties(e,i)}static compareObjectProperties(e,i){for(let n in e)if(e.hasOwnProperty(n)){if(!i.hasOwnProperty(n))return!1;if(e[n]!==i[n]&&(typeof e[n]!="object"||!this.deepEqualObjects(e[n],i[n])))return!1}for(let n in i)if(i.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}static countOfDeepEqualObjects(e,i){return i.reduce((n,r)=>(this.deepEqualObjects(e,r)&&n++,n),0)}static indexOfFirstOccurrence(e,i){for(let n=0;n<i.length;n++)if(this.deepEqualObjects(i[n],e))return n}},a5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})(),c5=(()=>{let e=class e{constructor(n,r,s,o){this.actions$=n,this.store=r,this.config=s,this.platformId=o,this.removeDuplicated$=W(()=>this.actions$.pipe(B($f),E(a=>a.payload),O(a=>I(a.text).pipe(rt(this.store.pipe(M(zO(a.type)))),x(([c,u])=>bc.countOfDeepEqualObjects(c,u)>1),E(([c,u])=>{let l=bc.indexOfFirstOccurrence(c,u);if(l!==void 0)return new Cc({type:a.type,index:l})}),x(yn))))),this.hideAfterDelay$=W(()=>On(this.platformId)?this.actions$.pipe(B($f),E(a=>a.payload),je(a=>{let c=this.config.globalMessages?.[a.type];return this.store.pipe(M(h3(a.type)),oe(1),x(u=>(c&&c.timeout!==void 0||a.timeout!==void 0)&&u>0),Kn(a.timeout||c?.timeout),O(()=>I(new Cc({type:a.type,index:0}))))})):()=>pe)}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(me),d(a5),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),u5={globalMessages:{[ke.MSG_TYPE_CONFIRMATION]:{timeout:3e3},[ke.MSG_TYPE_INFO]:{timeout:3e3},[ke.MSG_TYPE_ERROR]:{timeout:7e3},[ke.MSG_TYPE_WARNING]:{timeout:7e3},[ke.MSG_TYPE_ASSISTIVE]:{timeout:7e3}}},l5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...e5,...t5]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[Ln(u5)],imports:[o5,Br.forFeature([c5])]});let t=e;return t})(),d5={backend:{timeout:{server:2e4}}},f5=new La(()=>{});var h5=(()=>{let e=class e{constructor(n,r){this.windowRef=n,this.config=r,this.logger=C(J)}intercept(n,r){let s=this.getTimeoutValue(n);return typeof s>"u"?r.handle(n):r.handle(n).pipe(O(o=>o.type===cr.Sent?wg.pipe(Gn(o),Ko(s)):I(o)),P(o=>{throw this.convertTimeoutToHttpErrorResponse({error:o,request:n,timeoutValue:s})}))}getTimeoutValue(n){let r=n.context.get(f5),s=this.config?.backend?.timeout,o=r??s??{};return this.windowRef.isBrowser()?o?.browser:o?.server}convertTimeoutToHttpErrorResponse({error:n,request:r,timeoutValue:s}){if(n instanceof Du){let o=this.buildError(r,s);return new Ht({url:r.url,error:o})}return n}buildError(n,r){let s=`Request to URL '${n.url}' exceeded expected time of ${r}ms and was aborted.`;return this.logger.warn(s),new Error(s)}};e.\u0275fac=function(r){return new(r||e)(d(bi),d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),p5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[{provide:pn,useExisting:h5,multi:!0},Ln(d5)]});let t=e;return t})(),g5=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[p5]});let t=e;return t})(),m5={i18n:{fallbackLang:void 0,debug:!1}},zo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Lt),s},providedIn:"root"});let t=e;return t})(),v5=(()=>{let e=class e{constructor(n){this.configInit=n,this.scopes=["i18n.fallbackLang"],this.configFactory=()=>Yn(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context.language").pipe(E(n=>({i18n:{fallbackLang:n?.context?.language?.[0]}})))}};e.\u0275fac=function(r){return new(r||e)(d(_n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nue=(()=>{let e=class e extends AA{constructor(n){super(""),this.language=n,this.logger=C(J)}transform(n,r,s){return super.transform(n,r,s,this.getLang())}getLang(){let n=this.getActiveLang();try{return Iy(n),n}catch{return this.reportMissingLocaleData(n),"en"}}getActiveLang(){let n="";return this.language.getActive().subscribe(r=>n=r).unsubscribe(),n}reportMissingLocaleData(n){ge()&&this.logger.warn(`cxDate pipe: No locale data registered for '${n}' (see https://angular.io/api/common/registerLocaleData).`)}};e.\u0275fac=function(r){return new(r||e)(X(Cs,16))},e.\u0275pipe=ln({name:"cxDate",type:e,pure:!0});let t=e;return t})(),lS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),ag=new S("I18NEXT_INSTANCE",{providedIn:"root",factory:()=>mt.createInstance()}),y5=new S("I18NEXT_HTTP_BACKEND_CLIENT",{providedIn:"root",factory:()=>{let t=C(Le);return(e,i,n,r)=>{t.get(i,{responseType:"text"}).subscribe({next:s=>r(null,{status:200,data:s}),error:s=>r(s,{data:null,status:s.status})})}}}),E5=(()=>{let e=class e{constructor(n,r,s,o){this.i18next=n,this.i18nextHttpClient=r,this.config=s,this.windowRef=o}hasMatch(){return!!this.config.i18n?.backend?.loadPath}initialize(){return this.i18next.use(tx),{backend:this.getBackendConfig()}}getBackendConfig(){if(!this.config.i18n?.backend?.loadPath)throw new Error("Missing config `i18n.backend.loadPath`.");return{loadPath:this.getLoadPath(this.config.i18n.backend.loadPath),request:this.i18nextHttpClient,reloadInterval:!1}}getLoadPath(n){return!this.windowRef.isBrowser()&&!n.match(/^http(s)?:\/\//)?(n.startsWith("/")&&(n=n.slice(1)),n.startsWith("./")&&(n=n.slice(2)),`${this.windowRef.location.origin}/${n}`):n}};e.\u0275fac=function(r){return new(r||e)(d(ag),d(y5),d(zo),d(bi))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),C5=(()=>{let e=class e{constructor(n,r){this.config=n,this.i18next=r}hasMatch(){return!!this.config.i18n?.backend?.loader}initialize(){let n=this.config.i18n?.backend?.loader;if(!n)throw new Error("Missing config `i18n.backend.loader`.");return this.i18next.use(hx(n)),{backend:{}}}};e.\u0275fac=function(r){return new(r||e)(d(zo),d(ag))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),S5=[{provide:lS,useExisting:E5,multi:!0},{provide:lS,useExisting:C5,multi:!0}],I5=new S("I18NEXT_LOGGER_PLUGIN",{providedIn:"root",factory:()=>{let t=C(J);return{type:"logger",log:e=>t.log(...e),warn:e=>t.warn(...e),error:e=>t.error(...e)}}}),dS=class{},Io=function(t){return t[t.Parallel=0]="Parallel",t[t.Queue=1]="Queue",t[t.CancelPrevious=2]="CancelPrevious",t[t.ErrorPrevious=3]="ErrorPrevious",t}(Io||{}),D5=(()=>{let e=class e{constructor(){this.subscriptions=new Ee}create(n,r){let s=new re,o=new re,a=l=>({next:f=>l.next(f),error:f=>l.error(f),complete:()=>l.complete()}),c;switch(r?.strategy){case Io.CancelPrevious:case Io.ErrorPrevious:c=Ni(s,o).pipe(O(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),P(()=>pe),Sn(()=>{!f.closed&&!f.hasError&&(r.strategy===Io.ErrorPrevious?f.error(new Error("Canceled by next command")):f.complete())}))));break;case Io.Parallel:c=Ni(s,o).pipe(G(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),P(()=>pe))));break;case Io.Queue:default:c=Ni(s,o).pipe(je(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),P(()=>pe))));break}return this.subscriptions.add(c.subscribe()),new class extends dS{constructor(){super(...arguments),this.execute=l=>{let f=new sn;return o.next(f),s.next(l),f}}}}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rue=(()=>{let e=class e{constructor(n){this.eventService=n,this.subscriptions=new Ee}create(n,r){let s={data:void 0,error:!1,loading:!0},o=new Te(s),a=Qo(()=>o.value.loading,I(void 0),pe),c=this.getTriggersStream([a,...r?.reloadOn??[],...r?.resetOn??[]]),u=this.getTriggersStream(r?.resetOn??[]),l=this.getTriggersStream(r?.reloadOn??[]),f=n().pipe(na(u)),h=c.pipe(L(()=>{o.value.loading||o.next(T(v({},o.value),{loading:!0}))}),O(()=>f),L(b=>{o.next({loading:!1,error:!1,data:b})}),P((b,w)=>(o.next({loading:!1,error:b,data:void 0}),w)),Os());r?.reloadOn?.length&&this.subscriptions.add(l.subscribe(()=>{o.value.loading||o.next(T(v({},o.value),{loading:!0}))})),r?.resetOn?.length&&this.subscriptions.add(u.subscribe(()=>{(o.value.data!==void 0||o.value.error!==!1||o.value.loading!==!1)&&o.next(s)}));let p=Ms(()=>h.subscribe(),()=>o),y=p.pipe(E(b=>b.data),rn());return{get:()=>y,getState:()=>p}}getTriggersStream(n){if(!n.length)return pe;let r=n.map(s=>Oi(s)?s:this.eventService.get(s));return on(...r)}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Es))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iue(t){return t.details?.[0]?.type==="JaloObjectNoLongerValidError"}var sue=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,oue=/^(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/,aue=/^(?=.*?[A-Z]).*$/,cue=/^(?=.*?\d).*$/,uue=/^(?=.*?[!@#$%^*()_\-+{};:.,]).*$/,lue=/^.{6,}$/;function due(t){let e=t?.shouldRetry??(()=>!0),i=t?.maxTries??3,n=t?.delay??300;return r=>r.pipe(Og({delay:(s,o)=>{if(o>i||!e(s))throw s;let a=o*o;return Wt(a*n)}}))}function TP(t){return qe(()=>{let e=0,i=new z(n=>{let r=()=>{n.next(),n.complete()};e?Dg.schedule(r):r(),e++});return Pe(t).pipe(Jo(()=>i))})}function fue(t){return Oi(t)?t:b5(t)?he(Promise.resolve(t)):I(t)}function b5(t){return!!t&&typeof t.then=="function"}var fS=function(t){return t.HEAD="head",t.BODY="body",t}(fS||{}),hue=(()=>{let e=class e{constructor(n,r){this.document=n,this.platformId=r}embedScript(n){let{src:r,params:s,attributes:o,callback:a,errorCallback:c,placement:u=fS.HEAD}=n,l=Qi(this.platformId);if((a||c)&&l)return;let f=s?r+this.parseParams(s):r;if(!l&&this.hasScript(f))return;let h=this.document.createElement("script");h.src=f,h.async=!0,h.defer=!0,o&&Object.keys(o).forEach(p=>{p.startsWith("data-")?h.setAttribute(p,o[p]):h[p]=o[p]}),a&&h.addEventListener("load",a),c&&h.addEventListener("error",c),u===fS.HEAD?this.document.head.appendChild(h):this.document.body.appendChild(h)}hasScript(n){return!!this.document.querySelector(`script[src="${n}"]`)}parseParams(n){let r="",s=Object.keys(n);return s.length>0&&(r="?"+s.map(o=>encodeURI(o)+"="+encodeURI(n[o])).join("&")),r}};e.\u0275fac=function(r){return new(r||e)(d(_e),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ox=class t{static getLocalTimezoneOffset(e){let i=new Date().getTimezoneOffset()*-1,n=Math.abs(Math.floor(i/60)).toString().padStart(2,"0"),r=(i%60).toString().padStart(2,"0");return`${i>=0?e?"-":"+":e?"+":"-"}${n}:${r}`}static convertDateToDatetime(e,i){return`${e}T${i?"23:59:59":"00:00:00"}${t.getLocalTimezoneOffset()}`}static convertDatetimeToDate(e){return new Date(`${e.substring(0,19)}${t.getLocalTimezoneOffset(!0)}`).toISOString().substring(0,10)}},w5=(()=>{let e=class e{constructor(n){this.backendInitializers=n}initialize(){return mD(this.backendInitializers??[])?.initialize()??{}}};e.\u0275fac=function(r){return new(r||e)(d(lS,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),T5=(()=>{let e=class e{constructor(n,r,s,o){this.i18next=n,this.config=r,this.languageService=s,this.i18nextBackendService=o,this.loggerPlugin=C(I5)}initialize(){let n=this.getI18nextConfig();return this.i18next.use(this.loggerPlugin).init(n,()=>{this.addTranslationResources(),this.synchronizeLanguage()})}getI18nextConfig(){let n={ns:[],fallbackLng:this.config.i18n?.fallbackLang,debug:this.config.i18n?.debug,interpolation:{escapeValue:!1,skipOnVariables:!1}};return this.config.i18n?.backend&&(n=v(v({},n),this.i18nextBackendService.initialize())),n}addTranslationResources(){let n=this.config.i18n?.resources??{};Object.keys(n).forEach(r=>{Object.keys(n[r]).forEach(s=>{this.i18next.addResourceBundle(r,s,n[r][s],!0,!0)})})}synchronizeLanguage(){this.subscription=this.subscription??this.languageService.getActive().subscribe(n=>this.i18next.changeLanguage(n))}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(ag),d(zo),d(Cs),d(w5))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),A5=[{provide:bt,useFactory:()=>{let t=C(_n),e=C(T5);return()=>Yn(t.getStable("i18n")).then(()=>e.initialize())},multi:!0},...S5],R5=(()=>{let e=class e{constructor(n){this.config=n,this.duplicates={},this.chunks={},this.logger=C(J),this.KEY_SEPARATOR=".";let r=n.i18n&&n.i18n.chunks||{};Object.keys(r).forEach(s=>{r[s].forEach(o=>{this.chunks.hasOwnProperty(o)?(this.duplicates[o]||(this.duplicates[o]=[this.chunks[o]]),this.duplicates[o].push(s)):this.chunks[o]=s})}),Object.keys(this.duplicates).length>0&&ge()&&this.warnDuplicates(this.duplicates)}getChunkNameForKey(n){let r=(n||"").split(this.KEY_SEPARATOR)[0],s=this.chunks&&this.chunks[r];return s||r}warnDuplicates(n){let r=[];Object.keys(n).forEach(s=>{r.push(`* '${s}' found in chunks: ${n[s].join(", ")}. Used '${this.chunks[s]}.${s}'.`)}),this.logger.warn(`Duplicated keys has been found in the config of i18n chunks:
${r.join(`
`)}`)}};e.\u0275fac=function(r){return new(r||e)(d(zo))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),M5=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.translationChunk=r,this.i18next=s,this.NON_BREAKING_SPACE="\xA0",this.NAMESPACE_SEPARATOR=":",this.logger=C(J)}translate(n,r={},s=!1){let o=Array.isArray(n)?n:[n],a=new Map,c=[];return o.forEach(u=>{let l=this.translationChunk.getChunkNameForKey(u),f=this.getNamespacedKey(u,l);c.push(f),a.set(u,l)}),new z(u=>{let l=()=>{if(!this.i18next.isInitialized)return;let f=!1;this.i18next.loadNamespaces(Array.from(a.values()),()=>{f=!0,this.i18next.exists(c,r)?u.next(this.i18next.t(c,r)):(this.reportMissingKey(a),u.next(this.getFallbackValue(c)))}),!f&&s&&u.next(this.NON_BREAKING_SPACE)};return l(),this.i18next.on("languageChanged",l),()=>this.i18next.off("languageChanged",l)})}loadChunks(n){return this.i18next.loadNamespaces(n)}getFallbackValue(n){let r=Array.isArray(n)?n.join(", "):n;return ge()?`[${r}]`:this.NON_BREAKING_SPACE}reportMissingKey(n){let r=[...n.keys()];ge()&&this.logger.warn(`Translation keys missing [${r.join(", ")}]. Attempted to load ${[...n].map(([s,o])=>`'${s}' from chunk '${o}'`).join(", ")}.`)}getNamespacedKey(n,r){return r+this.NAMESPACE_SEPARATOR+n}};e.\u0275fac=function(r){return new(r||e)(d(zo),d(R5),d(ag))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cC(t){return t!==null&&typeof t=="object"&&("key"in t||"raw"in t)}var pue=(()=>{let e=class e{constructor(n,r){this.service=n,this.cd=r,this.logger=C(J)}transform(n,r={}){if(!n)return ge()&&this.logger.error(`The given input for the cxTranslate pipe (${n}) is invalid and cannot be translated`),"";if(cC(n)&&n.raw)return n.raw;cC(n)&&n.params&&(r=v(v({},r),n.params));let s=cC(n)?n.key:n;return this.translate(s,r),this.translatedValue}translate(n,r){(n!==this.lastKey||!bc.shallowEqualObjects(r,this.lastOptions))&&(this.lastKey=n,this.lastOptions=r,this.sub&&this.sub.unsubscribe(),this.sub=this.service.translate(n,r,!0).subscribe(s=>this.markForCheck(s)))}markForCheck(n){this.translatedValue=n,this.cd.markForCheck()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(X(vr,16),X(Pr,16))},e.\u0275pipe=ln({name:"cxTranslate",type:e,pure:!1});let t=e;return t})();function x5(t,e){return e?.i18n?.fallbackLang!==void 0?null:t}var O5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Ln(m5),{provide:vr,useExisting:M5},...A5,{provide:Yp,useFactory:x5,deps:[v5,zo],multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();function N5(t,e){let i=C(J);return()=>Promise.all(t.runModuleInitializerFunctions(e)).catch(n=>{throw i.error("MODULE_INITIALIZER promise was rejected during app initialization.",n),n})}var P5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:bt,useFactory:N5,deps:[tD,[new un,jN]],multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();function F5(){return us(ae)}var AP=new S("ProcessReducers"),_5={provide:AP,useFactory:F5},L5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[_5],imports:[Ti,fr.forFeature(ae,AP)]});let t=e;return t})(),k5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[L5]});let t=e;return t})(),gue=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[Ti.forRoot(),UN.forRoot(),L3.forRoot(),j3.forRoot(),O5.forRoot(),B6.forRoot(),l5.forRoot(),k5.forRoot(),z3.forRoot(),hq.forRoot(),t4.forRoot(),qW.forRoot(),P5.forRoot(),g5.forRoot(),H6.forRoot()]});let t=e;return t})(),mue=new S("PointOfServiceNormalizer"),j5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),U5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),vue=(()=>{let e=class e{constructor(n,r,s,o){this.cms=n,this.unifiedInjector=r,this.pageMetaConfig=s,this.platformId=o,this.resolvers$=this.unifiedInjector.getMulti(Jt).pipe(ht({bufferSize:1,refCount:!0})),this.meta$=qe(()=>this.cms.getCurrentPage()).pipe(x(a=>!!a),O(a=>this.getMetaResolver(a)),O(a=>a?this.resolve(a):I(null)),ht({bufferSize:1,refCount:!0}))}getMeta(){return this.meta$}resolve(n){let r=this.getResolverMethods(),s=Object.keys(r).filter(o=>n[r[o]]).map(o=>n[r[o]]().pipe(E(a=>({[o]:a}))));return s.length===0?I({}):TP(s).pipe(E(o=>Object.assign({},...o)))}getResolverMethods(){let n={};return this.pageMetaConfig?.pageMeta?.resolvers?.filter(r=>!On(this.platformId??"")||!r.disabledInCsr||ge()&&this.pageMetaConfig?.pageMeta?.enableInDevMode).forEach(r=>n[r.property]=r.method),n}getMetaResolver(n){return this.resolvers$.pipe(E(r=>mD(r,[n],[n])))}};e.\u0275fac=function(r){return new(r||e)(d(sg),d(Vc),d(vP),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yue=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.componentDecorators$=this.unifiedInjector.getMulti(j5).pipe(ht(1)),this.slotDecorators$=this.unifiedInjector.getMulti(U5).pipe(ht(1))}addAttributesToComponent(n,r,s){(mp(this.componentDecorators$)||[]).forEach(o=>o.decorate(n,r,s))}addAttributesToSlot(n,r,s){(mp(this.slotDecorators$)||[]).forEach(o=>o.decorate(n,r,s))}};e.\u0275fac=function(r){return new(r||e)(d(Vc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $5=(()=>{let e=class e{constructor(n,r){this.cmsConfig=n,this.lazyModules=r,this.features=new Map}isConfigured(n){return!!this.getFeatureConfig(n)?.module}resolveFeature(n){return n=this.resolveFeatureAlias(n),qe(()=>{if(!this.features.has(n)){if(!this.isConfigured(n))return At(()=>new Error("No module defined for Feature Module "+n));let r=this.getFeatureConfig(n);this.features.set(n,this.resolveDependencies(r?.dependencies).pipe(O(s=>this.lazyModules.resolveModuleInstance(r?.module,n,s)),ht()))}return this.features.get(n)??pe})}getFeatureConfig(n){return this.cmsConfig.featureModules?.[this.resolveFeatureAlias(n)]}resolveFeatureAlias(n){for(;typeof this.cmsConfig.featureModules?.[n]=="string";)n=this.cmsConfig.featureModules?.[n];return n}resolveDependencies(n=[]){return n?.length?wu(n.map(r=>typeof r=="string"?this.resolveFeature(r):this.lazyModules.resolveDependencyModuleInstance(r))):I(void 0)}};e.\u0275fac=function(r){return new(r||e)(d(eD),d(tD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nx="proxyFacadeInstance",B5=(()=>{let e=class e{constructor(n,r){this.featureModules=n,this.injector=r}getResolver(n,r,s=!1){if(!this.featureModules.isConfigured(n))return At(()=>new Error(`Feature ${n} is not configured properly`));let o=this.featureModules.resolveFeature(n).pipe(E(a=>a.injector),E(a=>a.get(r)));return s&&(o=o.pipe(Kn(0))),o.pipe(ht())}call(n,r,s){let o=bu(n.pipe(E(a=>a[r](...s))),{connector:()=>new sn,resetOnDisconnect:!1});return o.connect(),o.pipe(O(a=>Oi(a)?a:pe))}get(n,r){return n.pipe(O(s=>s[r]))}create({facade:n,feature:r,methods:s,properties:o,async:a}){let c=this.getResolver(r,n,a),u=new class extends n{};return(s??[]).forEach(l=>{u[l]=(...f)=>this.call(c,l,f)}),(o??[]).forEach(l=>{u[l]=this.get(c,l)}),u[Nx]=!0,u}isProxyFacadeInstance(n){return!!n?.[Nx]}};e.\u0275fac=function(r){return new(r||e)(d($5),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Eue(t){return C(B5).create(t)}var V5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r=""){return this.adapter.load(n,r)}getMany(n){return this.adapter.loadMany?this.adapter.loadMany(n):n.map(r=>T(v({},r),{data$:this.adapter.load(r.code,r.scope)}))}};e.\u0275fac=function(r){return new(r||e)(d(vp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r,s){return this.adapter.load(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(yp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r){return this.adapter.load(n,r)}add(n,r){return this.adapter.post(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Ep))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G5=(()=>{let e=class e{constructor(n){this.adapter=n}search(n,r){return this.adapter.search(n,r)}getSuggestions(n,r){return this.adapter.loadSuggestions(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Cp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Px=(()=>{let e=class e extends Yr{};e.type="FacetChangedEvent";let t=e;return t})(),RP="[Product] Load Product References Data",W5="[Product] Load Product References Data Fail",MP="[Product] Load Product References Data Success",xP="[Product] Clean Product References",hS=class{constructor(e){this.payload=e,this.type=RP}},pS=class{constructor(e){this.payload=e,this.type=W5}},gS=class{constructor(e){this.payload=e,this.type=MP}},mS=class{constructor(){this.type=xP}},OP="[Product] Load Product Reviews Data",q5="[Product] Load Product Reviews Data Fail",NP="[Product] Load Product Reviews Data Success",PP="[Product] Post Product Review",FP="[Product] Post Product Review Fail",_P="[Product] Post Product Review Success",vS=class{constructor(e){this.payload=e,this.type=OP}},yS=class{constructor(e){this.payload=e,this.type=q5}},ES=class{constructor(e){this.payload=e,this.type=NP}},CS=class{constructor(e){this.payload=e,this.type=PP}},SS=class{constructor(e){this.payload=e,this.type=FP}},IS=class{constructor(e){this.payload=e,this.type=_P}},LP="[Product] Search Products",Y5="[Product] Search Products Fail",kP="[Product] Search Products Success",jP="[Product] Get Product Suggestions",UP="[Product] Get Product Suggestions Success",K5="[Product] Get Product Suggestions Fail",$P="[Product] Clear Product Search Result",Fp=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=LP}},DS=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=Y5}},bS=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=kP}},wS=class{constructor(e){this.payload=e,this.type=jP}},_p=class{constructor(e){this.payload=e,this.type=UP}},TS=class{constructor(e){this.payload=e,this.type=K5}},Lp=class{constructor(e={clearPageResults:!1,clearSearchboxResults:!1}){this.payload=e,this.type=$P}},ko;(function(t){function e(u,l,f){return T(v({},US(u,l)),{scope:f})}t.entityScopedLoadMeta=e;function i(u,l,f,h){return T(v({},$S(u,l,h)),{scope:f})}t.entityScopedFailMeta=i;function n(u,l,f){return T(v({},BS(u,l)),{scope:f})}t.entityScopedSuccessMeta=n;function r(u,l,f){return T(v({},VS(u,l)),{scope:f})}t.entityScopedResetMeta=r;class s{constructor(l,f,h){this.type=_S,this.meta=e(l,f,h)}}t.EntityScopedLoadAction=s;class o{constructor(l,f,h,p){this.type=LS,this.meta=i(l,f,h,p)}}t.EntityScopedFailAction=o;class a{constructor(l,f,h,p){this.payload=p,this.type=kS,this.meta=n(l,f,h)}}t.EntityScopedSuccessAction=a;class c{constructor(l,f,h){this.type=jS,this.meta=r(l,f,h)}}t.EntityScopedResetAction=c})(ko||(ko={}));var vD="product",Wc="[Product] Detail Entity",yD="[Product] Load Product Data",BP="[Product] Load Product Data Fail",VP="[Product] Load Product Data Success",Z5="[Product] Clear Product PRICE",AS=class extends ko.EntityScopedLoadAction{constructor(e,i=""){super(Wc,e,i),this.payload=e,this.type=yD}},kp=class extends ko.EntityScopedFailAction{constructor(e,i,n=""){super(Wc,e,n,i),this.payload=i,this.type=BP}},RS=class extends ko.EntityScopedSuccessAction{constructor(e,i=""){super(Wc,e.code??"",i),this.payload=e,this.type=VP}},MS=class extends ko.EntityScopedResetAction{constructor(){super(Wc,void 0,"price"),this.type=Z5}};var cg=Nn(vD),Q5=A(cg,t=>t.references),J5=(t,e)=>A(Q5,i=>i.productCode===t&&i.list?e?i.list.filter(n=>n.referenceType===e):i.list:[]),X5=A(cg,t=>t.reviews),eY=t=>A(X5,e=>{if(e.productCode===t)return e.list}),tY={results:{},suggestions:[],auxResults:{}};function nY(t=tY,e){switch(e.type){case kP:{let i=e.payload,n=e.auxiliary?{auxResults:i}:{results:i};return v(v({},t),n)}case UP:{let i=e.payload;return T(v({},t),{suggestions:i})}case $P:return T(v({},t),{results:e.payload.clearPageResults?{}:t.results,suggestions:e.payload.clearSearchboxResults?[]:t.suggestions,auxResults:e.payload.clearSearchboxResults?{}:t.auxResults})}return t}var rY=t=>t.results,iY=t=>t.auxResults,sY=t=>t.suggestions,ED=A(cg,t=>t.search),oY=A(ED,rY),aY=A(ED,iY),cY=A(ED,sY),HP=A(cg,t=>t.details),qc=(t,e="")=>A(HP,i=>Xt(i,t)[e]||gr),uY=(t,e="")=>A(qc(t,e),i=>tt(i)),zP=(t,e="")=>A(qc(t,e),i=>kt(i)),lY=(t,e="")=>A(qc(t,e),i=>kn(i)),dY=(t,e="")=>A(qc(t,e),i=>$o(i)),Cue=A(HP,t=>Object.keys(t.entities));var Yc=(()=>{let e=class e{constructor(n){this.store=n}search(n,r){n&&this.store.dispatch(new Fp({queryText:n,searchConfig:r}))}getResults(){return this.store.pipe(M(oY))}clearResults(){this.store.dispatch(new Lp({clearPageResults:!0}))}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fY=(()=>{let e=class e{constructor(n,r){this.eventService=n,this.productSearchService=r,this.register()}register(){this.eventService.register(Px,this.buildFacetChangedEvent())}buildFacetChangedEvent(){return this.productSearchService.getResults().pipe(ta(),x(([n,r])=>this.compareSearchResults(n,r)),E(([n,r])=>{let s=this.getToggledBreadcrumb(r.breadcrumbs,n.breadcrumbs)||this.getToggledBreadcrumb(n.breadcrumbs,r.breadcrumbs);if(s)return Ii(Px,{code:s.facetCode,name:s.facetName,valueCode:s.facetValueCode,valueName:s.facetValueName,selected:r.breadcrumbs&&n.breadcrumbs&&r.breadcrumbs.length>n.breadcrumbs.length})}))}compareSearchResults(n,r){if(n&&Object.keys(n).length!==0){let s=n.freeTextSearch!==""&&n.freeTextSearch===r.freeTextSearch,o=r.breadcrumbs?.[0]?.facetCode==="allCategories"&&n.breadcrumbs?.[0]?.facetCode===r.breadcrumbs[0]?.facetCode&&n.breadcrumbs[0].facetValueCode===r.breadcrumbs[0].facetValueCode;return s||o}return!1}getToggledBreadcrumb(n,r){if(n&&r&&n.length-r.length===1)return n.find(s=>!r.find(o=>o.facetCode===s.facetCode&&o.facetValueCode===s.facetValueCode))}};e.\u0275fac=function(r){return new(r||e)(d(Es),d(Yc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hY=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(fY))},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})(),pY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.productReferencesConnector=r,this.logger=C(J),this.loadProductReferences$=W(()=>this.actions$.pipe(B(RP),E(s=>s.payload),G(s=>this.productReferencesConnector.get(s.productCode,s.referenceType,s.pageSize).pipe(E(o=>new gS({productCode:s.productCode,list:o})),P(o=>I(new pS(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(H5))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),gY=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.productReviewsConnector=r,this.globalMessageService=s,this.logger=C(J),this.loadProductReviews$=W(()=>this.actions$.pipe(B(OP),E(o=>o.payload),G(o=>this.productReviewsConnector.get(o).pipe(E(a=>new ES({productCode:o,list:a})),P(a=>I(new yS(q(a,this.logger)))))))),this.postProductReview=W(()=>this.actions$.pipe(B(PP),E(o=>o.payload),G(o=>this.productReviewsConnector.add(o.productCode,o.review).pipe(E(a=>new IS(a)),P(a=>I(new SS(q(a,this.logger)))))))),this.showGlobalMessageOnPostProductReviewSuccess$=W(()=>this.actions$.pipe(B(_P),L(()=>{this.globalMessageService.add({key:"productReview.thankYouForReview"},ke.MSG_TYPE_CONFIRMATION)})),{dispatch:!1}),this.showGlobalMessageOnPostProductReviewFail$=W(()=>this.actions$.pipe(B(FP),L(()=>{this.globalMessageService.add({key:"productReview.postReviewFail"},ke.MSG_TYPE_ERROR)})),{dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(z5),d(Vo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),mY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.productSearchConnector=r,this.logger=C(J),this.searchProducts$=W(()=>this.actions$.pipe(B(LP),ii(s=>s.auxiliary),G(s=>s.pipe(O(o=>this.productSearchConnector.search(o.payload.queryText,o.payload.searchConfig).pipe(E(a=>new bS(a,o.auxiliary)),P(a=>I(new DS(q(a,this.logger),o.auxiliary))))))))),this.getProductSuggestions$=W(()=>this.actions$.pipe(B(jP),E(s=>s.payload),O(s=>this.productSearchConnector.getSuggestions(s.term,s.searchConfig?.pageSize).pipe(E(o=>o===void 0?new _p([]):new _p(o)),P(o=>I(new TS(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(G5))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),vY=(()=>{let e=class e{productLoadEffect(n){return n.data$?.pipe(E(r=>new RS(v({code:n.code},r),n.scope)),P(r=>I(new kp(n.code,q(r,this.logger),n.scope))))??I(new kp(n.code,"Scoped product data does not exist",n.scope))}constructor(n,r){this.actions$=n,this.productConnector=r,this.logger=C(J),this.contextChange$=this.actions$.pipe(B(Nc,Un)),this.loadProduct$=W(()=>({scheduler:s,debounce:o=0}={})=>this.actions$.pipe(B(yD),E(a=>({code:a.payload,scope:a.meta.scope})),EP(o,s),G(a=>on(...this.productConnector.getMany(a).map(c=>this.productLoadEffect(c)))),pD(this.contextChange$))),this.clearProductPrice$=W(()=>this.actions$.pipe(B(Kr,mr),E(()=>new MS)))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(V5))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),yY=[mY,vY,gY,pY],EY={};function CY(t,e){let i=at(t,e);return(n=EY,r)=>r&&r.meta&&r.meta.entityType===t?T(v({},n),{[r.meta.scope??""]:i(n[r.meta.scope??""],r)}):n}function SY(t,e){return Tc(t,CY(t,e))}var Fx={productCode:"",list:[]};function IY(t=Fx,e){switch(e.type){case MP:{let i=e.payload.productCode,n=e.payload.list;return T(v({},t),{list:[...t.list,...n||[]].reduce((r,s)=>(r.some(o=>o.referenceType===s.referenceType&&o.target?.code===s.target?.code)||r.push(s),r),[]),productCode:i})}case xP:return Fx}return t}var DY={productCode:"",list:[]};function bY(t=DY,e){switch(e.type){case NP:{let i=e.payload.productCode,n=e.payload.list;return T(v({},t),{productCode:i,list:n})}}return t}function wY(){return{search:nY,details:SY(Wc),reviews:bY,references:IY}}var GP=new S("ProductReducers"),TY={provide:GP,useFactory:wY};function AY(t){return function(e,i){return(i.type===Nc||i.type===Un)&&(e=void 0),t(e,i)}}var RY=[AY],Sue=(()=>{let e=class e{constructor(n){this.store=n}loadProductReferences(n,r,s){this.store.dispatch(new hS({productCode:n,referenceType:r,pageSize:s}))}getProductReferences(n,r){return this.store.pipe(M(J5(n,r)))}cleanReferences(){this.store.dispatch(new mS)}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Iue=(()=>{let e=class e{constructor(n){this.store=n}getByProductCode(n){return this.store.pipe(M(eY(n)),L(r=>{r===void 0&&n!==void 0&&this.store.dispatch(new vS(n))}),E(r=>r??[]))}add(n,r){this.store.dispatch(new CS({productCode:n,review:r}))}};e.\u0275fac=function(r){return new(r||e)(d(me))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MY=(()=>{let e=class e{constructor(n,r,s,o,a){this.store=n,this.loadingScopes=r,this.actions$=s,this.platformId=o,this.eventService=a,this.products={}}get(n,r){return r=this.loadingScopes.expand("product",r),this.initProductScopes(n,r),this.products[n][this.getScopesIndex(r)]}initProductScopes(n,r){this.products[n]||(this.products[n]={});for(let s of r)this.products[n][s]||(this.products[n][s]=this.getProductForScope(n,s));r.length>1&&(this.products[n][this.getScopesIndex(r)]=TP(r.map(s=>this.products[n][s])).pipe(E(s=>s.every(Boolean)?yt({},...s):void 0),rn()))}getScopesIndex(n){return n.join("\u0275")}getProductForScope(n,r){let s=this.store.pipe(M(qc(n,r)),E(u=>!u.loading&&!u.success&&!u.error),rn(),x(u=>u)),o=this.store.pipe(M(zP(n,r))),a=on(s,...this.getProductReloadTriggers(n,r)).pipe(Pi(0),rt(o),L(([,u])=>{u||this.store.dispatch(new AS(n,r))})),c=this.store.pipe(M(uY(n,r)));return Ms(()=>a.subscribe(),()=>c).pipe(ht({bufferSize:1,refCount:!0}))}getProductReloadTriggers(n,r){let s=[],o=this.loadingScopes.getMaxAge("product",r);if(o&&On(this.platformId)){let c=this.actions$.pipe(B(VP,BP),x(l=>l.meta.entityId===n&&l.meta.scope===r)),u=this.actions$.pipe(B(yD),x(l=>l.payload===n&&l.meta.scope===r));s.push(this.getMaxAgeTrigger(u,c,o))}let a=this.loadingScopes.getReloadTriggers("product",r).map(c=>this.eventService.get(c));return s.concat(a)}getMaxAgeTrigger(n,r,s,o){let a=0,c=()=>o?o.now():Date.now(),u=r.pipe(L(()=>a=c()));return qe(()=>{let f=c()-a,h=u.pipe(Kn(s,o),E(()=>!0),pD(n));return f>s?on(I(!0),h):f===0?h:on(I(!0).pipe(Kn(s-f,o)),h)})}};e.\u0275fac=function(r){return new(r||e)(d(me),d(n4),d(Me),d($e),d(Es))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xY=(()=>{let e=class e{constructor(n,r){this.store=n,this.productLoading=r}get(n,r=vc){return n?this.productLoading.get(n,[].concat(r)):I(void 0)}isLoading(n,r=""){return this.store.pipe(M(zP(n,r)))}isSuccess(n,r=""){return this.store.pipe(M(lY(n,r)))}hasError(n,r=""){return this.store.pipe(M(dY(n,r)))}};e.\u0275fac=function(r){return new(r||e)(d(me),d(MY))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Due=(()=>{let e=class e extends Yc{search(n,r){this.store.dispatch(new Fp({queryText:n,searchConfig:r},!0))}getResults(){return this.store.pipe(M(aY))}clearResults(){this.store.dispatch(new Lp({clearSearchboxResults:!0}))}getSuggestionResults(){return this.store.pipe(M(cY))}searchSuggestions(n,r){this.store.dispatch(new wS({term:n,searchConfig:r}))}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OY=(()=>{let e=class e extends Jt{constructor(n,r,s,o){super(),this.productSearchService=n,this.cms=r,this.translation=s,this.basePageMetaResolver=o,this.searchPage$=this.cms.getCurrentPage().pipe(x(a=>!!a),O(a=>this.hasProductListComponent(a)?this.productSearchService.getResults().pipe(x(c=>!!c)):I(a))),this.pageType=be.CATEGORY_PAGE}resolveTitle(){return this.searchPage$.pipe(x(n=>!!n.pagination),O(n=>this.translation.translate("pageMetaResolver.category.title",{count:n.pagination?.totalResults,query:n.breadcrumbs?.length?n.breadcrumbs[0].facetValueName:void 0})))}resolveBreadcrumbs(){return Pe([this.searchPage$.pipe(),this.translation.translate("common.home")]).pipe(E(([n,r])=>n.breadcrumbs?this.resolveBreadcrumbData(n,r):[]))}resolveBreadcrumbData(n,r){let s=[];s.push({label:r,link:"/"});for(let o of n.breadcrumbs??[])o.facetValueName&&((o.facetCode==="category"||o.facetCode==="allCategories")&&s.push({label:o.facetValueName,link:`/c/${o.facetValueCode}`}),o.facetCode==="brand"&&s.push({label:o.facetValueName,link:`/Brands/${o.facetValueName}/c/${o.facetValueCode}`}));return s}hasProductListComponent(n){return!!Object.keys(n.slots||{}).find(r=>!!n.slots?.[r].components?.find(s=>s.typeCode==="CMSProductListComponent"||s.typeCode==="ProductGridComponent"))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(Yc),d(sg),d(vr),d(og))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NY=(()=>{let e=class e extends Jt{constructor(n,r,s,o,a){super(),this.productSearchService=n,this.translation=r,this.authService=s,this.route=o,this.semanticPathService=a,this.total$=this.productSearchService.getResults().pipe(x(c=>!!c?.pagination),E(c=>c.pagination?.totalResults??0)),this.pageType=be.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveBreadcrumbs(){return Pe([this.translation.translate("common.home"),this.translation.translate("myCoupons.myCoupons"),this.authService.isUserLoggedIn()]).pipe(E(([n,r,s])=>{let o=[];return o.push({label:n,link:"/"}),s&&o.push({label:r,link:this.semanticPathService.transform({cxRoute:"coupons"})}),o}))}resolveTitle(){return this.total$.pipe(O(n=>this.translation.translate("pageMetaResolver.search.findProductTitle",{count:n,coupon:this.couponCode})))}getScore(n){return super.getScore(n)+(this.couponCode?1:-1)}get couponCode(){return this.route.snapshot?.queryParams?.couponcode}};e.\u0275fac=function(r){return new(r||e)(d(Yc),d(vr),d($n),d(Ur),d(xc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PY=(()=>{let e=class e extends Jt{constructor(n,r,s,o,a){super(),this.routingService=n,this.productService=r,this.translation=s,this.basePageMetaResolver=o,this.pageLinkService=a,this.product$=this.routingService.getRouterState().pipe(E(c=>c.state.params.productCode),x(c=>!!c),O(c=>this.productService.get(c,"details")),x(yn)),this.pageType=be.PRODUCT_PAGE}resolveHeading(){return this.product$.pipe(O(n=>this.translation.translate("pageMetaResolver.product.heading",{heading:n.name})))}resolveTitle(){return this.product$.pipe(O(n=>{let r=n.name;return r+=this.resolveFirstCategory(n),r+=this.resolveManufacturer(n),this.translation.translate("pageMetaResolver.product.title",{title:r})}))}resolveDescription(){return this.product$.pipe(O(n=>this.translation.translate("pageMetaResolver.product.description",{description:n.summary})))}resolveBreadcrumbs(){return Pe([this.product$.pipe(),this.translation.translate("common.home")]).pipe(E(([n,r])=>{let s=[];s.push({label:r,link:"/"});for(let{name:o,code:a,url:c}of n.categories||[])s.push({label:o||a,link:c});return s}))}resolveImage(){return this.product$.pipe(E(n=>n.images?.PRIMARY?.zoom?.url??null))}resolveFirstCategory(n){let r=n?.categories?.[0];return r?` | ${r.name||r.code}`:""}resolveManufacturer(n){return n.manufacturer?` | ${n.manufacturer}`:""}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.product$.pipe(O(n=>this.findBaseProduct(n)),E(n=>{let r=this.routingService.getFullUrl({cxRoute:"product",params:n});return this.pageLinkService.getCanonicalUrl({},r)}))}findBaseProduct(n){return n?.baseProduct?this.productService.get(n.baseProduct,"list").pipe(x(yn),O(r=>this.findBaseProduct(r))):I(n)}};e.\u0275fac=function(r){return new(r||e)(d(wi),d(xY),d(vr),d(og),d(yP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FY=(()=>{let e=class e extends Jt{constructor(n,r,s,o){super(),this.routingService=n,this.productSearchService=r,this.translation=s,this.basePageMetaResolver=o,this.total$=this.productSearchService.getResults().pipe(x(a=>!!a?.pagination),E(a=>a.pagination?.totalResults)),this.query$=this.routingService.getRouterState().pipe(E(a=>a.state.params.query)),this.pageType=be.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveTitle(){let n=[this.total$,this.query$];return Pe(n).pipe(O(([r,s])=>this.translation.translate("pageMetaResolver.search.default_title").pipe(G(o=>this.translation.translate("pageMetaResolver.search.title",{count:r,query:s||o})))))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(wi),d(Yc),d(vr),d(og))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _Y(){return{state:{ssrTransfer:{keys:{[vD]:Bo.TRANSFER_STATE}}}}}var LY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[Uo(_Y),TY],imports:[Ze,fr.forFeature(vD,GP,{metaReducers:RY}),Br.forFeature(yY)]});let t=e;return t})(),kY=[{provide:Jt,useExisting:PY,multi:!0},{provide:Jt,useExisting:OY,multi:!0},{provide:Jt,useExisting:FY,multi:!0},{provide:Jt,useExisting:NY,multi:!0}],bue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...kY]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({imports:[LY,hY]});let t=e;return t})(),WP=(()=>{let e=class e{constructor(n){this.adapter=n}getAll(n){return this.adapter.loadAll(n)}add(n,r){return this.adapter.add(n,r)}update(n,r,s){return this.adapter.update(n,r,s)}verify(n,r){return this.adapter.verify(n,r)}delete(n,r){return this.adapter.delete(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Dp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jY=(()=>{let e=class e{constructor(n){this.adapter=n}loadConsents(n){return this.adapter.loadConsents(n)}giveConsent(n,r,s){return this.adapter.giveConsent(n,r,s)}withdrawConsent(n,r,s){return this.adapter.withdrawConsent(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(bp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UY=(()=>{let e=class e{constructor(n){this.adapter=n}getActiveList(n){return this.adapter.loadActiveList(n)}};e.\u0275fac=function(r){return new(r||e)(d(wp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$Y=(()=>{let e=class e{constructor(n){this.adapter=n}getCustomerCoupons(n,r,s,o){return this.adapter.getCustomerCoupons(n,r,s,o)}turnOnNotification(n,r){return this.adapter.turnOnNotification(n,r)}turnOffNotification(n,r){return this.adapter.turnOffNotification(n,r)}claimCustomerCoupon(n,r){return this.adapter.claimCustomerCoupon(n,r)}disclaimCustomerCoupon(n,r){return this.adapter.disclaimCustomerCoupon(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Tp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BY=(()=>{let e=class e{constructor(n){this.adapter=n}getInterests(n,r,s,o,a,c){return this.adapter.getInterests(n,r,s,o,a,c)}removeInterest(n,r){return this.adapter.removeInterest(n,r)}addInterest(n,r,s){return this.adapter.addInterest(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Ap))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VY=(()=>{let e=class e{constructor(n){this.adapter=n}getAll(n){return this.adapter.loadAll(n)}delete(n,r){return this.adapter.delete(n,r)}setDefault(n,r){return this.adapter.setDefault(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Rp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gs=class extends Yr{},HY=(()=>{let e=class e extends gs{};e.type="UpdateUserAddressEvent";let t=e;return t})(),zY=(()=>{let e=class e extends gs{};e.type="DeleteUserAddressEvent";let t=e;return t})(),GY=(()=>{let e=class e extends gs{};e.type="AddUserAddressEvent";let t=e;return t})(),wue=(()=>{let e=class e extends gs{};e.type="LoadUserAddressesEvent";let t=e;return t})(),Tue=(()=>{let e=class e extends gs{};e.type="LoadUserPaymentMethodsEvent";let t=e;return t})(),qP=(()=>{let e=class e{constructor(n){this.stateEventService=n,this.register()}register(){this.updateUserAddressEvent(),this.deleteUserAddressEvent(),this.addUserAddressEvent()}updateUserAddressEvent(){this.stateEventService.register({action:Jp,event:HY})}addUserAddressEvent(){this.stateEventService.register({action:Qp,event:GY})}deleteUserAddressEvent(){this.stateEventService.register({action:Xp,event:zY})}};e.\u0275fac=function(r){return new(r||e)(d(UO))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),WY=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(qP))},e.\u0275mod=$({type:e}),e.\u0275inj=U({});let t=e;return t})();var Aue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadCustomerCoupons(n,r,s){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new Gf({userId:o,pageSize:n,currentPage:r,sort:s}))})}getCustomerCoupons(n){return Pe([this.store.pipe(M(ng)),this.getClaimCustomerCouponResultLoading()]).pipe(x(([,r])=>!r),L(([r])=>{r.loading||r.success||r.error||this.loadCustomerCoupons(n)}),E(([r])=>r.value),x(yn))}getCustomerCouponsLoaded(){return this.store.pipe(M(o4))}getCustomerCouponsLoading(){return this.store.pipe(M(a4))}subscribeCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Yf({userId:r,couponCode:n}))})}getSubscribeCustomerCouponResultLoading(){return this.store.pipe(M(Ci(fs)))}getSubscribeCustomerCouponResultSuccess(){return this.store.pipe(M(zr(fs)))}getSubscribeCustomerCouponResultError(){return this.store.pipe(M(Ei(fs)))}unsubscribeCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Qf({userId:r,couponCode:n}))})}getUnsubscribeCustomerCouponResultLoading(){return this.store.pipe(M(Ci(hs)))}getUnsubscribeCustomerCouponResultSuccess(){return this.store.pipe(M(zr(hs)))}getUnsubscribeCustomerCouponResultError(){return this.store.pipe(M(Ei(hs)))}claimCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new eh({userId:r,couponCode:n}))})}disclaimCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new th({userId:r,couponCode:n}))})}resetDisclaimCustomerCoupon(){this.store.dispatch(new nh)}getClaimCustomerCouponResultSuccess(){return this.store.pipe(M(zr(Mo)))}getClaimCustomerCouponResultLoading(){return this.store.pipe(M(Ci(Mo)))}getDisclaimCustomerCouponResultSuccess(){return this.store.pipe(M(zr(Fo)))}getClaimCustomerCouponResultError(){return this.store.pipe(M(Ei(Mo)))}getDisclaimCustomerCouponResultError(){return this.store.pipe(M(Ei(Fo)))}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qY=(()=>{let e=class e{constructor(n,r,s,o){this.store=n,this.userIdService=r,this.userAddressConnector=s,this.command=o,this.userAddressVerificationCommand=this.command.create(a=>this.userIdService.takeUserId(!1).pipe(O(c=>this.userAddressConnector.verify(c,a.address))))}loadAddresses(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Bh(n))})}addUserAddress(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new zh({userId:r,address:n}))})}setAddressAsDefault(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Sc({userId:r,addressId:n,address:{defaultAddress:!0}}))})}updateUserAddress(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Sc({userId:s,addressId:n,address:r}))})}deleteUserAddress(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Kh({userId:r,addressId:n}))})}getAddresses(){return this.store.pipe(M(C4))}getAddressesLoading(){return this.store.pipe(M(S4))}getAddressesLoadedSuccess(){return this.store.pipe(M(I4))}loadDeliveryCountries(){this.store.dispatch(new ah)}getDeliveryCountries(){return this.store.pipe(M(u4))}getCountry(n){return this.store.pipe(M(l4(n)))}loadRegions(n){this.store.dispatch(new kh(n))}clearRegions(){this.store.dispatch(new $h)}getRegions(n){return this.store.pipe(M(E4),E(({regions:r,country:s,loading:o,loaded:a})=>!n&&(o||a)?(this.clearRegions(),[]):o&&!a?[]:!o&&n!==s&&n?(s&&this.clearRegions(),this.loadRegions(n),[]):r))}verifyAddress(n){return this.userAddressVerificationCommand.execute({address:n})}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn),d(WP),d(D5))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Rue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadProductInterests(n,r,s,o,a){this.userIdService.takeUserId().subscribe(c=>{this.store.dispatch(new Lo({userId:c,pageSize:n,currentPage:r,sort:s,productCode:o,notificationType:a}))})}getProductInterests(){return this.store.pipe(M(v4))}getAndLoadProductInterests(n){return this.store.pipe(M(iD),L(r=>{r.loading||r.success||r.error||this.loadProductInterests(n)}),E(r=>r.value),x(yn))}getProdutInterestsLoading(){return this.store.pipe(M(y4))}removeProdutInterest(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Rh({userId:s,item:n,singleDelete:r}))})}getRemoveProdutInterestLoading(){return this.store.pipe(M(Ci(Po)))}getRemoveProdutInterestSuccess(){return this.store.pipe(M(zr(Po)))}addProductInterest(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Oh({userId:s,productCode:n,notificationType:r}))})}getAddProductInterestSuccess(){return this.store.pipe(M(zr(No)))}getAddProductInterestError(){return this.store.pipe(M(Ei(No)))}resetAddInterestState(){this.store.dispatch(new Fh)}resetRemoveInterestState(){this.store.dispatch(new _h)}clearProductInterests(){this.store.dispatch(new Lh)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}getPreferences(){return this.store.pipe(M(d4))}getEnabledPreferences(){return this.store.pipe(M(f4))}loadPreferences(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new lh(n))})}clearPreferences(){this.store.dispatch(new vh)}getPreferencesLoading(){return this.store.pipe(M(h4))}updatePreferences(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new hh({userId:r,preferences:n}))})}getUpdatePreferencesResultLoading(){return this.store.select(Ci(_c))}resetNotificationPreferences(){this.store.dispatch(new mh)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xue=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadPaymentMethods(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new _o(n))})}getPaymentMethods(){return this.store.pipe(M(p4))}getPaymentMethodsLoading(){return this.store.pipe(M(g4))}getPaymentMethodsLoadedSuccess(){return this.store.pipe(M(m4))}setPaymentMethodAsDefault(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Ch({userId:r,paymentMethodId:n}))})}deletePaymentMethod(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Dh({userId:r,paymentMethodId:n}))})}getAllBillingCountries(){return this.store.pipe(M(s4))}loadBillingCountries(){this.store.dispatch(new Vf)}};e.\u0275fac=function(r){return new(r||e)(d(me),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_x=class{},YY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(J),this.loadBillingCountries$=W(()=>this.actions$.pipe(B(uI),O(()=>this.siteConnector.getCountries(OS.BILLING).pipe(E(s=>new zf(s)),P(s=>I(new Hf(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Ho))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),KY=(()=>{let e=class e{constructor(n){this.actions$=n,this.clearMiscsData$=W(()=>this.actions$.pipe(B(Un,Nc),E(()=>new fp)))}};e.\u0275fac=function(r){return new(r||e)(d(Me))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),ZY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.customerCouponConnector=r,this.logger=C(J),this.loadCustomerCoupons$=W(()=>this.actions$.pipe(B(dI),E(s=>s.payload),G(s=>this.customerCouponConnector.getCustomerCoupons(s.userId,s.pageSize,s.currentPage,s.sort).pipe(E(o=>new qf(o)),P(o=>I(new Wf(q(o,this.logger)))))))),this.subscribeCustomerCoupon$=W(()=>this.actions$.pipe(B(hI),E(s=>s.payload),G(s=>this.customerCouponConnector.turnOnNotification(s.userId,s.couponCode).pipe(E(o=>new Zf(o)),P(o=>I(new Kf(q(o,this.logger)))))))),this.unsubscribeCustomerCoupon$=W(()=>this.actions$.pipe(B(gI),E(s=>s.payload),G(s=>this.customerCouponConnector.turnOffNotification(s.userId,s.couponCode).pipe(E(()=>new Xf(s.couponCode)),P(o=>I(new Jf(q(o,this.logger)))))))),this.claimCustomerCoupon$=W(()=>this.actions$.pipe(B(vI),E(s=>s.payload),G(s=>this.customerCouponConnector.claimCustomerCoupon(s.userId,s.couponCode).pipe(E(o=>new oh(o)),P(o=>I(new sh(q(o,this.logger)))))))),this.disclaimCustomerCoupon$=W(()=>this.actions$.pipe(B(yI),E(s=>s.payload),G(s=>this.customerCouponConnector.disclaimCustomerCoupon(s.userId,s.couponCode).pipe(E(o=>new ih(o)),P(o=>I(new rh(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d($Y))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),QY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(J),this.loadDeliveryCountries$=W(()=>this.actions$.pipe(B(EI),O(()=>this.siteConnector.getCountries(OS.SHIPPING).pipe(E(s=>new uh(s)),P(s=>I(new ch(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Ho))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),JY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.connector=r,this.logger=C(J),this.loadPreferences$=W(()=>this.actions$.pipe(B(SI),E(s=>s.payload),O(s=>this.connector.loadAll(s).pipe(E(o=>new fh(o)),P(o=>I(new dh(q(o,this.logger)))))))),this.updatePreferences$=W(()=>this.actions$.pipe(B(bI),E(s=>s.payload),G(s=>this.connector.update(s.userId,s.preferences).pipe(E(()=>new gh(s.preferences)),P(o=>I(new ph(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(kW))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),XY=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.userPaymentMethodConnector=r,this.globalMessageService=s,this.logger=C(J),this.loadUserPaymentMethods$=W(()=>this.actions$.pipe(B(TI),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.getAll(o).pipe(E(a=>new Eh(a)),P(a=>I(new yh(q(a,this.logger)))))))),this.setDefaultUserPaymentMethod$=W(()=>this.actions$.pipe(B(MI),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.setDefault(o.userId,o.paymentMethodId).pipe(O(a=>[new Ih(a),new _o(o.userId)]),P(a=>I(new Sh(q(a,this.logger)))))))),this.deleteUserPaymentMethod$=W(()=>this.actions$.pipe(B(xI),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.delete(o.userId,o.paymentMethodId).pipe(O(a=>(this.globalMessageService.add({key:"paymentCard.deletePaymentSuccess"},ke.MSG_TYPE_CONFIRMATION),[new wh(a),new _o(o.userId)])),P(a=>I(new bh(q(a,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(VY),d(Vo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),e9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userInterestsConnector=r,this.logger=C(J),this.loadProductInteres$=W(()=>this.actions$.pipe(B(OI),E(s=>s.payload),O(s=>this.userInterestsConnector.getInterests(s.userId,s.pageSize,s.currentPage,s.sort,s.productCode,s.notificationType).pipe(E(o=>new Ah(o)),P(o=>I(new Th(q(o,this.logger)))))))),this.removeProductInterest$=W(()=>this.actions$.pipe(B(FI),E(s=>s.payload),O(s=>this.userInterestsConnector.removeInterest(s.userId,s.item).pipe(O(o=>[new Lo(s.singleDelete?{userId:s.userId,productCode:s.item.product?.code,notificationType:s.item.productInterestEntry?.[0].interestType}:{userId:s.userId}),new Mh(o)]),P(o=>I(new xh(q(o,this.logger)))))))),this.addProductInterest$=W(()=>this.actions$.pipe(B(_I),E(s=>s.payload),O(s=>this.userInterestsConnector.addInterest(s.userId,s.productCode,s.notificationType).pipe(O(o=>[new Lo({userId:s.userId,productCode:s.productCode,notificationType:s.notificationType}),new Nh(o)]),P(o=>I(new Ph(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(BY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),t9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(J),this.loadRegions$=W(()=>this.actions$.pipe(B(LI),E(s=>s.payload),O(s=>this.siteConnector.getRegions(s).pipe(E(o=>new Uh({entities:o,country:s})),P(o=>I(new jh(q(o,this.logger)))))))),this.resetRegions$=W(()=>this.actions$.pipe(B(Bc,jI),E(()=>new Wr(kc))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(Ho))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),n9=(()=>{let e=class e{constructor(n,r,s,o){this.actions$=n,this.userAddressConnector=r,this.userAddressService=s,this.messageService=o,this.logger=C(J),this.loadUserAddresses$=W(()=>this.actions$.pipe(B(UI),E(a=>a.payload),O(a=>this.userAddressConnector.getAll(a).pipe(E(c=>new Hh(c)),P(c=>I(new Vh(q(c,this.logger)))))))),this.addUserAddress$=W(()=>this.actions$.pipe(B(Qp),E(a=>a.payload),G(a=>this.userAddressConnector.add(a.userId,a.address).pipe(E(c=>new Wh(c)),P(c=>I(new Gh(q(c,this.logger)))))))),this.updateUserAddress$=W(()=>this.actions$.pipe(B(Jp),E(a=>a.payload),G(a=>this.userAddressConnector.update(a.userId,a.addressId,a.address).pipe(E(()=>new Yh(a)),P(c=>(this.showGlobalMessage("addressForm.invalidAddress",ke.MSG_TYPE_ERROR),I(new qh(q(c,this.logger))))))))),this.deleteUserAddress$=W(()=>this.actions$.pipe(B(Xp),E(a=>a.payload),G(a=>this.userAddressConnector.delete(a.userId,a.addressId).pipe(E(c=>new Qh(c)),P(c=>I(new Zh(q(c,this.logger)))))))),this.showGlobalMessageOnAddSuccess$=W(()=>this.actions$.pipe(B(VI),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressAddSuccess")})),{dispatch:!1}),this.showGlobalMessageOnUpdateSuccess$=W(()=>this.actions$.pipe(B(HI),E(a=>a.payload),L(a=>{this.loadAddresses(),(Object.keys(a?.address).length!==1||!a?.address?.defaultAddress)&&this.showGlobalMessage("addressForm.userAddressUpdateSuccess")})),{dispatch:!1}),this.showGlobalMessageOnDeleteSuccess$=W(()=>this.actions$.pipe(B(zI),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressDeleteSuccess")})),{dispatch:!1})}showGlobalMessage(n,r){this.messageService.add({key:n},r??ke.MSG_TYPE_CONFIRMATION)}loadAddresses(){this.userAddressService.loadAddresses()}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(WP),d(qY),d(Vo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),r9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userConsentConnector=r,this.logger=C(J),this.resetConsents$=W(()=>this.actions$.pipe(B(Un),E(()=>new Ic))),this.getConsents$=W(()=>this.actions$.pipe(B(GI),E(s=>s.payload),je(s=>this.userConsentConnector.loadConsents(s).pipe(E(o=>new tp(o)),P(o=>I(new ep(q(o,this.logger)))))))),this.giveConsent$=W(()=>this.actions$.pipe(B(qI,Jh),je(s=>this.userConsentConnector.giveConsent(s.payload.userId,s.payload.consentTemplateId??"",s.payload.consentTemplateVersion??0).pipe(E(o=>new rp(o)),P(o=>{let a=[new np(q(o,this.logger))];return s.type===Jh&&o.status===409&&a.push(new Bf(ke.MSG_TYPE_ERROR)),I(...a)}))))),this.withdrawConsent$=W(()=>this.actions$.pipe(B(KI),E(s=>s.payload),je(({userId:s,consentCode:o,consentId:a})=>this.userConsentConnector.withdrawConsent(s,o,a).pipe(E(()=>new cp),P(c=>I(new ap(q(c,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(jY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),i9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userCostCenterConnector=r,this.logger=C(J),this.loadActiveCostCenters$=W(()=>this.actions$.pipe(B(ZI),E(s=>s.payload),O(s=>this.userCostCenterConnector.getActiveList(s).pipe(E(o=>new dp(o.values)),P(o=>I(new lp(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Me),d(UY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),s9=[KY,QY,t9,n9,XY,YY,r9,ZY,JY,e9,i9],Lx={entities:{}};function o9(t=Lx,e){switch(e.type){case lI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Bc:return Lx}return t}var a9={coupons:[],sorts:[],pagination:{}};function c9(t=a9,e){switch(e.type){case fI:return e.payload;case pI:{let i=e.payload.coupon,n=new Array(t.coupons?.length??0);return t.coupons?.forEach((r,s)=>i&&r.couponId===i.couponId?n[s]=i:n[s]=r),T(v({},t),{coupons:n})}case mI:{let i=e.payload,n=new Array(t.coupons?.length??0);return t.coupons?.forEach((r,s)=>r.couponId===i?n[s]=T(v({},r),{notificationOn:!1}):n[s]=r),T(v({},t),{coupons:n})}}return t}var kx={entities:{}};function u9(t=kx,e){switch(e.type){case CI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Bc:return kx}return t}var uC=[];function l9(t=uC,e){switch(e.type){case II:return uC;case DI:case wI:return e.payload?e.payload:uC}return t}var lC=[];function d9(t=lC,e){switch(e.type){case RI:return e.payload?e.payload:lC;case AI:return lC}return t}var dC={results:[],pagination:{},sorts:[]};function f9(t=dC,e){switch(e.type){case PI:return e.payload?e.payload:dC;case NI:return dC}return t}var jx={entities:[],country:null};function h9(t=jx,e){switch(e.type){case kI:{let i=e.payload.entities,n=e.payload.country;return i||n?T(v({},t),{entities:i,country:n}):jx}}return t}var fC=[];function p9(t=fC,e){switch(e.type){case $I:return fC;case BI:return e.payload?e.payload:fC}return t}var Ux=[];function g9(t=Ux,e){switch(e.type){case WI:{let i=e.payload;return i||Ux}case YI:{let i=e.consentTemplate;return t.map(n=>n.id===i.id?i:n)}}return t}var hC=[];function m9(t=hC,e){switch(e.type){case QI:return hC;case JI:return e.payload?e.payload:hC}return t}function v9(){return{addresses:at(en,p9),billingCountries:o9,consents:at(Lc,g9),payments:at(Er,d9),countries:u9,regions:at(kc,h9),customerCoupons:at(jc,c9),notificationPreferences:at(Uc,l9),productInterests:at($c,f9),costCenters:at(Zp,m9)}}var YP=new S("UserReducers"),y9={provide:YP,useFactory:v9};function E9(t){return function(e,i){return i.type===Kr&&(e=void 0),t(e,i)}}var C9=[E9],S9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[y9],imports:[Ze,Ti,fr.forFeature(qO,YP,{metaReducers:C9}),Br.forFeature(s9),$R]});let t=e;return t})(),Oue=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$({type:e}),e.\u0275inj=U({providers:[qP],imports:[S9,WY]});let t=e;return t})();export{v as a,T as b,I9 as c,nt as d,Ee as e,z as f,re as g,Te as h,sn as i,Dg as j,ti as k,d_ as l,pe as m,x9 as n,O9 as o,nn as p,he as q,I as r,At as s,Yn as t,E as u,Pe as v,G as w,Hn as x,zn as y,qe as z,wu as A,Zo as B,Qo as C,Wt as D,C_ as E,on as F,wg as G,x as H,Tg as I,Ms as J,D_ as K,P as L,je as M,w_ as N,Pi as O,oe as P,Mu as Q,Kn as R,rn as S,T_ as T,XD as U,R_ as V,Sn as W,Rt as X,ii as Y,ta as Z,M_ as _,Fi as $,Os as aa,ht as ba,Pg as ca,Ou as da,Gn as ea,O as fa,na as ga,a_ as ha,L as ia,x_ as ja,rt as ka,j as la,cw as ma,m as na,U as oa,S as pa,d as qa,C as ra,lv as sa,un as ta,an as ua,Dw as va,$ as wa,Ot as xa,ln as ya,nr as za,li as Aa,Fie as Ba,_ie as Ca,We as Da,wv as Ea,Ye as Fa,ir as Ga,pt as Ha,$e as Ia,fn as Ja,Lie as Ka,kie as La,sj as Ma,jie as Na,Uie as Oa,$ie as Pa,X as Qa,Rn as Ra,Pm as Sa,cl as Ta,jl as Ua,Gi as Va,Zs as Wa,Ce as Xa,Bt as Ya,g1 as Za,w1 as _a,Kv as $a,V1 as ab,w0 as bb,H1 as cb,zie as db,Gie as eb,Wie as fb,P0 as gb,F0 as hb,Jv as ib,_0 as jb,L0 as kb,n$ as lb,qie as mb,i$ as nb,Xv as ob,Yie as pb,Kie as qb,Zie as rb,f$ as sb,j0 as tb,U0 as ub,Qie as vb,$0 as wb,B0 as xb,Jie as yb,Xie as zb,g$ as Ab,V0 as Bb,m$ as Cb,v$ as Db,y$ as Eb,ese as Fb,E$ as Gb,tse as Hb,nse as Ib,rse as Jb,ise as Kb,sse as Lb,ose as Mb,ase as Nb,cse as Ob,use as Pb,lse as Qb,dse as Rb,fse as Sb,hse as Tb,Xs as Ub,bt as Vb,eo as Wb,Zi as Xb,ge as Yb,Pr as Zb,sy as _b,xa as $b,hi as ac,_e as bc,ar as cc,Nse as dc,Pse as ec,Fse as fc,_se as gc,Lse as hc,kse as ic,TA as jc,jse as kc,Use as lc,$se as mc,Bse as nc,Vse as oc,Hse as pc,zse as qc,FB as rc,Gse as sc,Ze as tc,On as uc,Qi as vc,RA as wc,le as xc,Ay as yc,ze as zc,Ji as Ac,Ht as Bc,Le as Cc,pn as Dc,roe as Ec,ioe as Fc,soe as Gc,voe as Hc,yoe as Ic,$y as Jc,ZA as Kc,TV as Lc,$r as Mc,ho as Nc,me as Oc,M as Pc,A as Qc,Nn as Rc,fr as Sc,W as Tc,Me as Uc,B as Vc,Br as Wc,mn as Xc,st as Yc,vn as Zc,Sd as _c,Ur as $c,n2 as ad,ic as bd,Oe as cd,rR as dd,Loe as ed,$R as fd,Zd as gd,pf as hd,yt as id,Lt as jd,wc as kd,jo as ld,px as md,Ln as nd,Uo as od,be as pd,jG as qd,UG as rd,Oo as sd,mf as td,$G as ud,BG as vd,VG as wd,bce as xd,wo as yd,To as zd,m8 as Ad,wce as Bd,Tce as Cd,jn as Dd,y8 as Ed,mc as Fd,Zr as Gd,yr as Hd,$p as Id,bi as Jd,EO as Kd,Mc as Ld,J as Md,Hp as Nd,xc as Od,IO as Pd,wi as Qd,ZS as Rd,yn as Sd,yc as Td,Si as Ud,ms as Vd,vs as Wd,qr as Xd,A8 as Yd,Rce as Zd,ys as _d,$8 as $d,$n as ae,Fc as be,jC as ce,xce as de,Ec as ee,VC as fe,Qe as ge,Ro as he,qp as ie,Ti as je,q as ke,_n as le,Ii as me,Yr as ne,Ix as oe,u3 as pe,Es as qe,UO as re,ke as se,Vo as te,p3 as ue,Oce as ve,I3 as we,Nce as xe,GO as ye,ae as ze,Pce as Ae,Fce as Be,x3 as Ce,eD as De,eg as Ee,_ce as Fe,Lce as Ge,kce as He,jN as Ie,Vc as Je,UN as Ke,z3 as Le,G3 as Me,mp as Ne,Je as Oe,Uce as Pe,ps as Qe,qN as Re,$ce as Se,Bce as Te,Cs as Ue,Hc as Ve,XN as We,oC as Xe,UW as Ye,Vce as Ze,R4 as _e,Ax as $e,Rx as af,Mp as bf,oD as cf,hq as df,Kce as ef,sg as ff,Jt as gf,vr as hf,og as if,Kq as jf,pD as kf,gD as lf,Zce as mf,Qce as nf,Jce as of,d6 as pf,Xce as qf,eue as rf,tue as sf,Qr as tf,vt as uf,mD as vf,nue as wf,Io as xf,D5 as yf,rue as zf,iue as Af,sue as Bf,oue as Cf,aue as Df,cue as Ef,uue as Ff,lue as Gf,due as Hf,fue as If,hue as Jf,Ox as Kf,R5 as Lf,pue as Mf,O5 as Nf,gue as Of,mue as Pf,j5 as Qf,U5 as Rf,vue as Sf,yue as Tf,$5 as Uf,Eue as Vf,V5 as Wf,G5 as Xf,Yc as Yf,Sue as Zf,Iue as _f,xY as $f,Due as ag,bue as bg,gs as cg,HY as dg,zY as eg,wue as fg,Tue as gg,Aue as hg,qY as ig,Rue as jg,Mue as kg,xue as lg,_x as mg,Oue as ng};
